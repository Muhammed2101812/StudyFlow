"use strict";const ye=require("electron"),ht=require("path"),yc=require("fs/promises"),_c=require("util"),Ws=require("fs"),ku=require("crypto"),Cu=require("assert"),Du=require("events"),Mu=require("os");var Zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ps={exports:{}},Fu=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const zt=Fu,Vu=new Set(["__proto__","prototype","constructor"]),Uu=e=>!e.some(t=>Vu.has(t));function xr(e){const t=e.split("."),r=[];for(let n=0;n<t.length;n++){let s=t[n];for(;s[s.length-1]==="\\"&&t[n+1]!==void 0;)s=s.slice(0,-1)+".",s+=t[++n];r.push(s)}return Uu(r)?r:[]}var zu={get(e,t,r){if(!zt(e)||typeof t!="string")return r===void 0?e:r;const n=xr(t);if(n.length!==0){for(let s=0;s<n.length;s++)if(e=e[n[s]],e==null){if(s!==n.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!zt(e)||typeof t!="string")return e;const n=e,s=xr(t);for(let a=0;a<s.length;a++){const i=s[a];zt(e[i])||(e[i]={}),a===s.length-1&&(e[i]=r),e=e[i]}return n},delete(e,t){if(!zt(e)||typeof t!="string")return!1;const r=xr(t);for(let n=0;n<r.length;n++){const s=r[n];if(n===r.length-1)return delete e[s],!0;if(e=e[s],!zt(e))return!1}},has(e,t){if(!zt(e)||typeof t!="string")return!1;const r=xr(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(zt(e)){if(!(r[n]in e))return!1;e=e[r[n]]}else return!1;return!0}},Js={exports:{}},Bs={exports:{}},Xs={exports:{}},Ys={exports:{}};const gc=Ws;Ys.exports=e=>new Promise(t=>{gc.access(e,r=>{t(!r)})});Ys.exports.sync=e=>{try{return gc.accessSync(e),!0}catch{return!1}};var qu=Ys.exports,Qs={exports:{}},Zs={exports:{}};const vc=(e,...t)=>new Promise(r=>{r(e(...t))});Zs.exports=vc;Zs.exports.default=vc;var Ku=Zs.exports;const Gu=Ku,wc=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},s=(u,c,...d)=>{r++;const l=Gu(u,...d);c(l),l.then(n,n)},a=(u,c,...d)=>{r<e?s(u,c,...d):t.push(s.bind(null,u,c,...d))},i=(u,...c)=>new Promise(d=>a(u,d,...c));return Object.defineProperties(i,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),i};Qs.exports=wc;Qs.exports.default=wc;var Hu=Qs.exports;const Yo=Hu;class Ec extends Error{constructor(t){super(),this.value=t}}const Wu=(e,t)=>Promise.resolve(e).then(t),Ju=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new Ec(t[0])));var Bu=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=Yo(r.concurrency),s=[...e].map(i=>[i,n(Wu,i,t)]),a=Yo(r.preserveOrder?1:1/0);return Promise.all(s.map(i=>a(Ju,i))).then(()=>{}).catch(i=>i instanceof Ec?i.value:Promise.reject(i))};const Sc=ht,bc=qu,Xu=Bu;Xs.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),Xu(e,r=>bc(Sc.resolve(t.cwd,r)),t));Xs.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(bc.sync(Sc.resolve(t.cwd,r)))return r};var Yu=Xs.exports;const wt=ht,Pc=Yu;Bs.exports=(e,t={})=>{const r=wt.resolve(t.cwd||""),{root:n}=wt.parse(r),s=[].concat(e);return new Promise(a=>{(function i(u){Pc(s,{cwd:u}).then(c=>{c?a(wt.join(u,c)):u===n?a(null):i(wt.dirname(u))})})(r)})};Bs.exports.sync=(e,t={})=>{let r=wt.resolve(t.cwd||"");const{root:n}=wt.parse(r),s=[].concat(e);for(;;){const a=Pc.sync(s,{cwd:r});if(a)return wt.join(r,a);if(r===n)return null;r=wt.dirname(r)}};var Qu=Bs.exports;const Nc=Qu;Js.exports=async({cwd:e}={})=>Nc("package.json",{cwd:e});Js.exports.sync=({cwd:e}={})=>Nc.sync("package.json",{cwd:e});var Zu=Js.exports,xs={exports:{}};const me=ht,Oc=Mu,vt=Oc.homedir(),ea=Oc.tmpdir(),{env:or}=process,xu=e=>{const t=me.join(vt,"Library");return{data:me.join(t,"Application Support",e),config:me.join(t,"Preferences",e),cache:me.join(t,"Caches",e),log:me.join(t,"Logs",e),temp:me.join(ea,e)}},ed=e=>{const t=or.APPDATA||me.join(vt,"AppData","Roaming"),r=or.LOCALAPPDATA||me.join(vt,"AppData","Local");return{data:me.join(r,e,"Data"),config:me.join(t,e,"Config"),cache:me.join(r,e,"Cache"),log:me.join(r,e,"Log"),temp:me.join(ea,e)}},td=e=>{const t=me.basename(vt);return{data:me.join(or.XDG_DATA_HOME||me.join(vt,".local","share"),e),config:me.join(or.XDG_CONFIG_HOME||me.join(vt,".config"),e),cache:me.join(or.XDG_CACHE_HOME||me.join(vt,".cache"),e),log:me.join(or.XDG_STATE_HOME||me.join(vt,".local","state"),e),temp:me.join(ea,t,e)}},Rc=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?xu(e):process.platform==="win32"?ed(e):td(e)};xs.exports=Rc;xs.exports.default=Rc;var rd=xs.exports,nt={},ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.NOOP=ae.LIMIT_FILES_DESCRIPTORS=ae.LIMIT_BASENAME_LENGTH=ae.IS_USER_ROOT=ae.IS_POSIX=ae.DEFAULT_TIMEOUT_SYNC=ae.DEFAULT_TIMEOUT_ASYNC=ae.DEFAULT_WRITE_OPTIONS=ae.DEFAULT_READ_OPTIONS=ae.DEFAULT_FOLDER_MODE=ae.DEFAULT_FILE_MODE=ae.DEFAULT_ENCODING=void 0;const nd="utf8";ae.DEFAULT_ENCODING=nd;const sd=438;ae.DEFAULT_FILE_MODE=sd;const ad=511;ae.DEFAULT_FOLDER_MODE=ad;const od={};ae.DEFAULT_READ_OPTIONS=od;const id={};ae.DEFAULT_WRITE_OPTIONS=id;const cd=5e3;ae.DEFAULT_TIMEOUT_ASYNC=cd;const ld=100;ae.DEFAULT_TIMEOUT_SYNC=ld;const ud=!!process.getuid;ae.IS_POSIX=ud;const dd=process.getuid?!process.getuid():!1;ae.IS_USER_ROOT=dd;const fd=128;ae.LIMIT_BASENAME_LENGTH=fd;const hd=1e4;ae.LIMIT_FILES_DESCRIPTORS=hd;const md=()=>{};ae.NOOP=md;var Kn={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.attemptifySync=dr.attemptifyAsync=void 0;const Tc=ae,pd=(e,t=Tc.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};dr.attemptifyAsync=pd;const $d=(e,t=Tc.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};dr.attemptifySync=$d;var ta={};Object.defineProperty(ta,"__esModule",{value:!0});const yd=ae,Ic={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!yd.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!Ic.isChangeErrorOk(e))throw e}};ta.default=Ic;var fr={},ra={};Object.defineProperty(ra,"__esModule",{value:!0});const _d=ae,le={interval:25,intervalId:void 0,limit:_d.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{le.intervalId||(le.intervalId=setInterval(le.tick,le.interval))},reset:()=>{le.intervalId&&(clearInterval(le.intervalId),delete le.intervalId)},add:e=>{le.queueWaiting.add(e),le.queueActive.size<le.limit/2?le.tick():le.init()},remove:e=>{le.queueWaiting.delete(e),le.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>le.remove(r),r=()=>e(t);le.add(r)}),tick:()=>{if(!(le.queueActive.size>=le.limit)){if(!le.queueWaiting.size)return le.reset();for(const e of le.queueWaiting){if(le.queueActive.size>=le.limit)break;le.queueWaiting.delete(e),le.queueActive.add(e),e()}}}};ra.default=le;Object.defineProperty(fr,"__esModule",{value:!0});fr.retryifySync=fr.retryifyAsync=void 0;const gd=ra,vd=(e,t)=>function(r){return function n(){return gd.default.schedule().then(s=>e.apply(void 0,arguments).then(a=>(s(),a),a=>{if(s(),Date.now()>=r)throw a;if(t(a)){const i=Math.round(100+400*Math.random());return new Promise(c=>setTimeout(c,i)).then(()=>n.apply(void 0,arguments))}throw a}))}};fr.retryifyAsync=vd;const wd=(e,t)=>function(r){return function n(){try{return e.apply(void 0,arguments)}catch(s){if(Date.now()>r)throw s;if(t(s))return n.apply(void 0,arguments);throw s}}};fr.retryifySync=wd;Object.defineProperty(Kn,"__esModule",{value:!0});const oe=Ws,Re=_c,Te=dr,ve=ta,ke=fr,Ed={chmodAttempt:Te.attemptifyAsync(Re.promisify(oe.chmod),ve.default.onChangeError),chownAttempt:Te.attemptifyAsync(Re.promisify(oe.chown),ve.default.onChangeError),closeAttempt:Te.attemptifyAsync(Re.promisify(oe.close)),fsyncAttempt:Te.attemptifyAsync(Re.promisify(oe.fsync)),mkdirAttempt:Te.attemptifyAsync(Re.promisify(oe.mkdir)),realpathAttempt:Te.attemptifyAsync(Re.promisify(oe.realpath)),statAttempt:Te.attemptifyAsync(Re.promisify(oe.stat)),unlinkAttempt:Te.attemptifyAsync(Re.promisify(oe.unlink)),closeRetry:ke.retryifyAsync(Re.promisify(oe.close),ve.default.isRetriableError),fsyncRetry:ke.retryifyAsync(Re.promisify(oe.fsync),ve.default.isRetriableError),openRetry:ke.retryifyAsync(Re.promisify(oe.open),ve.default.isRetriableError),readFileRetry:ke.retryifyAsync(Re.promisify(oe.readFile),ve.default.isRetriableError),renameRetry:ke.retryifyAsync(Re.promisify(oe.rename),ve.default.isRetriableError),statRetry:ke.retryifyAsync(Re.promisify(oe.stat),ve.default.isRetriableError),writeRetry:ke.retryifyAsync(Re.promisify(oe.write),ve.default.isRetriableError),chmodSyncAttempt:Te.attemptifySync(oe.chmodSync,ve.default.onChangeError),chownSyncAttempt:Te.attemptifySync(oe.chownSync,ve.default.onChangeError),closeSyncAttempt:Te.attemptifySync(oe.closeSync),mkdirSyncAttempt:Te.attemptifySync(oe.mkdirSync),realpathSyncAttempt:Te.attemptifySync(oe.realpathSync),statSyncAttempt:Te.attemptifySync(oe.statSync),unlinkSyncAttempt:Te.attemptifySync(oe.unlinkSync),closeSyncRetry:ke.retryifySync(oe.closeSync,ve.default.isRetriableError),fsyncSyncRetry:ke.retryifySync(oe.fsyncSync,ve.default.isRetriableError),openSyncRetry:ke.retryifySync(oe.openSync,ve.default.isRetriableError),readFileSyncRetry:ke.retryifySync(oe.readFileSync,ve.default.isRetriableError),renameSyncRetry:ke.retryifySync(oe.renameSync,ve.default.isRetriableError),statSyncRetry:ke.retryifySync(oe.statSync,ve.default.isRetriableError),writeSyncRetry:ke.retryifySync(oe.writeSync,ve.default.isRetriableError)};Kn.default=Ed;var na={};Object.defineProperty(na,"__esModule",{value:!0});const Sd={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};na.default=Sd;var sa={};Object.defineProperty(sa,"__esModule",{value:!0});const en={},Ns={next:e=>{const t=en[e];if(!t)return;t.shift();const r=t[0];r?r(()=>Ns.next(e)):delete en[e]},schedule:e=>new Promise(t=>{let r=en[e];r||(r=en[e]=[]),r.push(t),!(r.length>1)&&t(()=>Ns.next(e))})};sa.default=Ns;var aa={};Object.defineProperty(aa,"__esModule",{value:!0});const bd=ht,Qo=ae,Zo=Kn,Ve={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",s=`.${n}${r}${t}`;return`${e}${s}`},get:(e,t,r=!0)=>{const n=Ve.truncate(t(e));return n in Ve.store?Ve.get(e,t,r):(Ve.store[n]=r,[n,()=>delete Ve.store[n]])},purge:e=>{Ve.store[e]&&(delete Ve.store[e],Zo.default.unlinkAttempt(e))},purgeSync:e=>{Ve.store[e]&&(delete Ve.store[e],Zo.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in Ve.store)Ve.purgeSync(e)},truncate:e=>{const t=bd.basename(e);if(t.length<=Qo.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-Qo.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",Ve.purgeSyncAll);aa.default=Ve;Object.defineProperty(nt,"__esModule",{value:!0});nt.writeFileSync=nt.writeFile=nt.readFileSync=nt.readFile=void 0;const jc=ht,Se=ae,se=Kn,Ue=na,Pd=sa,Et=aa;function Ac(e,t=Se.DEFAULT_READ_OPTIONS){var r;if(Ue.default.isString(t))return Ac(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:Se.DEFAULT_TIMEOUT_ASYNC);return se.default.readFileRetry(n)(e,t)}nt.readFile=Ac;function kc(e,t=Se.DEFAULT_READ_OPTIONS){var r;if(Ue.default.isString(t))return kc(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:Se.DEFAULT_TIMEOUT_SYNC);return se.default.readFileSyncRetry(n)(e,t)}nt.readFileSync=kc;const Cc=(e,t,r,n)=>{if(Ue.default.isFunction(r))return Cc(e,t,Se.DEFAULT_WRITE_OPTIONS,r);const s=Dc(e,t,r);return n&&s.then(n,n),s};nt.writeFile=Cc;const Dc=async(e,t,r=Se.DEFAULT_WRITE_OPTIONS)=>{var n;if(Ue.default.isString(r))return Dc(e,t,{encoding:r});const s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:Se.DEFAULT_TIMEOUT_ASYNC);let a=null,i=null,u=null,c=null,d=null;try{r.schedule&&(a=await r.schedule(e)),i=await Pd.default.schedule(e),e=await se.default.realpathAttempt(e)||e,[c,u]=Et.default.get(e,r.tmpCreate||Et.default.create,r.tmpPurge!==!1);const l=Se.IS_POSIX&&Ue.default.isUndefined(r.chown),m=Ue.default.isUndefined(r.mode);if(l||m){const _=await se.default.statAttempt(e);_&&(r={...r},l&&(r.chown={uid:_.uid,gid:_.gid}),m&&(r.mode=_.mode))}const P=jc.dirname(e);await se.default.mkdirAttempt(P,{mode:Se.DEFAULT_FOLDER_MODE,recursive:!0}),d=await se.default.openRetry(s)(c,"w",r.mode||Se.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(c),Ue.default.isString(t)?await se.default.writeRetry(s)(d,t,0,r.encoding||Se.DEFAULT_ENCODING):Ue.default.isUndefined(t)||await se.default.writeRetry(s)(d,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await se.default.fsyncRetry(s)(d):se.default.fsyncAttempt(d)),await se.default.closeRetry(s)(d),d=null,r.chown&&await se.default.chownAttempt(c,r.chown.uid,r.chown.gid),r.mode&&await se.default.chmodAttempt(c,r.mode);try{await se.default.renameRetry(s)(c,e)}catch(_){if(_.code!=="ENAMETOOLONG")throw _;await se.default.renameRetry(s)(c,Et.default.truncate(e))}u(),c=null}finally{d&&await se.default.closeAttempt(d),c&&Et.default.purge(c),a&&a(),i&&i()}},Mc=(e,t,r=Se.DEFAULT_WRITE_OPTIONS)=>{var n;if(Ue.default.isString(r))return Mc(e,t,{encoding:r});const s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:Se.DEFAULT_TIMEOUT_SYNC);let a=null,i=null,u=null;try{e=se.default.realpathSyncAttempt(e)||e,[i,a]=Et.default.get(e,r.tmpCreate||Et.default.create,r.tmpPurge!==!1);const c=Se.IS_POSIX&&Ue.default.isUndefined(r.chown),d=Ue.default.isUndefined(r.mode);if(c||d){const m=se.default.statSyncAttempt(e);m&&(r={...r},c&&(r.chown={uid:m.uid,gid:m.gid}),d&&(r.mode=m.mode))}const l=jc.dirname(e);se.default.mkdirSyncAttempt(l,{mode:Se.DEFAULT_FOLDER_MODE,recursive:!0}),u=se.default.openSyncRetry(s)(i,"w",r.mode||Se.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(i),Ue.default.isString(t)?se.default.writeSyncRetry(s)(u,t,0,r.encoding||Se.DEFAULT_ENCODING):Ue.default.isUndefined(t)||se.default.writeSyncRetry(s)(u,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?se.default.fsyncSyncRetry(s)(u):se.default.fsyncAttempt(u)),se.default.closeSyncRetry(s)(u),u=null,r.chown&&se.default.chownSyncAttempt(i,r.chown.uid,r.chown.gid),r.mode&&se.default.chmodSyncAttempt(i,r.mode);try{se.default.renameSyncRetry(s)(i,e)}catch(m){if(m.code!=="ENAMETOOLONG")throw m;se.default.renameSyncRetry(s)(i,Et.default.truncate(e))}a(),i=null}finally{u&&se.default.closeSyncAttempt(u),i&&Et.default.purge(i)}};nt.writeFileSync=Mc;var Os={exports:{}},Lc={},Ye={},hr={},Jr={},te={},Hr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(w){if(super(),!e.IDENTIFIER.test(w))throw new Error("CodeGen: name must be a valid identifier");this.str=w}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(w){super(),this._items=typeof w=="string"?[w]:w}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const w=this._items[0];return w===""||w==='""'}get str(){var w;return(w=this._str)!==null&&w!==void 0?w:this._str=this._items.reduce((N,R)=>`${N}${R}`,"")}get names(){var w;return(w=this._names)!==null&&w!==void 0?w:this._names=this._items.reduce((N,R)=>(R instanceof r&&(N[R.str]=(N[R.str]||0)+1),N),{})}}e._Code=n,e.nil=new n("");function s(h,...w){const N=[h[0]];let R=0;for(;R<w.length;)u(N,w[R]),N.push(h[++R]);return new n(N)}e._=s;const a=new n("+");function i(h,...w){const N=[_(h[0])];let R=0;for(;R<w.length;)N.push(a),u(N,w[R]),N.push(a,_(h[++R]));return c(N),new n(N)}e.str=i;function u(h,w){w instanceof n?h.push(...w._items):w instanceof r?h.push(w):h.push(m(w))}e.addCodeArg=u;function c(h){let w=1;for(;w<h.length-1;){if(h[w]===a){const N=d(h[w-1],h[w+1]);if(N!==void 0){h.splice(w-1,3,N);continue}h[w++]="+"}w++}}function d(h,w){if(w==='""')return h;if(h==='""')return w;if(typeof h=="string")return w instanceof r||h[h.length-1]!=='"'?void 0:typeof w!="string"?`${h.slice(0,-1)}${w}"`:w[0]==='"'?h.slice(0,-1)+w.slice(1):void 0;if(typeof w=="string"&&w[0]==='"'&&!(h instanceof r))return`"${h}${w.slice(1)}`}function l(h,w){return w.emptyStr()?h:h.emptyStr()?w:i`${h}${w}`}e.strConcat=l;function m(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:_(Array.isArray(h)?h.join(","):h)}function P(h){return new n(_(h))}e.stringify=P;function _(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=_;function E(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):s`[${h}]`}e.getProperty=E;function g(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=g;function y(h){return new n(h.toString())}e.regexpCode=y})(Hr);var Rs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Hr;class r extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:d,parent:l}={}){this._names={},this._prefixes=d,this._parent=l}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const l=this._names[d]||this._nameGroup(d);return`${d}${l.index++}`}_nameGroup(d){var l,m;if(!((m=(l=this._parent)===null||l===void 0?void 0:l._prefixes)===null||m===void 0)&&m.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=s;class a extends t.Name{constructor(d,l){super(l),this.prefix=d}setValue(d,{property:l,itemIndex:m}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(l)}[${m}]`}}e.ValueScopeName=a;const i=(0,t._)`\n`;class u extends s{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?i:t.nil}}get(){return this._scope}name(d){return new a(d,this._newName(d))}value(d,l){var m;if(l.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const P=this.toName(d),{prefix:_}=P,E=(m=l.key)!==null&&m!==void 0?m:l.ref;let g=this._values[_];if(g){const w=g.get(E);if(w)return w}else g=this._values[_]=new Map;g.set(E,P);const y=this._scope[_]||(this._scope[_]=[]),h=y.length;return y[h]=l.ref,P.setValue(l,{property:_,itemIndex:h}),P}getValue(d,l){const m=this._values[d];if(m)return m.get(l)}scopeRefs(d,l=this._values){return this._reduceValues(l,m=>{if(m.scopePath===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return(0,t._)`${d}${m.scopePath}`})}scopeCode(d=this._values,l,m){return this._reduceValues(d,P=>{if(P.value===void 0)throw new Error(`CodeGen: name "${P}" has no value`);return P.value.code},l,m)}_reduceValues(d,l,m={},P){let _=t.nil;for(const E in d){const g=d[E];if(!g)continue;const y=m[E]=m[E]||new Map;g.forEach(h=>{if(y.has(h))return;y.set(h,n.Started);let w=l(h);if(w){const N=this.opts.es5?e.varKinds.var:e.varKinds.const;_=(0,t._)`${_}${N} ${h} = ${w};${this.opts._n}`}else if(w=P==null?void 0:P(h))_=(0,t._)`${_}${w}${this.opts._n}`;else throw new r(h);y.set(h,n.Completed)})}return _}}e.ValueScope=u})(Rs);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Hr,r=Rs;var n=Hr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Rs;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(o,f){return this}}class i extends a{constructor(o,f,b){super(),this.varKind=o,this.name=f,this.rhs=b}render({es5:o,_n:f}){const b=o?r.varKinds.var:this.varKind,j=this.rhs===void 0?"":` = ${this.rhs}`;return`${b} ${this.name}${j};`+f}optimizeNames(o,f){if(o[this.name.str])return this.rhs&&(this.rhs=C(this.rhs,o,f)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(o,f,b){super(),this.lhs=o,this.rhs=f,this.sideEffects=b}render({_n:o}){return`${this.lhs} = ${this.rhs};`+o}optimizeNames(o,f){if(!(this.lhs instanceof t.Name&&!o[this.lhs.str]&&!this.sideEffects))return this.rhs=C(this.rhs,o,f),this}get names(){const o=this.lhs instanceof t.Name?{}:{...this.lhs.names};return de(o,this.rhs)}}class c extends u{constructor(o,f,b,j){super(o,b,j),this.op=f}render({_n:o}){return`${this.lhs} ${this.op}= ${this.rhs};`+o}}class d extends a{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`${this.label}:`+o}}class l extends a{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`break${this.label?` ${this.label}`:""};`+o}}class m extends a{constructor(o){super(),this.error=o}render({_n:o}){return`throw ${this.error};`+o}get names(){return this.error.names}}class P extends a{constructor(o){super(),this.code=o}render({_n:o}){return`${this.code};`+o}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(o,f){return this.code=C(this.code,o,f),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class _ extends a{constructor(o=[]){super(),this.nodes=o}render(o){return this.nodes.reduce((f,b)=>f+b.render(o),"")}optimizeNodes(){const{nodes:o}=this;let f=o.length;for(;f--;){const b=o[f].optimizeNodes();Array.isArray(b)?o.splice(f,1,...b):b?o[f]=b:o.splice(f,1)}return o.length>0?this:void 0}optimizeNames(o,f){const{nodes:b}=this;let j=b.length;for(;j--;){const A=b[j];A.optimizeNames(o,f)||(k(o,A.names),b.splice(j,1))}return b.length>0?this:void 0}get names(){return this.nodes.reduce((o,f)=>Q(o,f.names),{})}}class E extends _{render(o){return"{"+o._n+super.render(o)+"}"+o._n}}class g extends _{}class y extends E{}y.kind="else";class h extends E{constructor(o,f){super(f),this.condition=o}render(o){let f=`if(${this.condition})`+super.render(o);return this.else&&(f+="else "+this.else.render(o)),f}optimizeNodes(){super.optimizeNodes();const o=this.condition;if(o===!0)return this.nodes;let f=this.else;if(f){const b=f.optimizeNodes();f=this.else=Array.isArray(b)?new y(b):b}if(f)return o===!1?f instanceof h?f:f.nodes:this.nodes.length?this:new h(U(o),f instanceof h?[f]:f.nodes);if(!(o===!1||!this.nodes.length))return this}optimizeNames(o,f){var b;if(this.else=(b=this.else)===null||b===void 0?void 0:b.optimizeNames(o,f),!!(super.optimizeNames(o,f)||this.else))return this.condition=C(this.condition,o,f),this}get names(){const o=super.names;return de(o,this.condition),this.else&&Q(o,this.else.names),o}}h.kind="if";class w extends E{}w.kind="for";class N extends w{constructor(o){super(),this.iteration=o}render(o){return`for(${this.iteration})`+super.render(o)}optimizeNames(o,f){if(super.optimizeNames(o,f))return this.iteration=C(this.iteration,o,f),this}get names(){return Q(super.names,this.iteration.names)}}class R extends w{constructor(o,f,b,j){super(),this.varKind=o,this.name=f,this.from=b,this.to=j}render(o){const f=o.es5?r.varKinds.var:this.varKind,{name:b,from:j,to:A}=this;return`for(${f} ${b}=${j}; ${b}<${A}; ${b}++)`+super.render(o)}get names(){const o=de(super.names,this.from);return de(o,this.to)}}class I extends w{constructor(o,f,b,j){super(),this.loop=o,this.varKind=f,this.name=b,this.iterable=j}render(o){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(o)}optimizeNames(o,f){if(super.optimizeNames(o,f))return this.iterable=C(this.iterable,o,f),this}get names(){return Q(super.names,this.iterable.names)}}class z extends E{constructor(o,f,b){super(),this.name=o,this.args=f,this.async=b}render(o){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(o)}}z.kind="func";class W extends _{render(o){return"return "+super.render(o)}}W.kind="return";class ue extends E{render(o){let f="try"+super.render(o);return this.catch&&(f+=this.catch.render(o)),this.finally&&(f+=this.finally.render(o)),f}optimizeNodes(){var o,f;return super.optimizeNodes(),(o=this.catch)===null||o===void 0||o.optimizeNodes(),(f=this.finally)===null||f===void 0||f.optimizeNodes(),this}optimizeNames(o,f){var b,j;return super.optimizeNames(o,f),(b=this.catch)===null||b===void 0||b.optimizeNames(o,f),(j=this.finally)===null||j===void 0||j.optimizeNames(o,f),this}get names(){const o=super.names;return this.catch&&Q(o,this.catch.names),this.finally&&Q(o,this.finally.names),o}}class V extends E{constructor(o){super(),this.error=o}render(o){return`catch(${this.error})`+super.render(o)}}V.kind="catch";class H extends E{render(o){return"finally"+super.render(o)}}H.kind="finally";class ne{constructor(o,f={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...f,_n:f.lines?`
`:""},this._extScope=o,this._scope=new r.Scope({parent:o}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(o){return this._scope.name(o)}scopeName(o){return this._extScope.name(o)}scopeValue(o,f){const b=this._extScope.value(o,f);return(this._values[b.prefix]||(this._values[b.prefix]=new Set)).add(b),b}getScopeValue(o,f){return this._extScope.getValue(o,f)}scopeRefs(o){return this._extScope.scopeRefs(o,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(o,f,b,j){const A=this._scope.toName(f);return b!==void 0&&j&&(this._constants[A.str]=b),this._leafNode(new i(o,A,b)),A}const(o,f,b){return this._def(r.varKinds.const,o,f,b)}let(o,f,b){return this._def(r.varKinds.let,o,f,b)}var(o,f,b){return this._def(r.varKinds.var,o,f,b)}assign(o,f,b){return this._leafNode(new u(o,f,b))}add(o,f){return this._leafNode(new c(o,e.operators.ADD,f))}code(o){return typeof o=="function"?o():o!==t.nil&&this._leafNode(new P(o)),this}object(...o){const f=["{"];for(const[b,j]of o)f.length>1&&f.push(","),f.push(b),(b!==j||this.opts.es5)&&(f.push(":"),(0,t.addCodeArg)(f,j));return f.push("}"),new t._Code(f)}if(o,f,b){if(this._blockNode(new h(o)),f&&b)this.code(f).else().code(b).endIf();else if(f)this.code(f).endIf();else if(b)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(o){return this._elseNode(new h(o))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(h,y)}_for(o,f){return this._blockNode(o),f&&this.code(f).endFor(),this}for(o,f){return this._for(new N(o),f)}forRange(o,f,b,j,A=this.opts.es5?r.varKinds.var:r.varKinds.let){const q=this._scope.toName(o);return this._for(new R(A,q,f,b),()=>j(q))}forOf(o,f,b,j=r.varKinds.const){const A=this._scope.toName(o);if(this.opts.es5){const q=f instanceof t.Name?f:this.var("_arr",f);return this.forRange("_i",0,(0,t._)`${q}.length`,F=>{this.var(A,(0,t._)`${q}[${F}]`),b(A)})}return this._for(new I("of",j,A,f),()=>b(A))}forIn(o,f,b,j=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(o,(0,t._)`Object.keys(${f})`,b);const A=this._scope.toName(o);return this._for(new I("in",j,A,f),()=>b(A))}endFor(){return this._endBlockNode(w)}label(o){return this._leafNode(new d(o))}break(o){return this._leafNode(new l(o))}return(o){const f=new W;if(this._blockNode(f),this.code(o),f.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(W)}try(o,f,b){if(!f&&!b)throw new Error('CodeGen: "try" without "catch" and "finally"');const j=new ue;if(this._blockNode(j),this.code(o),f){const A=this.name("e");this._currNode=j.catch=new V(A),f(A)}return b&&(this._currNode=j.finally=new H,this.code(b)),this._endBlockNode(V,H)}throw(o){return this._leafNode(new m(o))}block(o,f){return this._blockStarts.push(this._nodes.length),o&&this.code(o).endBlock(f),this}endBlock(o){const f=this._blockStarts.pop();if(f===void 0)throw new Error("CodeGen: not in self-balancing block");const b=this._nodes.length-f;if(b<0||o!==void 0&&b!==o)throw new Error(`CodeGen: wrong number of nodes: ${b} vs ${o} expected`);return this._nodes.length=f,this}func(o,f=t.nil,b,j){return this._blockNode(new z(o,f,b)),j&&this.code(j).endFunc(),this}endFunc(){return this._endBlockNode(z)}optimize(o=1){for(;o-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(o){return this._currNode.nodes.push(o),this}_blockNode(o){this._currNode.nodes.push(o),this._nodes.push(o)}_endBlockNode(o,f){const b=this._currNode;if(b instanceof o||f&&b instanceof f)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${f?`${o.kind}/${f.kind}`:o.kind}"`)}_elseNode(o){const f=this._currNode;if(!(f instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=f.else=o,this}get _root(){return this._nodes[0]}get _currNode(){const o=this._nodes;return o[o.length-1]}set _currNode(o){const f=this._nodes;f[f.length-1]=o}}e.CodeGen=ne;function Q($,o){for(const f in o)$[f]=($[f]||0)+(o[f]||0);return $}function de($,o){return o instanceof t._CodeOrName?Q($,o.names):$}function C($,o,f){if($ instanceof t.Name)return b($);if(!j($))return $;return new t._Code($._items.reduce((A,q)=>(q instanceof t.Name&&(q=b(q)),q instanceof t._Code?A.push(...q._items):A.push(q),A),[]));function b(A){const q=f[A.str];return q===void 0||o[A.str]!==1?A:(delete o[A.str],q)}function j(A){return A instanceof t._Code&&A._items.some(q=>q instanceof t.Name&&o[q.str]===1&&f[q.str]!==void 0)}}function k($,o){for(const f in o)$[f]=($[f]||0)-(o[f]||0)}function U($){return typeof $=="boolean"||typeof $=="number"||$===null?!$:(0,t._)`!${S($)}`}e.not=U;const D=p(e.operators.AND);function O(...$){return $.reduce(D)}e.and=O;const T=p(e.operators.OR);function v(...$){return $.reduce(T)}e.or=v;function p($){return(o,f)=>o===t.nil?f:f===t.nil?o:(0,t._)`${S(o)} ${$} ${S(f)}`}function S($){return $ instanceof t.Name?$:(0,t._)`(${$})`}})(te);var M={};Object.defineProperty(M,"__esModule",{value:!0});M.checkStrictMode=M.getErrorPath=M.Type=M.useFunc=M.setEvaluated=M.evaluatedPropsToName=M.mergeEvaluated=M.eachItem=M.unescapeJsonPointer=M.escapeJsonPointer=M.escapeFragment=M.unescapeFragment=M.schemaRefOrVal=M.schemaHasRulesButRef=M.schemaHasRules=M.checkUnknownRules=M.alwaysValidSchema=M.toHash=void 0;const ie=te,Nd=Hr;function Od(e){const t={};for(const r of e)t[r]=!0;return t}M.toHash=Od;function Rd(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Fc(e,t),!Vc(t,e.self.RULES.all))}M.alwaysValidSchema=Rd;function Fc(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const s=n.RULES.keywords;for(const a in t)s[a]||qc(e,`unknown keyword: "${a}"`)}M.checkUnknownRules=Fc;function Vc(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}M.schemaHasRules=Vc;function Td(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}M.schemaHasRulesButRef=Td;function Id({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ie._)`${r}`}return(0,ie._)`${e}${t}${(0,ie.getProperty)(n)}`}M.schemaRefOrVal=Id;function jd(e){return Uc(decodeURIComponent(e))}M.unescapeFragment=jd;function Ad(e){return encodeURIComponent(oa(e))}M.escapeFragment=Ad;function oa(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}M.escapeJsonPointer=oa;function Uc(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}M.unescapeJsonPointer=Uc;function kd(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}M.eachItem=kd;function xo({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,a,i,u)=>{const c=i===void 0?a:i instanceof ie.Name?(a instanceof ie.Name?e(s,a,i):t(s,a,i),i):a instanceof ie.Name?(t(s,i,a),a):r(a,i);return u===ie.Name&&!(c instanceof ie.Name)?n(s,c):c}}M.mergeEvaluated={props:xo({mergeNames:(e,t,r)=>e.if((0,ie._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ie._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ie._)`${r} || {}`).code((0,ie._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ie._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ie._)`${r} || {}`),ia(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:zc}),items:xo({mergeNames:(e,t,r)=>e.if((0,ie._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ie._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ie._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ie._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function zc(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,ie._)`{}`);return t!==void 0&&ia(e,r,t),r}M.evaluatedPropsToName=zc;function ia(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ie._)`${t}${(0,ie.getProperty)(n)}`,!0))}M.setEvaluated=ia;const ei={};function Cd(e,t){return e.scopeValue("func",{ref:t,code:ei[t.code]||(ei[t.code]=new Nd._Code(t.code))})}M.useFunc=Cd;var Ts;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Ts||(M.Type=Ts={}));function Dd(e,t,r){if(e instanceof ie.Name){const n=t===Ts.Num;return r?n?(0,ie._)`"[" + ${e} + "]"`:(0,ie._)`"['" + ${e} + "']"`:n?(0,ie._)`"/" + ${e}`:(0,ie._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ie.getProperty)(e).toString():"/"+oa(e)}M.getErrorPath=Dd;function qc(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}M.checkStrictMode=qc;var it={};Object.defineProperty(it,"__esModule",{value:!0});const Ne=te,Md={data:new Ne.Name("data"),valCxt:new Ne.Name("valCxt"),instancePath:new Ne.Name("instancePath"),parentData:new Ne.Name("parentData"),parentDataProperty:new Ne.Name("parentDataProperty"),rootData:new Ne.Name("rootData"),dynamicAnchors:new Ne.Name("dynamicAnchors"),vErrors:new Ne.Name("vErrors"),errors:new Ne.Name("errors"),this:new Ne.Name("this"),self:new Ne.Name("self"),scope:new Ne.Name("scope"),json:new Ne.Name("json"),jsonPos:new Ne.Name("jsonPos"),jsonLen:new Ne.Name("jsonLen"),jsonPart:new Ne.Name("jsonPart")};it.default=Md;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=te,r=M,n=it;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:h})=>h?(0,t.str)`"${y}" keyword must be ${h} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function s(y,h=e.keywordError,w,N){const{it:R}=y,{gen:I,compositeRule:z,allErrors:W}=R,ue=m(y,h,w);N??(z||W)?c(I,ue):d(R,(0,t._)`[${ue}]`)}e.reportError=s;function a(y,h=e.keywordError,w){const{it:N}=y,{gen:R,compositeRule:I,allErrors:z}=N,W=m(y,h,w);c(R,W),I||z||d(N,n.default.vErrors)}e.reportExtraError=a;function i(y,h){y.assign(n.default.errors,h),y.if((0,t._)`${n.default.vErrors} !== null`,()=>y.if(h,()=>y.assign((0,t._)`${n.default.vErrors}.length`,h),()=>y.assign(n.default.vErrors,null)))}e.resetErrorsCount=i;function u({gen:y,keyword:h,schemaValue:w,data:N,errsCount:R,it:I}){if(R===void 0)throw new Error("ajv implementation error");const z=y.name("err");y.forRange("i",R,n.default.errors,W=>{y.const(z,(0,t._)`${n.default.vErrors}[${W}]`),y.if((0,t._)`${z}.instancePath === undefined`,()=>y.assign((0,t._)`${z}.instancePath`,(0,t.strConcat)(n.default.instancePath,I.errorPath))),y.assign((0,t._)`${z}.schemaPath`,(0,t.str)`${I.errSchemaPath}/${h}`),I.opts.verbose&&(y.assign((0,t._)`${z}.schema`,w),y.assign((0,t._)`${z}.data`,N))})}e.extendErrors=u;function c(y,h){const w=y.const("err",h);y.if((0,t._)`${n.default.vErrors} === null`,()=>y.assign(n.default.vErrors,(0,t._)`[${w}]`),(0,t._)`${n.default.vErrors}.push(${w})`),y.code((0,t._)`${n.default.errors}++`)}function d(y,h){const{gen:w,validateName:N,schemaEnv:R}=y;R.$async?w.throw((0,t._)`new ${y.ValidationError}(${h})`):(w.assign((0,t._)`${N}.errors`,h),w.return(!1))}const l={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function m(y,h,w){const{createErrors:N}=y.it;return N===!1?(0,t._)`{}`:P(y,h,w)}function P(y,h,w={}){const{gen:N,it:R}=y,I=[_(R,w),E(y,w)];return g(y,h,I),N.object(...I)}function _({errorPath:y},{instancePath:h}){const w=h?(0,t.str)`${y}${(0,r.getErrorPath)(h,r.Type.Str)}`:y;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,w)]}function E({keyword:y,it:{errSchemaPath:h}},{schemaPath:w,parentSchema:N}){let R=N?h:(0,t.str)`${h}/${y}`;return w&&(R=(0,t.str)`${R}${(0,r.getErrorPath)(w,r.Type.Str)}`),[l.schemaPath,R]}function g(y,{params:h,message:w},N){const{keyword:R,data:I,schemaValue:z,it:W}=y,{opts:ue,propertyName:V,topSchemaRef:H,schemaPath:ne}=W;N.push([l.keyword,R],[l.params,typeof h=="function"?h(y):h||(0,t._)`{}`]),ue.messages&&N.push([l.message,typeof w=="function"?w(y):w]),ue.verbose&&N.push([l.schema,z],[l.parentSchema,(0,t._)`${H}${ne}`],[n.default.data,I]),V&&N.push([l.propertyName,V])}})(Jr);Object.defineProperty(hr,"__esModule",{value:!0});hr.boolOrEmptySchema=hr.topBoolOrEmptySchema=void 0;const Ld=Jr,Fd=te,Vd=it,Ud={message:"boolean schema is false"};function zd(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Kc(e,!1):typeof r=="object"&&r.$async===!0?t.return(Vd.default.data):(t.assign((0,Fd._)`${n}.errors`,null),t.return(!0))}hr.topBoolOrEmptySchema=zd;function qd(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Kc(e)):r.var(t,!0)}hr.boolOrEmptySchema=qd;function Kc(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Ld.reportError)(s,Ud,void 0,t)}var _e={},Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.getRules=Yt.isJSONType=void 0;const Kd=["string","number","integer","boolean","null","object","array"],Gd=new Set(Kd);function Hd(e){return typeof e=="string"&&Gd.has(e)}Yt.isJSONType=Hd;function Wd(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Yt.getRules=Wd;var lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.shouldUseRule=lt.shouldUseGroup=lt.schemaHasRulesForType=void 0;function Jd({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Gc(e,n)}lt.schemaHasRulesForType=Jd;function Gc(e,t){return t.rules.some(r=>Hc(e,r))}lt.shouldUseGroup=Gc;function Hc(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}lt.shouldUseRule=Hc;Object.defineProperty(_e,"__esModule",{value:!0});_e.reportTypeError=_e.checkDataTypes=_e.checkDataType=_e.coerceAndCheckDataType=_e.getJSONTypes=_e.getSchemaTypes=_e.DataType=void 0;const Bd=Yt,Xd=lt,Yd=Jr,X=te,Wc=M;var ir;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(ir||(_e.DataType=ir={}));function Qd(e){const t=Jc(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}_e.getSchemaTypes=Qd;function Jc(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(Bd.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}_e.getJSONTypes=Jc;function Zd(e,t){const{gen:r,data:n,opts:s}=e,a=xd(t,s.coerceTypes),i=t.length>0&&!(a.length===0&&t.length===1&&(0,Xd.schemaHasRulesForType)(e,t[0]));if(i){const u=ca(t,n,s.strictNumbers,ir.Wrong);r.if(u,()=>{a.length?ef(e,t,a):la(e)})}return i}_e.coerceAndCheckDataType=Zd;const Bc=new Set(["string","number","integer","boolean","null"]);function xd(e,t){return t?e.filter(r=>Bc.has(r)||t==="array"&&r==="array"):[]}function ef(e,t,r){const{gen:n,data:s,opts:a}=e,i=n.let("dataType",(0,X._)`typeof ${s}`),u=n.let("coerced",(0,X._)`undefined`);a.coerceTypes==="array"&&n.if((0,X._)`${i} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,X._)`${s}[0]`).assign(i,(0,X._)`typeof ${s}`).if(ca(t,s,a.strictNumbers),()=>n.assign(u,s))),n.if((0,X._)`${u} !== undefined`);for(const d of r)(Bc.has(d)||d==="array"&&a.coerceTypes==="array")&&c(d);n.else(),la(e),n.endIf(),n.if((0,X._)`${u} !== undefined`,()=>{n.assign(s,u),tf(e,u)});function c(d){switch(d){case"string":n.elseIf((0,X._)`${i} == "number" || ${i} == "boolean"`).assign(u,(0,X._)`"" + ${s}`).elseIf((0,X._)`${s} === null`).assign(u,(0,X._)`""`);return;case"number":n.elseIf((0,X._)`${i} == "boolean" || ${s} === null
              || (${i} == "string" && ${s} && ${s} == +${s})`).assign(u,(0,X._)`+${s}`);return;case"integer":n.elseIf((0,X._)`${i} === "boolean" || ${s} === null
              || (${i} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(u,(0,X._)`+${s}`);return;case"boolean":n.elseIf((0,X._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(u,!1).elseIf((0,X._)`${s} === "true" || ${s} === 1`).assign(u,!0);return;case"null":n.elseIf((0,X._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(u,null);return;case"array":n.elseIf((0,X._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${s} === null`).assign(u,(0,X._)`[${s}]`)}}}function tf({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,X._)`${t} !== undefined`,()=>e.assign((0,X._)`${t}[${r}]`,n))}function Is(e,t,r,n=ir.Correct){const s=n===ir.Correct?X.operators.EQ:X.operators.NEQ;let a;switch(e){case"null":return(0,X._)`${t} ${s} null`;case"array":a=(0,X._)`Array.isArray(${t})`;break;case"object":a=(0,X._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=i((0,X._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=i();break;default:return(0,X._)`typeof ${t} ${s} ${e}`}return n===ir.Correct?a:(0,X.not)(a);function i(u=X.nil){return(0,X.and)((0,X._)`typeof ${t} == "number"`,u,r?(0,X._)`isFinite(${t})`:X.nil)}}_e.checkDataType=Is;function ca(e,t,r,n){if(e.length===1)return Is(e[0],t,r,n);let s;const a=(0,Wc.toHash)(e);if(a.array&&a.object){const i=(0,X._)`typeof ${t} != "object"`;s=a.null?i:(0,X._)`!${t} || ${i}`,delete a.null,delete a.array,delete a.object}else s=X.nil;a.number&&delete a.integer;for(const i in a)s=(0,X.and)(s,Is(i,t,r,n));return s}_e.checkDataTypes=ca;const rf={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,X._)`{type: ${e}}`:(0,X._)`{type: ${t}}`};function la(e){const t=nf(e);(0,Yd.reportError)(t,rf)}_e.reportTypeError=la;function nf(e){const{gen:t,data:r,schema:n}=e,s=(0,Wc.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.assignDefaults=void 0;const er=te,sf=M;function af(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)ti(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>ti(e,a,s.default))}Gn.assignDefaults=af;function ti(e,t,r){const{gen:n,compositeRule:s,data:a,opts:i}=e;if(r===void 0)return;const u=(0,er._)`${a}${(0,er.getProperty)(t)}`;if(s){(0,sf.checkStrictMode)(e,`default is ignored for: ${u}`);return}let c=(0,er._)`${u} === undefined`;i.useDefaults==="empty"&&(c=(0,er._)`${c} || ${u} === null || ${u} === ""`),n.if(c,(0,er._)`${u} = ${(0,er.stringify)(r)}`)}var st={},x={};Object.defineProperty(x,"__esModule",{value:!0});x.validateUnion=x.validateArray=x.usePattern=x.callValidateCode=x.schemaProperties=x.allSchemaProperties=x.noPropertyInData=x.propertyInData=x.isOwnProperty=x.hasPropFunc=x.reportMissingProp=x.checkMissingProp=x.checkReportMissingProp=void 0;const fe=te,ua=M,pt=it,of=M;function cf(e,t){const{gen:r,data:n,it:s}=e;r.if(fa(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,fe._)`${t}`},!0),e.error()})}x.checkReportMissingProp=cf;function lf({gen:e,data:t,it:{opts:r}},n,s){return(0,fe.or)(...n.map(a=>(0,fe.and)(fa(e,t,a,r.ownProperties),(0,fe._)`${s} = ${a}`)))}x.checkMissingProp=lf;function uf(e,t){e.setParams({missingProperty:t},!0),e.error()}x.reportMissingProp=uf;function Xc(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,fe._)`Object.prototype.hasOwnProperty`})}x.hasPropFunc=Xc;function da(e,t,r){return(0,fe._)`${Xc(e)}.call(${t}, ${r})`}x.isOwnProperty=da;function df(e,t,r,n){const s=(0,fe._)`${t}${(0,fe.getProperty)(r)} !== undefined`;return n?(0,fe._)`${s} && ${da(e,t,r)}`:s}x.propertyInData=df;function fa(e,t,r,n){const s=(0,fe._)`${t}${(0,fe.getProperty)(r)} === undefined`;return n?(0,fe.or)(s,(0,fe.not)(da(e,t,r))):s}x.noPropertyInData=fa;function Yc(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}x.allSchemaProperties=Yc;function ff(e,t){return Yc(t).filter(r=>!(0,ua.alwaysValidSchema)(e,t[r]))}x.schemaProperties=ff;function hf({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:i},u,c,d){const l=d?(0,fe._)`${e}, ${t}, ${n}${s}`:t,m=[[pt.default.instancePath,(0,fe.strConcat)(pt.default.instancePath,a)],[pt.default.parentData,i.parentData],[pt.default.parentDataProperty,i.parentDataProperty],[pt.default.rootData,pt.default.rootData]];i.opts.dynamicRef&&m.push([pt.default.dynamicAnchors,pt.default.dynamicAnchors]);const P=(0,fe._)`${l}, ${r.object(...m)}`;return c!==fe.nil?(0,fe._)`${u}.call(${c}, ${P})`:(0,fe._)`${u}(${P})`}x.callValidateCode=hf;const mf=(0,fe._)`new RegExp`;function pf({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,fe._)`${s.code==="new RegExp"?mf:(0,of.useFunc)(e,s)}(${r}, ${n})`})}x.usePattern=pf;function $f(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const u=t.let("valid",!0);return i(()=>t.assign(u,!1)),u}return t.var(a,!0),i(()=>t.break()),a;function i(u){const c=t.const("len",(0,fe._)`${r}.length`);t.forRange("i",0,c,d=>{e.subschema({keyword:n,dataProp:d,dataPropType:ua.Type.Num},a),t.if((0,fe.not)(a),u)})}}x.validateArray=$f;function yf(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,ua.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const i=t.let("valid",!1),u=t.name("_valid");t.block(()=>r.forEach((c,d)=>{const l=e.subschema({keyword:n,schemaProp:d,compositeRule:!0},u);t.assign(i,(0,fe._)`${i} || ${u}`),e.mergeValidEvaluated(l,u)||t.if((0,fe.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}x.validateUnion=yf;Object.defineProperty(st,"__esModule",{value:!0});st.validateKeywordUsage=st.validSchemaType=st.funcKeywordCode=st.macroKeywordCode=void 0;const Ie=te,Gt=it,_f=x,gf=Jr;function vf(e,t){const{gen:r,keyword:n,schema:s,parentSchema:a,it:i}=e,u=t.macro.call(i.self,s,a,i),c=Qc(r,n,u);i.opts.validateSchema!==!1&&i.self.validateSchema(u,!0);const d=r.name("valid");e.subschema({schema:u,schemaPath:Ie.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},d),e.pass(d,()=>e.error(!0))}st.macroKeywordCode=vf;function wf(e,t){var r;const{gen:n,keyword:s,schema:a,parentSchema:i,$data:u,it:c}=e;Sf(c,t);const d=!u&&t.compile?t.compile.call(c.self,a,i,c):t.validate,l=Qc(n,s,d),m=n.let("valid");e.block$data(m,P),e.ok((r=t.valid)!==null&&r!==void 0?r:m);function P(){if(t.errors===!1)g(),t.modifying&&ri(e),y(()=>e.error());else{const h=t.async?_():E();t.modifying&&ri(e),y(()=>Ef(e,h))}}function _(){const h=n.let("ruleErrs",null);return n.try(()=>g((0,Ie._)`await `),w=>n.assign(m,!1).if((0,Ie._)`${w} instanceof ${c.ValidationError}`,()=>n.assign(h,(0,Ie._)`${w}.errors`),()=>n.throw(w))),h}function E(){const h=(0,Ie._)`${l}.errors`;return n.assign(h,null),g(Ie.nil),h}function g(h=t.async?(0,Ie._)`await `:Ie.nil){const w=c.opts.passContext?Gt.default.this:Gt.default.self,N=!("compile"in t&&!u||t.schema===!1);n.assign(m,(0,Ie._)`${h}${(0,_f.callValidateCode)(e,l,w,N)}`,t.modifying)}function y(h){var w;n.if((0,Ie.not)((w=t.valid)!==null&&w!==void 0?w:m),h)}}st.funcKeywordCode=wf;function ri(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Ie._)`${n.parentData}[${n.parentDataProperty}]`))}function Ef(e,t){const{gen:r}=e;r.if((0,Ie._)`Array.isArray(${t})`,()=>{r.assign(Gt.default.vErrors,(0,Ie._)`${Gt.default.vErrors} === null ? ${t} : ${Gt.default.vErrors}.concat(${t})`).assign(Gt.default.errors,(0,Ie._)`${Gt.default.vErrors}.length`),(0,gf.extendErrors)(e)},()=>e.error())}function Sf({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Qc(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Ie.stringify)(r)})}function bf(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}st.validSchemaType=bf;function Pf({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const i=s.dependencies;if(i!=null&&i.some(u=>!Object.prototype.hasOwnProperty.call(e,u)))throw new Error(`parent schema must have dependencies of ${a}: ${i.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const c=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}st.validateKeywordUsage=Pf;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.extendSubschemaMode=Pt.extendSubschemaData=Pt.getSubschema=void 0;const tt=te,Zc=M;function Nf(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:i}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const u=e.schema[t];return r===void 0?{schema:u,schemaPath:(0,tt._)`${e.schemaPath}${(0,tt.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:u[r],schemaPath:(0,tt._)`${e.schemaPath}${(0,tt.getProperty)(t)}${(0,tt.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Zc.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:i,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}Pt.getSubschema=Nf;function Of(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:i}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(r!==void 0){const{errorPath:d,dataPathArr:l,opts:m}=t,P=u.let("data",(0,tt._)`${t.data}${(0,tt.getProperty)(r)}`,!0);c(P),e.errorPath=(0,tt.str)`${d}${(0,Zc.getErrorPath)(r,n,m.jsPropertySyntax)}`,e.parentDataProperty=(0,tt._)`${r}`,e.dataPathArr=[...l,e.parentDataProperty]}if(s!==void 0){const d=s instanceof tt.Name?s:u.let("data",s,!0);c(d),i!==void 0&&(e.propertyName=i)}a&&(e.dataTypes=a);function c(d){e.data=d,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,d]}}Pt.extendSubschemaData=Of;function Rf(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}Pt.extendSubschemaMode=Rf;var be={},Hn=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var i=a[s];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r},xc={exports:{}},St=xc.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};wn(t,n,s,e,"",e)};St.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};St.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};St.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};St.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function wn(e,t,r,n,s,a,i,u,c,d){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,i,u,c,d);for(var l in n){var m=n[l];if(Array.isArray(m)){if(l in St.arrayKeywords)for(var P=0;P<m.length;P++)wn(e,t,r,m[P],s+"/"+l+"/"+P,a,s,l,n,P)}else if(l in St.propsKeywords){if(m&&typeof m=="object")for(var _ in m)wn(e,t,r,m[_],s+"/"+l+"/"+Tf(_),a,s,l,n,_)}else(l in St.keywords||e.allKeys&&!(l in St.skipKeywords))&&wn(e,t,r,m,s+"/"+l,a,s,l,n)}r(n,s,a,i,u,c,d)}}function Tf(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var If=xc.exports;Object.defineProperty(be,"__esModule",{value:!0});be.getSchemaRefs=be.resolveUrl=be.normalizeId=be._getFullPath=be.getFullPath=be.inlineRef=void 0;const jf=M,Af=Hn,kf=If,Cf=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Df(e,t=!0){return typeof e=="boolean"?!0:t===!0?!js(e):t?el(e)<=t:!1}be.inlineRef=Df;const Mf=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function js(e){for(const t in e){if(Mf.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(js)||typeof r=="object"&&js(r))return!0}return!1}function el(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Cf.has(r)&&(typeof e[r]=="object"&&(0,jf.eachItem)(e[r],n=>t+=el(n)),t===1/0))return 1/0}return t}function tl(e,t="",r){r!==!1&&(t=cr(t));const n=e.parse(t);return rl(e,n)}be.getFullPath=tl;function rl(e,t){return e.serialize(t).split("#")[0]+"#"}be._getFullPath=rl;const Lf=/#\/?$/;function cr(e){return e?e.replace(Lf,""):""}be.normalizeId=cr;function Ff(e,t,r){return r=cr(r),e.resolve(t,r)}be.resolveUrl=Ff;const Vf=/^[a-z_][-a-z0-9._]*$/i;function Uf(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=cr(e[r]||t),a={"":s},i=tl(n,s,!1),u={},c=new Set;return kf(e,{allKeys:!0},(m,P,_,E)=>{if(E===void 0)return;const g=i+P;let y=a[E];typeof m[r]=="string"&&(y=h.call(this,m[r])),w.call(this,m.$anchor),w.call(this,m.$dynamicAnchor),a[P]=y;function h(N){const R=this.opts.uriResolver.resolve;if(N=cr(y?R(y,N):N),c.has(N))throw l(N);c.add(N);let I=this.refs[N];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?d(m,I.schema,N):N!==cr(g)&&(N[0]==="#"?(d(m,u[N],N),u[N]=m):this.refs[N]=g),N}function w(N){if(typeof N=="string"){if(!Vf.test(N))throw new Error(`invalid anchor "${N}"`);h.call(this,`#${N}`)}}}),u;function d(m,P,_){if(P!==void 0&&!Af(m,P))throw l(_)}function l(m){return new Error(`reference "${m}" resolves to more than one schema`)}}be.getSchemaRefs=Uf;Object.defineProperty(Ye,"__esModule",{value:!0});Ye.getData=Ye.KeywordCxt=Ye.validateFunctionCode=void 0;const nl=hr,ni=_e,ha=lt,jn=_e,zf=Gn,Dr=st,ls=Pt,K=te,J=it,qf=be,ut=M,Or=Jr;function Kf(e){if(ol(e)&&(il(e),al(e))){Wf(e);return}sl(e,()=>(0,nl.topBoolOrEmptySchema)(e))}Ye.validateFunctionCode=Kf;function sl({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,K._)`${J.default.data}, ${J.default.valCxt}`,n.$async,()=>{e.code((0,K._)`"use strict"; ${si(r,s)}`),Hf(e,s),e.code(a)}):e.func(t,(0,K._)`${J.default.data}, ${Gf(s)}`,n.$async,()=>e.code(si(r,s)).code(a))}function Gf(e){return(0,K._)`{${J.default.instancePath}="", ${J.default.parentData}, ${J.default.parentDataProperty}, ${J.default.rootData}=${J.default.data}${e.dynamicRef?(0,K._)`, ${J.default.dynamicAnchors}={}`:K.nil}}={}`}function Hf(e,t){e.if(J.default.valCxt,()=>{e.var(J.default.instancePath,(0,K._)`${J.default.valCxt}.${J.default.instancePath}`),e.var(J.default.parentData,(0,K._)`${J.default.valCxt}.${J.default.parentData}`),e.var(J.default.parentDataProperty,(0,K._)`${J.default.valCxt}.${J.default.parentDataProperty}`),e.var(J.default.rootData,(0,K._)`${J.default.valCxt}.${J.default.rootData}`),t.dynamicRef&&e.var(J.default.dynamicAnchors,(0,K._)`${J.default.valCxt}.${J.default.dynamicAnchors}`)},()=>{e.var(J.default.instancePath,(0,K._)`""`),e.var(J.default.parentData,(0,K._)`undefined`),e.var(J.default.parentDataProperty,(0,K._)`undefined`),e.var(J.default.rootData,J.default.data),t.dynamicRef&&e.var(J.default.dynamicAnchors,(0,K._)`{}`)})}function Wf(e){const{schema:t,opts:r,gen:n}=e;sl(e,()=>{r.$comment&&t.$comment&&ll(e),Qf(e),n.let(J.default.vErrors,null),n.let(J.default.errors,0),r.unevaluated&&Jf(e),cl(e),eh(e)})}function Jf(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,K._)`${r}.evaluated`),t.if((0,K._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,K._)`${e.evaluated}.props`,(0,K._)`undefined`)),t.if((0,K._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,K._)`${e.evaluated}.items`,(0,K._)`undefined`))}function si(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,K._)`/*# sourceURL=${r} */`:K.nil}function Bf(e,t){if(ol(e)&&(il(e),al(e))){Xf(e,t);return}(0,nl.boolOrEmptySchema)(e,t)}function al({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function ol(e){return typeof e.schema!="boolean"}function Xf(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&ll(e),Zf(e),xf(e);const a=n.const("_errs",J.default.errors);cl(e,a),n.var(t,(0,K._)`${a} === ${J.default.errors}`)}function il(e){(0,ut.checkUnknownRules)(e),Yf(e)}function cl(e,t){if(e.opts.jtd)return ai(e,[],!1,t);const r=(0,ni.getSchemaTypes)(e.schema),n=(0,ni.coerceAndCheckDataType)(e,r);ai(e,r,!n,t)}function Yf(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,ut.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Qf(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,ut.checkStrictMode)(e,"default is ignored in the schema root")}function Zf(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,qf.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function xf(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function ll({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)e.code((0,K._)`${J.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const i=(0,K.str)`${n}/$comment`,u=e.scopeValue("root",{ref:t.root});e.code((0,K._)`${J.default.self}.opts.$comment(${a}, ${i}, ${u}.schema)`)}}function eh(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,K._)`${J.default.errors} === 0`,()=>t.return(J.default.data),()=>t.throw((0,K._)`new ${s}(${J.default.vErrors})`)):(t.assign((0,K._)`${n}.errors`,J.default.vErrors),a.unevaluated&&th(e),t.return((0,K._)`${J.default.errors} === 0`))}function th({gen:e,evaluated:t,props:r,items:n}){r instanceof K.Name&&e.assign((0,K._)`${t}.props`,r),n instanceof K.Name&&e.assign((0,K._)`${t}.items`,n)}function ai(e,t,r,n){const{gen:s,schema:a,data:i,allErrors:u,opts:c,self:d}=e,{RULES:l}=d;if(a.$ref&&(c.ignoreKeywordsWithRef||!(0,ut.schemaHasRulesButRef)(a,l))){s.block(()=>fl(e,"$ref",l.all.$ref.definition));return}c.jtd||rh(e,t),s.block(()=>{for(const P of l.rules)m(P);m(l.post)});function m(P){(0,ha.shouldUseGroup)(a,P)&&(P.type?(s.if((0,jn.checkDataType)(P.type,i,c.strictNumbers)),oi(e,P),t.length===1&&t[0]===P.type&&r&&(s.else(),(0,jn.reportTypeError)(e)),s.endIf()):oi(e,P),u||s.if((0,K._)`${J.default.errors} === ${n||0}`))}}function oi(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,zf.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,ha.shouldUseRule)(n,a)&&fl(e,a.keyword,a.definition,t.type)})}function rh(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(nh(e,t),e.opts.allowUnionTypes||sh(e,t),ah(e,e.dataTypes))}function nh(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{ul(e.dataTypes,r)||ma(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),ih(e,t)}}function sh(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&ma(e,"use allowUnionTypes to allow union type keyword")}function ah(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,ha.shouldUseRule)(e.schema,s)){const{type:a}=s.definition;a.length&&!a.some(i=>oh(t,i))&&ma(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function oh(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function ul(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function ih(e,t){const r=[];for(const n of e.dataTypes)ul(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function ma(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,ut.checkStrictMode)(e,t,e.opts.strictTypes)}let dl=class{constructor(t,r,n){if((0,Dr.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ut.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",hl(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Dr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",J.default.errors))}result(t,r,n){this.failResult((0,K.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,K.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,K._)`${r} !== undefined && (${(0,K.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Or.reportExtraError:Or.reportError)(this,this.def.error,r)}$dataError(){(0,Or.reportError)(this,this.def.$dataError||Or.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Or.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=K.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=K.nil,r=K.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:i}=this;n.if((0,K.or)((0,K._)`${s} === undefined`,r)),t!==K.nil&&n.assign(t,!0),(a.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==K.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,K.or)(i(),u());function i(){if(n.length){if(!(r instanceof K.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,K._)`${(0,jn.checkDataTypes)(c,r,a.opts.strictNumbers,jn.DataType.Wrong)}`}return K.nil}function u(){if(s.validateSchema){const c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,K._)`!${c}(${r})`}return K.nil}}subschema(t,r){const n=(0,ls.getSubschema)(this.it,t);(0,ls.extendSubschemaData)(n,this.it,t),(0,ls.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return Bf(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=ut.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=ut.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,K.Name)),!0}};Ye.KeywordCxt=dl;function fl(e,t,r,n){const s=new dl(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,Dr.funcKeywordCode)(s,r):"macro"in r?(0,Dr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,Dr.funcKeywordCode)(s,r)}const ch=/^\/(?:[^~]|~0|~1)*$/,lh=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function hl(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return J.default.rootData;if(e[0]==="/"){if(!ch.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=J.default.rootData}else{const d=lh.exec(e);if(!d)throw new Error(`Invalid JSON-pointer: ${e}`);const l=+d[1];if(s=d[2],s==="#"){if(l>=t)throw new Error(c("property/index",l));return n[t-l]}if(l>t)throw new Error(c("data",l));if(a=r[t-l],!s)return a}let i=a;const u=s.split("/");for(const d of u)d&&(a=(0,K._)`${a}${(0,K.getProperty)((0,ut.unescapeJsonPointer)(d))}`,i=(0,K._)`${i} && ${a}`);return i;function c(d,l){return`Cannot access ${d} ${l} levels up, current level is ${t}`}}Ye.getData=hl;var tn={},ii;function pa(){if(ii)return tn;ii=1,Object.defineProperty(tn,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return tn.default=e,tn}var yr={};Object.defineProperty(yr,"__esModule",{value:!0});const us=be;let uh=class extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,us.resolveUrl)(t,r,n),this.missingSchema=(0,us.normalizeId)((0,us.getFullPath)(t,this.missingRef))}};yr.default=uh;var Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.resolveSchema=Me.getCompilingSchema=Me.resolveRef=Me.compileSchema=Me.SchemaEnv=void 0;const Ge=te,dh=pa(),qt=it,Be=be,ci=M,fh=Ye;let Wn=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Be.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Me.SchemaEnv=Wn;function $a(e){const t=ml.call(this,e);if(t)return t;const r=(0,Be.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,i=new Ge.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let u;e.$async&&(u=i.scopeValue("Error",{ref:dh.default,code:(0,Ge._)`require("ajv/dist/runtime/validation_error").default`}));const c=i.scopeName("validate");e.validateName=c;const d={gen:i,allErrors:this.opts.allErrors,data:qt.default.data,parentData:qt.default.parentData,parentDataProperty:qt.default.parentDataProperty,dataNames:[qt.default.data],dataPathArr:[Ge.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ge.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:u,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ge.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ge._)`""`,opts:this.opts,self:this};let l;try{this._compilations.add(e),(0,fh.validateFunctionCode)(d),i.optimize(this.opts.code.optimize);const m=i.toString();l=`${i.scopeRefs(qt.default.scope)}return ${m}`,this.opts.code.process&&(l=this.opts.code.process(l,e));const _=new Function(`${qt.default.self}`,`${qt.default.scope}`,l)(this,this.scope.get());if(this.scope.value(c,{ref:_}),_.errors=null,_.schema=e.schema,_.schemaEnv=e,e.$async&&(_.$async=!0),this.opts.code.source===!0&&(_.source={validateName:c,validateCode:m,scopeValues:i._values}),this.opts.unevaluated){const{props:E,items:g}=d;_.evaluated={props:E instanceof Ge.Name?void 0:E,items:g instanceof Ge.Name?void 0:g,dynamicProps:E instanceof Ge.Name,dynamicItems:g instanceof Ge.Name},_.source&&(_.source.evaluated=(0,Ge.stringify)(_.evaluated))}return e.validate=_,e}catch(m){throw delete e.validate,delete e.validateName,l&&this.logger.error("Error compiling schema, function code:",l),m}finally{this._compilations.delete(e)}}Me.compileSchema=$a;function hh(e,t,r){var n;r=(0,Be.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=$h.call(this,e,r);if(a===void 0){const i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:u}=this.opts;i&&(a=new Wn({schema:i,schemaId:u,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=mh.call(this,a)}Me.resolveRef=hh;function mh(e){return(0,Be.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:$a.call(this,e)}function ml(e){for(const t of this._compilations)if(ph(t,e))return t}Me.getCompilingSchema=ml;function ph(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function $h(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Jn.call(this,e,t)}function Jn(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Be._getFullPath)(this.opts.uriResolver,r);let s=(0,Be.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return ds.call(this,r,e);const a=(0,Be.normalizeId)(n),i=this.refs[a]||this.schemas[a];if(typeof i=="string"){const u=Jn.call(this,e,i);return typeof(u==null?void 0:u.schema)!="object"?void 0:ds.call(this,r,u)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||$a.call(this,i),a===(0,Be.normalizeId)(t)){const{schema:u}=i,{schemaId:c}=this.opts,d=u[c];return d&&(s=(0,Be.resolveUrl)(this.opts.uriResolver,s,d)),new Wn({schema:u,schemaId:c,root:e,baseId:s})}return ds.call(this,r,i)}}Me.resolveSchema=Jn;const yh=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function ds(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const u of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,ci.unescapeFragment)(u)];if(c===void 0)return;r=c;const d=typeof r=="object"&&r[this.opts.schemaId];!yh.has(u)&&d&&(t=(0,Be.resolveUrl)(this.opts.uriResolver,t,d))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,ci.schemaHasRulesButRef)(r,this.RULES)){const u=(0,Be.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=Jn.call(this,n,u)}const{schemaId:i}=this.opts;if(a=a||new Wn({schema:r,schemaId:i,root:n,baseId:t}),a.schema!==a.root.schema)return a}const _h="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",gh="Meta-schema for $data reference (JSON AnySchema extension proposal)",vh="object",wh=["$data"],Eh={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Sh=!1,bh={$id:_h,description:gh,type:vh,required:wh,properties:Eh,additionalProperties:Sh};var ya={},Bn={exports:{}};const Ph=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),pl=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function $l(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}const Nh=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function li(e){return e.length=0,!0}function Oh(e,t,r){if(e.length){const n=$l(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function Rh(e){let t=0;const r={error:!1,address:"",zone:""},n=[],s=[];let a=!1,i=!1,u=Oh;for(let c=0;c<e.length;c++){const d=e[c];if(!(d==="["||d==="]"))if(d===":"){if(a===!0&&(i=!0),!u(s,n,r))break;if(++t>7){r.error=!0;break}c>0&&e[c-1]===":"&&(a=!0),n.push(":");continue}else if(d==="%"){if(!u(s,n,r))break;u=li}else{s.push(d);continue}}return s.length&&(u===li?r.zone=s.join(""):i?n.push(s.join("")):n.push($l(s))),r.address=n.join(""),r}function yl(e){if(Th(e,":")<2)return{host:e,isIPV6:!1};const t=Rh(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function Th(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function Ih(e){let t=e;const r=[];let n=-1,s=0;for(;s=t.length;){if(s===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(s===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(s===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function jh(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Ah(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!pl(r)){const n=yl(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var _l={nonSimpleDomain:Nh,recomposeAuthority:Ah,normalizeComponentEncoding:jh,removeDotSegments:Ih,isIPv4:pl,isUUID:Ph,normalizeIPv6:yl};const{isUUID:kh}=_l,Ch=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function gl(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function vl(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function wl(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Dh(e){return e.secure=gl(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function Mh(e){if((e.port===(gl(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function Lh(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(Ch);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const s=`${n}:${t.nid||e.nid}`,a=_a(s);e.path=void 0,a&&(e=a.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Fh(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,a=_a(s);a&&(e=a.serialize(e,t));const i=e,u=e.nss;return i.path=`${n||t.nid}:${u}`,t.skipEscape=!0,i}function Vh(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!kh(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Uh(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const El={scheme:"http",domainHost:!0,parse:vl,serialize:wl},zh={scheme:"https",domainHost:El.domainHost,parse:vl,serialize:wl},En={scheme:"ws",domainHost:!0,parse:Dh,serialize:Mh},qh={scheme:"wss",domainHost:En.domainHost,parse:En.parse,serialize:En.serialize},Kh={scheme:"urn",parse:Lh,serialize:Fh,skipNormalize:!0},Gh={scheme:"urn:uuid",parse:Vh,serialize:Uh,skipNormalize:!0},An={http:El,https:zh,ws:En,wss:qh,urn:Kh,"urn:uuid":Gh};Object.setPrototypeOf(An,null);function _a(e){return e&&(An[e]||An[e.toLowerCase()])||void 0}var Hh={SCHEMES:An,getSchemeHandler:_a};const{normalizeIPv6:Wh,removeDotSegments:Ar,recomposeAuthority:Jh,normalizeComponentEncoding:rn,isIPv4:Bh,nonSimpleDomain:Xh}=_l,{SCHEMES:Yh,getSchemeHandler:Sl}=Hh;function Qh(e,t){return typeof e=="string"?e=at(mt(e,t),t):typeof e=="object"&&(e=mt(at(e,t),t)),e}function Zh(e,t,r){const n=r?Object.assign({scheme:"null"},r):{scheme:"null"},s=bl(mt(e,n),mt(t,n),n,!0);return n.skipEscape=!0,at(s,n)}function bl(e,t,r,n){const s={};return n||(e=mt(at(e,r),r),t=mt(at(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=Ar(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=Ar(t.path||""),s.query=t.query):(t.path?(t.path[0]==="/"?s.path=Ar(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=Ar(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function xh(e,t,r){return typeof e=="string"?(e=unescape(e),e=at(rn(mt(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=at(rn(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=at(rn(mt(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=at(rn(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function at(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],a=Sl(n.scheme||r.scheme);a&&a.serialize&&a.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");const i=Jh(r);if(i!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(i),r.path&&r.path[0]!=="/"&&s.push("/")),r.path!==void 0){let u=r.path;!n.absolutePath&&(!a||!a.absolutePath)&&(u=Ar(u)),i===void 0&&u[0]==="/"&&u[1]==="/"&&(u="/%2F"+u.slice(2)),s.push(u)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}const em=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function mt(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let s=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);const a=e.match(em);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host)if(Bh(n.host)===!1){const c=Wh(n.host);n.host=c.host.toLowerCase(),s=c.isIPV6}else s=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const i=Sl(r.scheme||n.scheme);if(!r.unicodeSupport&&(!i||!i.unicodeSupport)&&n.host&&(r.domainHost||i&&i.domainHost)&&s===!1&&Xh(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(u){n.error=n.error||"Host's domain name can not be converted to ASCII: "+u}(!i||i&&!i.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),i&&i.parse&&i.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const ga={SCHEMES:Yh,normalize:Qh,resolve:Zh,resolveComponent:bl,equal:xh,serialize:at,parse:mt};Bn.exports=ga;Bn.exports.default=ga;Bn.exports.fastUri=ga;var Pl=Bn.exports;Object.defineProperty(ya,"__esModule",{value:!0});const Nl=Pl;Nl.code='require("ajv/dist/runtime/uri").default';ya.default=Nl;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ye;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=te;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=pa(),s=yr,a=Yt,i=Me,u=te,c=be,d=_e,l=M,m=bh,P=ya,_=(v,p)=>new RegExp(v,p);_.code="new RegExp";const E=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},w=200;function N(v){var p,S,$,o,f,b,j,A,q,F,re,Fe,Ot,Rt,Tt,It,jt,At,kt,Ct,Dt,Mt,Lt,Ft,Vt;const Ke=v.strict,Ut=(p=v.code)===null||p===void 0?void 0:p.optimize,Pr=Ut===!0||Ut===void 0?1:Ut||0,Nr=($=(S=v.code)===null||S===void 0?void 0:S.regExp)!==null&&$!==void 0?$:_,cs=(o=v.uriResolver)!==null&&o!==void 0?o:P.default;return{strictSchema:(b=(f=v.strictSchema)!==null&&f!==void 0?f:Ke)!==null&&b!==void 0?b:!0,strictNumbers:(A=(j=v.strictNumbers)!==null&&j!==void 0?j:Ke)!==null&&A!==void 0?A:!0,strictTypes:(F=(q=v.strictTypes)!==null&&q!==void 0?q:Ke)!==null&&F!==void 0?F:"log",strictTuples:(Fe=(re=v.strictTuples)!==null&&re!==void 0?re:Ke)!==null&&Fe!==void 0?Fe:"log",strictRequired:(Rt=(Ot=v.strictRequired)!==null&&Ot!==void 0?Ot:Ke)!==null&&Rt!==void 0?Rt:!1,code:v.code?{...v.code,optimize:Pr,regExp:Nr}:{optimize:Pr,regExp:Nr},loopRequired:(Tt=v.loopRequired)!==null&&Tt!==void 0?Tt:w,loopEnum:(It=v.loopEnum)!==null&&It!==void 0?It:w,meta:(jt=v.meta)!==null&&jt!==void 0?jt:!0,messages:(At=v.messages)!==null&&At!==void 0?At:!0,inlineRefs:(kt=v.inlineRefs)!==null&&kt!==void 0?kt:!0,schemaId:(Ct=v.schemaId)!==null&&Ct!==void 0?Ct:"$id",addUsedSchema:(Dt=v.addUsedSchema)!==null&&Dt!==void 0?Dt:!0,validateSchema:(Mt=v.validateSchema)!==null&&Mt!==void 0?Mt:!0,validateFormats:(Lt=v.validateFormats)!==null&&Lt!==void 0?Lt:!0,unicodeRegExp:(Ft=v.unicodeRegExp)!==null&&Ft!==void 0?Ft:!0,int32range:(Vt=v.int32range)!==null&&Vt!==void 0?Vt:!0,uriResolver:cs}}class R{constructor(p={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,p=this.opts={...p,...N(p)};const{es5:S,lines:$}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:g,es5:S,lines:$}),this.logger=Q(p.logger);const o=p.validateFormats;p.validateFormats=!1,this.RULES=(0,a.getRules)(),I.call(this,y,p,"NOT SUPPORTED"),I.call(this,h,p,"DEPRECATED","warn"),this._metaOpts=H.call(this),p.formats&&ue.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),p.keywords&&V.call(this,p.keywords),typeof p.meta=="object"&&this.addMetaSchema(p.meta),W.call(this),p.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:p,meta:S,schemaId:$}=this.opts;let o=m;$==="id"&&(o={...m},o.id=o.$id,delete o.$id),S&&p&&this.addMetaSchema(o,o[$],!1)}defaultMeta(){const{meta:p,schemaId:S}=this.opts;return this.opts.defaultMeta=typeof p=="object"?p[S]||p:void 0}validate(p,S){let $;if(typeof p=="string"){if($=this.getSchema(p),!$)throw new Error(`no schema with key or ref "${p}"`)}else $=this.compile(p);const o=$(S);return"$async"in $||(this.errors=$.errors),o}compile(p,S){const $=this._addSchema(p,S);return $.validate||this._compileSchemaEnv($)}compileAsync(p,S){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:$}=this.opts;return o.call(this,p,S);async function o(F,re){await f.call(this,F.$schema);const Fe=this._addSchema(F,re);return Fe.validate||b.call(this,Fe)}async function f(F){F&&!this.getSchema(F)&&await o.call(this,{$ref:F},!0)}async function b(F){try{return this._compileSchemaEnv(F)}catch(re){if(!(re instanceof s.default))throw re;return j.call(this,re),await A.call(this,re.missingSchema),b.call(this,F)}}function j({missingSchema:F,missingRef:re}){if(this.refs[F])throw new Error(`AnySchema ${F} is loaded but ${re} cannot be resolved`)}async function A(F){const re=await q.call(this,F);this.refs[F]||await f.call(this,re.$schema),this.refs[F]||this.addSchema(re,F,S)}async function q(F){const re=this._loading[F];if(re)return re;try{return await(this._loading[F]=$(F))}finally{delete this._loading[F]}}}addSchema(p,S,$,o=this.opts.validateSchema){if(Array.isArray(p)){for(const b of p)this.addSchema(b,void 0,$,o);return this}let f;if(typeof p=="object"){const{schemaId:b}=this.opts;if(f=p[b],f!==void 0&&typeof f!="string")throw new Error(`schema ${b} must be string`)}return S=(0,c.normalizeId)(S||f),this._checkUnique(S),this.schemas[S]=this._addSchema(p,$,S,o,!0),this}addMetaSchema(p,S,$=this.opts.validateSchema){return this.addSchema(p,S,!0,$),this}validateSchema(p,S){if(typeof p=="boolean")return!0;let $;if($=p.$schema,$!==void 0&&typeof $!="string")throw new Error("$schema must be a string");if($=$||this.opts.defaultMeta||this.defaultMeta(),!$)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const o=this.validate($,p);if(!o&&S){const f="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(f);else throw new Error(f)}return o}getSchema(p){let S;for(;typeof(S=z.call(this,p))=="string";)p=S;if(S===void 0){const{schemaId:$}=this.opts,o=new i.SchemaEnv({schema:{},schemaId:$});if(S=i.resolveSchema.call(this,o,p),!S)return;this.refs[p]=S}return S.validate||this._compileSchemaEnv(S)}removeSchema(p){if(p instanceof RegExp)return this._removeAllSchemas(this.schemas,p),this._removeAllSchemas(this.refs,p),this;switch(typeof p){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const S=z.call(this,p);return typeof S=="object"&&this._cache.delete(S.schema),delete this.schemas[p],delete this.refs[p],this}case"object":{const S=p;this._cache.delete(S);let $=p[this.opts.schemaId];return $&&($=(0,c.normalizeId)($),delete this.schemas[$],delete this.refs[$]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(p){for(const S of p)this.addKeyword(S);return this}addKeyword(p,S){let $;if(typeof p=="string")$=p,typeof S=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),S.keyword=$);else if(typeof p=="object"&&S===void 0){if(S=p,$=S.keyword,Array.isArray($)&&!$.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(C.call(this,$,S),!S)return(0,l.eachItem)($,f=>k.call(this,f)),this;D.call(this,S);const o={...S,type:(0,d.getJSONTypes)(S.type),schemaType:(0,d.getJSONTypes)(S.schemaType)};return(0,l.eachItem)($,o.type.length===0?f=>k.call(this,f,o):f=>o.type.forEach(b=>k.call(this,f,o,b))),this}getKeyword(p){const S=this.RULES.all[p];return typeof S=="object"?S.definition:!!S}removeKeyword(p){const{RULES:S}=this;delete S.keywords[p],delete S.all[p];for(const $ of S.rules){const o=$.rules.findIndex(f=>f.keyword===p);o>=0&&$.rules.splice(o,1)}return this}addFormat(p,S){return typeof S=="string"&&(S=new RegExp(S)),this.formats[p]=S,this}errorsText(p=this.errors,{separator:S=", ",dataVar:$="data"}={}){return!p||p.length===0?"No errors":p.map(o=>`${$}${o.instancePath} ${o.message}`).reduce((o,f)=>o+S+f)}$dataMetaSchema(p,S){const $=this.RULES.all;p=JSON.parse(JSON.stringify(p));for(const o of S){const f=o.split("/").slice(1);let b=p;for(const j of f)b=b[j];for(const j in $){const A=$[j];if(typeof A!="object")continue;const{$data:q}=A.definition,F=b[j];q&&F&&(b[j]=T(F))}}return p}_removeAllSchemas(p,S){for(const $ in p){const o=p[$];(!S||S.test($))&&(typeof o=="string"?delete p[$]:o&&!o.meta&&(this._cache.delete(o.schema),delete p[$]))}}_addSchema(p,S,$,o=this.opts.validateSchema,f=this.opts.addUsedSchema){let b;const{schemaId:j}=this.opts;if(typeof p=="object")b=p[j];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof p!="boolean")throw new Error("schema must be object or boolean")}let A=this._cache.get(p);if(A!==void 0)return A;$=(0,c.normalizeId)(b||$);const q=c.getSchemaRefs.call(this,p,$);return A=new i.SchemaEnv({schema:p,schemaId:j,meta:S,baseId:$,localRefs:q}),this._cache.set(A.schema,A),f&&!$.startsWith("#")&&($&&this._checkUnique($),this.refs[$]=A),o&&this.validateSchema(p,!0),A}_checkUnique(p){if(this.schemas[p]||this.refs[p])throw new Error(`schema with key or id "${p}" already exists`)}_compileSchemaEnv(p){if(p.meta?this._compileMetaSchema(p):i.compileSchema.call(this,p),!p.validate)throw new Error("ajv implementation error");return p.validate}_compileMetaSchema(p){const S=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,p)}finally{this.opts=S}}}R.ValidationError=n.default,R.MissingRefError=s.default,e.default=R;function I(v,p,S,$="error"){for(const o in v){const f=o;f in p&&this.logger[$](`${S}: option ${o}. ${v[f]}`)}}function z(v){return v=(0,c.normalizeId)(v),this.schemas[v]||this.refs[v]}function W(){const v=this.opts.schemas;if(v)if(Array.isArray(v))this.addSchema(v);else for(const p in v)this.addSchema(v[p],p)}function ue(){for(const v in this.opts.formats){const p=this.opts.formats[v];p&&this.addFormat(v,p)}}function V(v){if(Array.isArray(v)){this.addVocabulary(v);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const p in v){const S=v[p];S.keyword||(S.keyword=p),this.addKeyword(S)}}function H(){const v={...this.opts};for(const p of E)delete v[p];return v}const ne={log(){},warn(){},error(){}};function Q(v){if(v===!1)return ne;if(v===void 0)return console;if(v.log&&v.warn&&v.error)return v;throw new Error("logger must implement log, warn and error methods")}const de=/^[a-z_$][a-z0-9_$:-]*$/i;function C(v,p){const{RULES:S}=this;if((0,l.eachItem)(v,$=>{if(S.keywords[$])throw new Error(`Keyword ${$} is already defined`);if(!de.test($))throw new Error(`Keyword ${$} has invalid name`)}),!!p&&p.$data&&!("code"in p||"validate"in p))throw new Error('$data keyword must have "code" or "validate" function')}function k(v,p,S){var $;const o=p==null?void 0:p.post;if(S&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:f}=this;let b=o?f.post:f.rules.find(({type:A})=>A===S);if(b||(b={type:S,rules:[]},f.rules.push(b)),f.keywords[v]=!0,!p)return;const j={keyword:v,definition:{...p,type:(0,d.getJSONTypes)(p.type),schemaType:(0,d.getJSONTypes)(p.schemaType)}};p.before?U.call(this,b,j,p.before):b.rules.push(j),f.all[v]=j,($=p.implements)===null||$===void 0||$.forEach(A=>this.addKeyword(A))}function U(v,p,S){const $=v.rules.findIndex(o=>o.keyword===S);$>=0?v.rules.splice($,0,p):(v.rules.push(p),this.logger.warn(`rule ${S} is not defined`))}function D(v){let{metaSchema:p}=v;p!==void 0&&(v.$data&&this.opts.$data&&(p=T(p)),v.validateSchema=this.compile(p,!0))}const O={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function T(v){return{anyOf:[v,O]}}})(Lc);var va={},wa={},Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});const tm={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Ea.default=tm;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.callRef=Qt.getValidate=void 0;const rm=yr,ui=x,Ce=te,tr=it,di=Me,nn=M,nm={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:i,opts:u,self:c}=n,{root:d}=a;if((r==="#"||r==="#/")&&s===d.baseId)return m();const l=di.resolveRef.call(c,d,s,r);if(l===void 0)throw new rm.default(n.opts.uriResolver,s,r);if(l instanceof di.SchemaEnv)return P(l);return _(l);function m(){if(a===d)return Sn(e,i,a,a.$async);const E=t.scopeValue("root",{ref:d});return Sn(e,(0,Ce._)`${E}.validate`,d,d.$async)}function P(E){const g=Ol(e,E);Sn(e,g,E,E.$async)}function _(E){const g=t.scopeValue("schema",u.code.source===!0?{ref:E,code:(0,Ce.stringify)(E)}:{ref:E}),y=t.name("valid"),h=e.subschema({schema:E,dataTypes:[],schemaPath:Ce.nil,topSchemaRef:g,errSchemaPath:r},y);e.mergeEvaluated(h),e.ok(y)}}};function Ol(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ce._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Qt.getValidate=Ol;function Sn(e,t,r,n){const{gen:s,it:a}=e,{allErrors:i,schemaEnv:u,opts:c}=a,d=c.passContext?tr.default.this:Ce.nil;n?l():m();function l(){if(!u.$async)throw new Error("async schema referenced by sync schema");const E=s.let("valid");s.try(()=>{s.code((0,Ce._)`await ${(0,ui.callValidateCode)(e,t,d)}`),_(t),i||s.assign(E,!0)},g=>{s.if((0,Ce._)`!(${g} instanceof ${a.ValidationError})`,()=>s.throw(g)),P(g),i||s.assign(E,!1)}),e.ok(E)}function m(){e.result((0,ui.callValidateCode)(e,t,d),()=>_(t),()=>P(t))}function P(E){const g=(0,Ce._)`${E}.errors`;s.assign(tr.default.vErrors,(0,Ce._)`${tr.default.vErrors} === null ? ${g} : ${tr.default.vErrors}.concat(${g})`),s.assign(tr.default.errors,(0,Ce._)`${tr.default.vErrors}.length`)}function _(E){var g;if(!a.opts.unevaluated)return;const y=(g=r==null?void 0:r.validate)===null||g===void 0?void 0:g.evaluated;if(a.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(a.props=nn.mergeEvaluated.props(s,y.props,a.props));else{const h=s.var("props",(0,Ce._)`${E}.evaluated.props`);a.props=nn.mergeEvaluated.props(s,h,a.props,Ce.Name)}if(a.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(a.items=nn.mergeEvaluated.items(s,y.items,a.items));else{const h=s.var("items",(0,Ce._)`${E}.evaluated.items`);a.items=nn.mergeEvaluated.items(s,h,a.items,Ce.Name)}}}Qt.callRef=Sn;Qt.default=nm;Object.defineProperty(wa,"__esModule",{value:!0});const sm=Ea,am=Qt,om=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",sm.default,am.default];wa.default=om;var Sa={},ba={};Object.defineProperty(ba,"__esModule",{value:!0});const kn=te,$t=kn.operators,Cn={maximum:{okStr:"<=",ok:$t.LTE,fail:$t.GT},minimum:{okStr:">=",ok:$t.GTE,fail:$t.LT},exclusiveMaximum:{okStr:"<",ok:$t.LT,fail:$t.GTE},exclusiveMinimum:{okStr:">",ok:$t.GT,fail:$t.LTE}},im={message:({keyword:e,schemaCode:t})=>(0,kn.str)`must be ${Cn[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,kn._)`{comparison: ${Cn[e].okStr}, limit: ${t}}`},cm={keyword:Object.keys(Cn),type:"number",schemaType:"number",$data:!0,error:im,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,kn._)`${r} ${Cn[t].fail} ${n} || isNaN(${r})`)}};ba.default=cm;var Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});const Mr=te,lm={message:({schemaCode:e})=>(0,Mr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Mr._)`{multipleOf: ${e}}`},um={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:lm,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,i=t.let("res"),u=a?(0,Mr._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${a}`:(0,Mr._)`${i} !== parseInt(${i})`;e.fail$data((0,Mr._)`(${n} === 0 || (${i} = ${r}/${n}, ${u}))`)}};Pa.default=um;var Na={},Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});function Rl(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}Oa.default=Rl;Rl.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Na,"__esModule",{value:!0});const Ht=te,dm=M,fm=Oa,hm={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Ht.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Ht._)`{limit: ${e}}`},mm={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:hm,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?Ht.operators.GT:Ht.operators.LT,i=s.opts.unicode===!1?(0,Ht._)`${r}.length`:(0,Ht._)`${(0,dm.useFunc)(e.gen,fm.default)}(${r})`;e.fail$data((0,Ht._)`${i} ${a} ${n}`)}};Na.default=mm;var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});const pm=x,Dn=te,$m={message:({schemaCode:e})=>(0,Dn.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Dn._)`{pattern: ${e}}`},ym={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:$m,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,i=a.opts.unicodeRegExp?"u":"",u=r?(0,Dn._)`(new RegExp(${s}, ${i}))`:(0,pm.usePattern)(e,n);e.fail$data((0,Dn._)`!${u}.test(${t})`)}};Ra.default=ym;var Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});const Lr=te,_m={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Lr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Lr._)`{limit: ${e}}`},gm={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:_m,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?Lr.operators.GT:Lr.operators.LT;e.fail$data((0,Lr._)`Object.keys(${r}).length ${s} ${n}`)}};Ta.default=gm;var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});const Rr=x,Fr=te,vm=M,wm={message:({params:{missingProperty:e}})=>(0,Fr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Fr._)`{missingProperty: ${e}}`},Em={keyword:"required",type:"object",schemaType:"array",$data:!0,error:wm,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:i}=e,{opts:u}=i;if(!a&&r.length===0)return;const c=r.length>=u.loopRequired;if(i.allErrors?d():l(),u.strictRequired){const _=e.parentSchema.properties,{definedProperties:E}=e.it;for(const g of r)if((_==null?void 0:_[g])===void 0&&!E.has(g)){const y=i.schemaEnv.baseId+i.errSchemaPath,h=`required property "${g}" is not defined at "${y}" (strictRequired)`;(0,vm.checkStrictMode)(i,h,i.opts.strictRequired)}}function d(){if(c||a)e.block$data(Fr.nil,m);else for(const _ of r)(0,Rr.checkReportMissingProp)(e,_)}function l(){const _=t.let("missing");if(c||a){const E=t.let("valid",!0);e.block$data(E,()=>P(_,E)),e.ok(E)}else t.if((0,Rr.checkMissingProp)(e,r,_)),(0,Rr.reportMissingProp)(e,_),t.else()}function m(){t.forOf("prop",n,_=>{e.setParams({missingProperty:_}),t.if((0,Rr.noPropertyInData)(t,s,_,u.ownProperties),()=>e.error())})}function P(_,E){e.setParams({missingProperty:_}),t.forOf(_,n,()=>{t.assign(E,(0,Rr.propertyInData)(t,s,_,u.ownProperties)),t.if((0,Fr.not)(E),()=>{e.error(),t.break()})},Fr.nil)}}};Ia.default=Em;var ja={};Object.defineProperty(ja,"__esModule",{value:!0});const Vr=te,Sm={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Vr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Vr._)`{limit: ${e}}`},bm={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Sm,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?Vr.operators.GT:Vr.operators.LT;e.fail$data((0,Vr._)`${r}.length ${s} ${n}`)}};ja.default=bm;var Aa={},Br={};Object.defineProperty(Br,"__esModule",{value:!0});const Tl=Hn;Tl.code='require("ajv/dist/runtime/equal").default';Br.default=Tl;Object.defineProperty(Aa,"__esModule",{value:!0});const fs=_e,we=te,Pm=M,Nm=Br,Om={message:({params:{i:e,j:t}})=>(0,we.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,we._)`{i: ${e}, j: ${t}}`},Rm={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Om,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:i,it:u}=e;if(!n&&!s)return;const c=t.let("valid"),d=a.items?(0,fs.getSchemaTypes)(a.items):[];e.block$data(c,l,(0,we._)`${i} === false`),e.ok(c);function l(){const E=t.let("i",(0,we._)`${r}.length`),g=t.let("j");e.setParams({i:E,j:g}),t.assign(c,!0),t.if((0,we._)`${E} > 1`,()=>(m()?P:_)(E,g))}function m(){return d.length>0&&!d.some(E=>E==="object"||E==="array")}function P(E,g){const y=t.name("item"),h=(0,fs.checkDataTypes)(d,y,u.opts.strictNumbers,fs.DataType.Wrong),w=t.const("indices",(0,we._)`{}`);t.for((0,we._)`;${E}--;`,()=>{t.let(y,(0,we._)`${r}[${E}]`),t.if(h,(0,we._)`continue`),d.length>1&&t.if((0,we._)`typeof ${y} == "string"`,(0,we._)`${y} += "_"`),t.if((0,we._)`typeof ${w}[${y}] == "number"`,()=>{t.assign(g,(0,we._)`${w}[${y}]`),e.error(),t.assign(c,!1).break()}).code((0,we._)`${w}[${y}] = ${E}`)})}function _(E,g){const y=(0,Pm.useFunc)(t,Nm.default),h=t.name("outer");t.label(h).for((0,we._)`;${E}--;`,()=>t.for((0,we._)`${g} = ${E}; ${g}--;`,()=>t.if((0,we._)`${y}(${r}[${E}], ${r}[${g}])`,()=>{e.error(),t.assign(c,!1).break(h)})))}}};Aa.default=Rm;var ka={};Object.defineProperty(ka,"__esModule",{value:!0});const As=te,Tm=M,Im=Br,jm={message:"must be equal to constant",params:({schemaCode:e})=>(0,As._)`{allowedValue: ${e}}`},Am={keyword:"const",$data:!0,error:jm,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,As._)`!${(0,Tm.useFunc)(t,Im.default)}(${r}, ${s})`):e.fail((0,As._)`${a} !== ${r}`)}};ka.default=Am;var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});const kr=te,km=M,Cm=Br,Dm={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,kr._)`{allowedValues: ${e}}`},Mm={keyword:"enum",schemaType:"array",$data:!0,error:Dm,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:i}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const u=s.length>=i.opts.loopEnum;let c;const d=()=>c??(c=(0,km.useFunc)(t,Cm.default));let l;if(u||n)l=t.let("valid"),e.block$data(l,m);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const _=t.const("vSchema",a);l=(0,kr.or)(...s.map((E,g)=>P(_,g)))}e.pass(l);function m(){t.assign(l,!1),t.forOf("v",a,_=>t.if((0,kr._)`${d()}(${r}, ${_})`,()=>t.assign(l,!0).break()))}function P(_,E){const g=s[E];return typeof g=="object"&&g!==null?(0,kr._)`${d()}(${r}, ${_}[${E}])`:(0,kr._)`${r} === ${g}`}}};Ca.default=Mm;Object.defineProperty(Sa,"__esModule",{value:!0});const Lm=ba,Fm=Pa,Vm=Na,Um=Ra,zm=Ta,qm=Ia,Km=ja,Gm=Aa,Hm=ka,Wm=Ca,Jm=[Lm.default,Fm.default,Vm.default,Um.default,zm.default,qm.default,Km.default,Gm.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Hm.default,Wm.default];Sa.default=Jm;var Da={},_r={};Object.defineProperty(_r,"__esModule",{value:!0});_r.validateAdditionalItems=void 0;const Wt=te,ks=M,Bm={message:({params:{len:e}})=>(0,Wt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Wt._)`{limit: ${e}}`},Xm={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Bm,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,ks.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Il(e,n)}};function Il(e,t){const{gen:r,schema:n,data:s,keyword:a,it:i}=e;i.items=!0;const u=r.const("len",(0,Wt._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Wt._)`${u} <= ${t.length}`);else if(typeof n=="object"&&!(0,ks.alwaysValidSchema)(i,n)){const d=r.var("valid",(0,Wt._)`${u} <= ${t.length}`);r.if((0,Wt.not)(d),()=>c(d)),e.ok(d)}function c(d){r.forRange("i",t.length,u,l=>{e.subschema({keyword:a,dataProp:l,dataPropType:ks.Type.Num},d),i.allErrors||r.if((0,Wt.not)(d),()=>r.break())})}}_r.validateAdditionalItems=Il;_r.default=Xm;var Ma={},gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.validateTuple=void 0;const fi=te,bn=M,Ym=x,Qm={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return jl(e,"additionalItems",t);r.items=!0,!(0,bn.alwaysValidSchema)(r,t)&&e.ok((0,Ym.validateArray)(e))}};function jl(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:i,it:u}=e;l(s),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=bn.mergeEvaluated.items(n,r.length,u.items));const c=n.name("valid"),d=n.const("len",(0,fi._)`${a}.length`);r.forEach((m,P)=>{(0,bn.alwaysValidSchema)(u,m)||(n.if((0,fi._)`${d} > ${P}`,()=>e.subschema({keyword:i,schemaProp:P,dataProp:P},c)),e.ok(c))});function l(m){const{opts:P,errSchemaPath:_}=u,E=r.length,g=E===m.minItems&&(E===m.maxItems||m[t]===!1);if(P.strictTuples&&!g){const y=`"${i}" is ${E}-tuple, but minItems or maxItems/${t} are not specified or different at path "${_}"`;(0,bn.checkStrictMode)(u,y,P.strictTuples)}}}gr.validateTuple=jl;gr.default=Qm;Object.defineProperty(Ma,"__esModule",{value:!0});const Zm=gr,xm={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Zm.validateTuple)(e,"items")};Ma.default=xm;var La={};Object.defineProperty(La,"__esModule",{value:!0});const hi=te,ep=M,tp=x,rp=_r,np={message:({params:{len:e}})=>(0,hi.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,hi._)`{limit: ${e}}`},sp={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:np,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,ep.alwaysValidSchema)(n,t)&&(s?(0,rp.validateAdditionalItems)(e,s):e.ok((0,tp.validateArray)(e)))}};La.default=sp;var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});const ze=te,sn=M,ap={message:({params:{min:e,max:t}})=>t===void 0?(0,ze.str)`must contain at least ${e} valid item(s)`:(0,ze.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ze._)`{minContains: ${e}}`:(0,ze._)`{minContains: ${e}, maxContains: ${t}}`},op={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:ap,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let i,u;const{minContains:c,maxContains:d}=n;a.opts.next?(i=c===void 0?1:c,u=d):i=1;const l=t.const("len",(0,ze._)`${s}.length`);if(e.setParams({min:i,max:u}),u===void 0&&i===0){(0,sn.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&i>u){(0,sn.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,sn.alwaysValidSchema)(a,r)){let g=(0,ze._)`${l} >= ${i}`;u!==void 0&&(g=(0,ze._)`${g} && ${l} <= ${u}`),e.pass(g);return}a.items=!0;const m=t.name("valid");u===void 0&&i===1?_(m,()=>t.if(m,()=>t.break())):i===0?(t.let(m,!0),u!==void 0&&t.if((0,ze._)`${s}.length > 0`,P)):(t.let(m,!1),P()),e.result(m,()=>e.reset());function P(){const g=t.name("_valid"),y=t.let("count",0);_(g,()=>t.if(g,()=>E(y)))}function _(g,y){t.forRange("i",0,l,h=>{e.subschema({keyword:"contains",dataProp:h,dataPropType:sn.Type.Num,compositeRule:!0},g),y()})}function E(g){t.code((0,ze._)`${g}++`),u===void 0?t.if((0,ze._)`${g} >= ${i}`,()=>t.assign(m,!0).break()):(t.if((0,ze._)`${g} > ${u}`,()=>t.assign(m,!1).break()),i===1?t.assign(m,!0):t.if((0,ze._)`${g} >= ${i}`,()=>t.assign(m,!0)))}}};Fa.default=op;var Al={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=te,r=M,n=x;e.error={message:({params:{property:c,depsCount:d,deps:l}})=>{const m=d===1?"property":"properties";return(0,t.str)`must have ${m} ${l} when property ${c} is present`},params:({params:{property:c,depsCount:d,deps:l,missingProperty:m}})=>(0,t._)`{property: ${c},
    missingProperty: ${m},
    depsCount: ${d},
    deps: ${l}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[d,l]=a(c);i(c,d),u(c,l)}};function a({schema:c}){const d={},l={};for(const m in c){if(m==="__proto__")continue;const P=Array.isArray(c[m])?d:l;P[m]=c[m]}return[d,l]}function i(c,d=c.schema){const{gen:l,data:m,it:P}=c;if(Object.keys(d).length===0)return;const _=l.let("missing");for(const E in d){const g=d[E];if(g.length===0)continue;const y=(0,n.propertyInData)(l,m,E,P.opts.ownProperties);c.setParams({property:E,depsCount:g.length,deps:g.join(", ")}),P.allErrors?l.if(y,()=>{for(const h of g)(0,n.checkReportMissingProp)(c,h)}):(l.if((0,t._)`${y} && (${(0,n.checkMissingProp)(c,g,_)})`),(0,n.reportMissingProp)(c,_),l.else())}}e.validatePropertyDeps=i;function u(c,d=c.schema){const{gen:l,data:m,keyword:P,it:_}=c,E=l.name("valid");for(const g in d)(0,r.alwaysValidSchema)(_,d[g])||(l.if((0,n.propertyInData)(l,m,g,_.opts.ownProperties),()=>{const y=c.subschema({keyword:P,schemaProp:g},E);c.mergeValidEvaluated(y,E)},()=>l.var(E,!0)),c.ok(E))}e.validateSchemaDeps=u,e.default=s})(Al);var Va={};Object.defineProperty(Va,"__esModule",{value:!0});const kl=te,ip=M,cp={message:"property name must be valid",params:({params:e})=>(0,kl._)`{propertyName: ${e.propertyName}}`},lp={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:cp,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,ip.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},a),t.if((0,kl.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};Va.default=lp;var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});const an=x,We=te,up=it,on=M,dp={message:"must NOT have additional properties",params:({params:e})=>(0,We._)`{additionalProperty: ${e.additionalProperty}}`},fp={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:dp,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:i}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:u,opts:c}=i;if(i.props=!0,c.removeAdditional!=="all"&&(0,on.alwaysValidSchema)(i,r))return;const d=(0,an.allSchemaProperties)(n.properties),l=(0,an.allSchemaProperties)(n.patternProperties);m(),e.ok((0,We._)`${a} === ${up.default.errors}`);function m(){t.forIn("key",s,y=>{!d.length&&!l.length?E(y):t.if(P(y),()=>E(y))})}function P(y){let h;if(d.length>8){const w=(0,on.schemaRefOrVal)(i,n.properties,"properties");h=(0,an.isOwnProperty)(t,w,y)}else d.length?h=(0,We.or)(...d.map(w=>(0,We._)`${y} === ${w}`)):h=We.nil;return l.length&&(h=(0,We.or)(h,...l.map(w=>(0,We._)`${(0,an.usePattern)(e,w)}.test(${y})`))),(0,We.not)(h)}function _(y){t.code((0,We._)`delete ${s}[${y}]`)}function E(y){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){_(y);return}if(r===!1){e.setParams({additionalProperty:y}),e.error(),u||t.break();return}if(typeof r=="object"&&!(0,on.alwaysValidSchema)(i,r)){const h=t.name("valid");c.removeAdditional==="failing"?(g(y,h,!1),t.if((0,We.not)(h),()=>{e.reset(),_(y)})):(g(y,h),u||t.if((0,We.not)(h),()=>t.break()))}}function g(y,h,w){const N={keyword:"additionalProperties",dataProp:y,dataPropType:on.Type.Str};w===!1&&Object.assign(N,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(N,h)}}};Xn.default=fp;var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});const hp=Ye,mi=x,hs=M,pi=Xn,mp={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&pi.default.code(new hp.KeywordCxt(a,pi.default,"additionalProperties"));const i=(0,mi.allSchemaProperties)(r);for(const m of i)a.definedProperties.add(m);a.opts.unevaluated&&i.length&&a.props!==!0&&(a.props=hs.mergeEvaluated.props(t,(0,hs.toHash)(i),a.props));const u=i.filter(m=>!(0,hs.alwaysValidSchema)(a,r[m]));if(u.length===0)return;const c=t.name("valid");for(const m of u)d(m)?l(m):(t.if((0,mi.propertyInData)(t,s,m,a.opts.ownProperties)),l(m),a.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(m),e.ok(c);function d(m){return a.opts.useDefaults&&!a.compositeRule&&r[m].default!==void 0}function l(m){e.subschema({keyword:"properties",schemaProp:m,dataProp:m},c)}}};Ua.default=mp;var za={};Object.defineProperty(za,"__esModule",{value:!0});const $i=x,cn=te,yi=M,_i=M,pp={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:i}=a,u=(0,$i.allSchemaProperties)(r),c=u.filter(g=>(0,yi.alwaysValidSchema)(a,r[g]));if(u.length===0||c.length===u.length&&(!a.opts.unevaluated||a.props===!0))return;const d=i.strictSchema&&!i.allowMatchingProperties&&s.properties,l=t.name("valid");a.props!==!0&&!(a.props instanceof cn.Name)&&(a.props=(0,_i.evaluatedPropsToName)(t,a.props));const{props:m}=a;P();function P(){for(const g of u)d&&_(g),a.allErrors?E(g):(t.var(l,!0),E(g),t.if(l))}function _(g){for(const y in d)new RegExp(g).test(y)&&(0,yi.checkStrictMode)(a,`property ${y} matches pattern ${g} (use allowMatchingProperties)`)}function E(g){t.forIn("key",n,y=>{t.if((0,cn._)`${(0,$i.usePattern)(e,g)}.test(${y})`,()=>{const h=c.includes(g);h||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:y,dataPropType:_i.Type.Str},l),a.opts.unevaluated&&m!==!0?t.assign((0,cn._)`${m}[${y}]`,!0):!h&&!a.allErrors&&t.if((0,cn.not)(l),()=>t.break())})})}}};za.default=pp;var qa={};Object.defineProperty(qa,"__esModule",{value:!0});const $p=M,yp={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,$p.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};qa.default=yp;var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});const _p=x,gp={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:_p.validateUnion,error:{message:"must match a schema in anyOf"}};Ka.default=gp;var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});const Pn=te,vp=M,wp={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Pn._)`{passingSchemas: ${e.passing}}`},Ep={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:wp,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,i=t.let("valid",!1),u=t.let("passing",null),c=t.name("_valid");e.setParams({passing:u}),t.block(d),e.result(i,()=>e.reset(),()=>e.error(!0));function d(){a.forEach((l,m)=>{let P;(0,vp.alwaysValidSchema)(s,l)?t.var(c,!0):P=e.subschema({keyword:"oneOf",schemaProp:m,compositeRule:!0},c),m>0&&t.if((0,Pn._)`${c} && ${i}`).assign(i,!1).assign(u,(0,Pn._)`[${u}, ${m}]`).else(),t.if(c,()=>{t.assign(i,!0),t.assign(u,m),P&&e.mergeEvaluated(P,Pn.Name)})})}}};Ga.default=Ep;var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});const Sp=M,bp={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,i)=>{if((0,Sp.alwaysValidSchema)(n,a))return;const u=e.subschema({keyword:"allOf",schemaProp:i},s);e.ok(s),e.mergeEvaluated(u)})}};Ha.default=bp;var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});const Mn=te,Cl=M,Pp={message:({params:e})=>(0,Mn.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Mn._)`{failingKeyword: ${e.ifClause}}`},Np={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Pp,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Cl.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=gi(n,"then"),a=gi(n,"else");if(!s&&!a)return;const i=t.let("valid",!0),u=t.name("_valid");if(c(),e.reset(),s&&a){const l=t.let("ifClause");e.setParams({ifClause:l}),t.if(u,d("then",l),d("else",l))}else s?t.if(u,d("then")):t.if((0,Mn.not)(u),d("else"));e.pass(i,()=>e.error(!0));function c(){const l=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(l)}function d(l,m){return()=>{const P=e.subschema({keyword:l},u);t.assign(i,u),e.mergeValidEvaluated(P,i),m?t.assign(m,(0,Mn._)`${l}`):e.setParams({ifClause:l})}}}};function gi(e,t){const r=e.schema[t];return r!==void 0&&!(0,Cl.alwaysValidSchema)(e,r)}Wa.default=Np;var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});const Op=M,Rp={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Op.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Ja.default=Rp;Object.defineProperty(Da,"__esModule",{value:!0});const Tp=_r,Ip=Ma,jp=gr,Ap=La,kp=Fa,Cp=Al,Dp=Va,Mp=Xn,Lp=Ua,Fp=za,Vp=qa,Up=Ka,zp=Ga,qp=Ha,Kp=Wa,Gp=Ja;function Hp(e=!1){const t=[Vp.default,Up.default,zp.default,qp.default,Kp.default,Gp.default,Dp.default,Mp.default,Cp.default,Lp.default,Fp.default];return e?t.push(Ip.default,Ap.default):t.push(Tp.default,jp.default),t.push(kp.default),t}Da.default=Hp;var Ba={},Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});const pe=te,Wp={message:({schemaCode:e})=>(0,pe.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,pe._)`{format: ${e}}`},Jp={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Wp,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:i,it:u}=e,{opts:c,errSchemaPath:d,schemaEnv:l,self:m}=u;if(!c.validateFormats)return;s?P():_();function P(){const E=r.scopeValue("formats",{ref:m.formats,code:c.code.formats}),g=r.const("fDef",(0,pe._)`${E}[${i}]`),y=r.let("fType"),h=r.let("format");r.if((0,pe._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>r.assign(y,(0,pe._)`${g}.type || "string"`).assign(h,(0,pe._)`${g}.validate`),()=>r.assign(y,(0,pe._)`"string"`).assign(h,g)),e.fail$data((0,pe.or)(w(),N()));function w(){return c.strictSchema===!1?pe.nil:(0,pe._)`${i} && !${h}`}function N(){const R=l.$async?(0,pe._)`(${g}.async ? await ${h}(${n}) : ${h}(${n}))`:(0,pe._)`${h}(${n})`,I=(0,pe._)`(typeof ${h} == "function" ? ${R} : ${h}.test(${n}))`;return(0,pe._)`${h} && ${h} !== true && ${y} === ${t} && !${I}`}}function _(){const E=m.formats[a];if(!E){w();return}if(E===!0)return;const[g,y,h]=N(E);g===t&&e.pass(R());function w(){if(c.strictSchema===!1){m.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${a}" ignored in schema at path "${d}"`}}function N(I){const z=I instanceof RegExp?(0,pe.regexpCode)(I):c.code.formats?(0,pe._)`${c.code.formats}${(0,pe.getProperty)(a)}`:void 0,W=r.scopeValue("formats",{key:a,ref:I,code:z});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,pe._)`${W}.validate`]:["string",I,W]}function R(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!l.$async)throw new Error("async format in sync schema");return(0,pe._)`await ${h}(${n})`}return typeof y=="function"?(0,pe._)`${h}(${n})`:(0,pe._)`${h}.test(${n})`}}}};Xa.default=Jp;Object.defineProperty(Ba,"__esModule",{value:!0});const Bp=Xa,Xp=[Bp.default];Ba.default=Xp;var mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.contentVocabulary=mr.metadataVocabulary=void 0;mr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];mr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(va,"__esModule",{value:!0});const Yp=wa,Qp=Sa,Zp=Da,xp=Ba,vi=mr,e$=[Yp.default,Qp.default,(0,Zp.default)(),xp.default,vi.metadataVocabulary,vi.contentVocabulary];va.default=e$;var Ya={},Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.DiscrError=void 0;var wi;(function(e){e.Tag="tag",e.Mapping="mapping"})(wi||(Yn.DiscrError=wi={}));Object.defineProperty(Ya,"__esModule",{value:!0});const sr=te,Cs=Yn,Ei=Me,t$=yr,r$=M,n$={message:({params:{discrError:e,tagName:t}})=>e===Cs.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,sr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},s$={keyword:"discriminator",type:"object",schemaType:"object",error:n$,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:i}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),d=t.const("tag",(0,sr._)`${r}${(0,sr.getProperty)(u)}`);t.if((0,sr._)`typeof ${d} == "string"`,()=>l(),()=>e.error(!1,{discrError:Cs.DiscrError.Tag,tag:d,tagName:u})),e.ok(c);function l(){const _=P();t.if(!1);for(const E in _)t.elseIf((0,sr._)`${d} === ${E}`),t.assign(c,m(_[E]));t.else(),e.error(!1,{discrError:Cs.DiscrError.Mapping,tag:d,tagName:u}),t.endIf()}function m(_){const E=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:_},E);return e.mergeEvaluated(g,sr.Name),E}function P(){var _;const E={},g=h(s);let y=!0;for(let R=0;R<i.length;R++){let I=i[R];if(I!=null&&I.$ref&&!(0,r$.schemaHasRulesButRef)(I,a.self.RULES)){const W=I.$ref;if(I=Ei.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,W),I instanceof Ei.SchemaEnv&&(I=I.schema),I===void 0)throw new t$.default(a.opts.uriResolver,a.baseId,W)}const z=(_=I==null?void 0:I.properties)===null||_===void 0?void 0:_[u];if(typeof z!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);y=y&&(g||h(I)),w(z,R)}if(!y)throw new Error(`discriminator: "${u}" must be required`);return E;function h({required:R}){return Array.isArray(R)&&R.includes(u)}function w(R,I){if(R.const)N(R.const,I);else if(R.enum)for(const z of R.enum)N(z,I);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function N(R,I){if(typeof R!="string"||R in E)throw new Error(`discriminator: "${u}" values must be unique strings`);E[R]=I}}}};Ya.default=s$;const a$="http://json-schema.org/draft-07/schema#",o$="http://json-schema.org/draft-07/schema#",i$="Core schema meta-schema",c$={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},l$=["object","boolean"],u$={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},d$={$schema:a$,$id:o$,title:i$,definitions:c$,type:l$,properties:u$,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=Lc,n=va,s=Ya,a=d$,i=["/properties"],u="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(E=>this.addVocabulary(E)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const E=this.opts.$data?this.$dataMetaSchema(a,i):a;this.addMetaSchema(E,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var d=Ye;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var l=te;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var m=pa();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return m.default}});var P=yr;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return P.default}})})(Os,Os.exports);var f$=Os.exports,Ds={exports:{}},Dl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(V,H){return{validate:V,compare:H}}e.fullFormats={date:t(a,i),time:t(c,d),"date-time":t(m,P),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:g,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:ue,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:h,int32:{type:"number",validate:R},int64:{type:"number",validate:I},float:{type:"number",validate:z},double:{type:"number",validate:z},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,i),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,d),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,P),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(V){return V%4===0&&(V%100!==0||V%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(V){const H=n.exec(V);if(!H)return!1;const ne=+H[1],Q=+H[2],de=+H[3];return Q>=1&&Q<=12&&de>=1&&de<=(Q===2&&r(ne)?29:s[Q])}function i(V,H){if(V&&H)return V>H?1:V<H?-1:0}const u=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(V,H){const ne=u.exec(V);if(!ne)return!1;const Q=+ne[1],de=+ne[2],C=+ne[3],k=ne[5];return(Q<=23&&de<=59&&C<=59||Q===23&&de===59&&C===60)&&(!H||k!=="")}function d(V,H){if(!(V&&H))return;const ne=u.exec(V),Q=u.exec(H);if(ne&&Q)return V=ne[1]+ne[2]+ne[3]+(ne[4]||""),H=Q[1]+Q[2]+Q[3]+(Q[4]||""),V>H?1:V<H?-1:0}const l=/t|\s/i;function m(V){const H=V.split(l);return H.length===2&&a(H[0])&&c(H[1],!0)}function P(V,H){if(!(V&&H))return;const[ne,Q]=V.split(l),[de,C]=H.split(l),k=i(ne,de);if(k!==void 0)return k||d(Q,C)}const _=/\/|:/,E=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function g(V){return _.test(V)&&E.test(V)}const y=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function h(V){return y.lastIndex=0,y.test(V)}const w=-2147483648,N=2**31-1;function R(V){return Number.isInteger(V)&&V<=N&&V>=w}function I(V){return Number.isInteger(V)}function z(){return!0}const W=/[^\\]\\Z/;function ue(V){if(W.test(V))return!1;try{return new RegExp(V),!0}catch{return!1}}})(Dl);var Ml={},Ms={exports:{}},Ll={},Qe={},pr={},Xr={},Z={},Wr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(w){if(super(),!e.IDENTIFIER.test(w))throw new Error("CodeGen: name must be a valid identifier");this.str=w}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(w){super(),this._items=typeof w=="string"?[w]:w}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const w=this._items[0];return w===""||w==='""'}get str(){var w;return(w=this._str)!==null&&w!==void 0?w:this._str=this._items.reduce((N,R)=>`${N}${R}`,"")}get names(){var w;return(w=this._names)!==null&&w!==void 0?w:this._names=this._items.reduce((N,R)=>(R instanceof r&&(N[R.str]=(N[R.str]||0)+1),N),{})}}e._Code=n,e.nil=new n("");function s(h,...w){const N=[h[0]];let R=0;for(;R<w.length;)u(N,w[R]),N.push(h[++R]);return new n(N)}e._=s;const a=new n("+");function i(h,...w){const N=[_(h[0])];let R=0;for(;R<w.length;)N.push(a),u(N,w[R]),N.push(a,_(h[++R]));return c(N),new n(N)}e.str=i;function u(h,w){w instanceof n?h.push(...w._items):w instanceof r?h.push(w):h.push(m(w))}e.addCodeArg=u;function c(h){let w=1;for(;w<h.length-1;){if(h[w]===a){const N=d(h[w-1],h[w+1]);if(N!==void 0){h.splice(w-1,3,N);continue}h[w++]="+"}w++}}function d(h,w){if(w==='""')return h;if(h==='""')return w;if(typeof h=="string")return w instanceof r||h[h.length-1]!=='"'?void 0:typeof w!="string"?`${h.slice(0,-1)}${w}"`:w[0]==='"'?h.slice(0,-1)+w.slice(1):void 0;if(typeof w=="string"&&w[0]==='"'&&!(h instanceof r))return`"${h}${w.slice(1)}`}function l(h,w){return w.emptyStr()?h:h.emptyStr()?w:i`${h}${w}`}e.strConcat=l;function m(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:_(Array.isArray(h)?h.join(","):h)}function P(h){return new n(_(h))}e.stringify=P;function _(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=_;function E(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):s`[${h}]`}e.getProperty=E;function g(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=g;function y(h){return new n(h.toString())}e.regexpCode=y})(Wr);var Ls={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Wr;class r extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:d,parent:l}={}){this._names={},this._prefixes=d,this._parent=l}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const l=this._names[d]||this._nameGroup(d);return`${d}${l.index++}`}_nameGroup(d){var l,m;if(!((m=(l=this._parent)===null||l===void 0?void 0:l._prefixes)===null||m===void 0)&&m.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=s;class a extends t.Name{constructor(d,l){super(l),this.prefix=d}setValue(d,{property:l,itemIndex:m}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(l)}[${m}]`}}e.ValueScopeName=a;const i=(0,t._)`\n`;class u extends s{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?i:t.nil}}get(){return this._scope}name(d){return new a(d,this._newName(d))}value(d,l){var m;if(l.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const P=this.toName(d),{prefix:_}=P,E=(m=l.key)!==null&&m!==void 0?m:l.ref;let g=this._values[_];if(g){const w=g.get(E);if(w)return w}else g=this._values[_]=new Map;g.set(E,P);const y=this._scope[_]||(this._scope[_]=[]),h=y.length;return y[h]=l.ref,P.setValue(l,{property:_,itemIndex:h}),P}getValue(d,l){const m=this._values[d];if(m)return m.get(l)}scopeRefs(d,l=this._values){return this._reduceValues(l,m=>{if(m.scopePath===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return(0,t._)`${d}${m.scopePath}`})}scopeCode(d=this._values,l,m){return this._reduceValues(d,P=>{if(P.value===void 0)throw new Error(`CodeGen: name "${P}" has no value`);return P.value.code},l,m)}_reduceValues(d,l,m={},P){let _=t.nil;for(const E in d){const g=d[E];if(!g)continue;const y=m[E]=m[E]||new Map;g.forEach(h=>{if(y.has(h))return;y.set(h,n.Started);let w=l(h);if(w){const N=this.opts.es5?e.varKinds.var:e.varKinds.const;_=(0,t._)`${_}${N} ${h} = ${w};${this.opts._n}`}else if(w=P==null?void 0:P(h))_=(0,t._)`${_}${w}${this.opts._n}`;else throw new r(h);y.set(h,n.Completed)})}return _}}e.ValueScope=u})(Ls);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Wr,r=Ls;var n=Wr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Ls;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(o,f){return this}}class i extends a{constructor(o,f,b){super(),this.varKind=o,this.name=f,this.rhs=b}render({es5:o,_n:f}){const b=o?r.varKinds.var:this.varKind,j=this.rhs===void 0?"":` = ${this.rhs}`;return`${b} ${this.name}${j};`+f}optimizeNames(o,f){if(o[this.name.str])return this.rhs&&(this.rhs=C(this.rhs,o,f)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(o,f,b){super(),this.lhs=o,this.rhs=f,this.sideEffects=b}render({_n:o}){return`${this.lhs} = ${this.rhs};`+o}optimizeNames(o,f){if(!(this.lhs instanceof t.Name&&!o[this.lhs.str]&&!this.sideEffects))return this.rhs=C(this.rhs,o,f),this}get names(){const o=this.lhs instanceof t.Name?{}:{...this.lhs.names};return de(o,this.rhs)}}class c extends u{constructor(o,f,b,j){super(o,b,j),this.op=f}render({_n:o}){return`${this.lhs} ${this.op}= ${this.rhs};`+o}}class d extends a{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`${this.label}:`+o}}class l extends a{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`break${this.label?` ${this.label}`:""};`+o}}class m extends a{constructor(o){super(),this.error=o}render({_n:o}){return`throw ${this.error};`+o}get names(){return this.error.names}}class P extends a{constructor(o){super(),this.code=o}render({_n:o}){return`${this.code};`+o}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(o,f){return this.code=C(this.code,o,f),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class _ extends a{constructor(o=[]){super(),this.nodes=o}render(o){return this.nodes.reduce((f,b)=>f+b.render(o),"")}optimizeNodes(){const{nodes:o}=this;let f=o.length;for(;f--;){const b=o[f].optimizeNodes();Array.isArray(b)?o.splice(f,1,...b):b?o[f]=b:o.splice(f,1)}return o.length>0?this:void 0}optimizeNames(o,f){const{nodes:b}=this;let j=b.length;for(;j--;){const A=b[j];A.optimizeNames(o,f)||(k(o,A.names),b.splice(j,1))}return b.length>0?this:void 0}get names(){return this.nodes.reduce((o,f)=>Q(o,f.names),{})}}class E extends _{render(o){return"{"+o._n+super.render(o)+"}"+o._n}}class g extends _{}class y extends E{}y.kind="else";class h extends E{constructor(o,f){super(f),this.condition=o}render(o){let f=`if(${this.condition})`+super.render(o);return this.else&&(f+="else "+this.else.render(o)),f}optimizeNodes(){super.optimizeNodes();const o=this.condition;if(o===!0)return this.nodes;let f=this.else;if(f){const b=f.optimizeNodes();f=this.else=Array.isArray(b)?new y(b):b}if(f)return o===!1?f instanceof h?f:f.nodes:this.nodes.length?this:new h(U(o),f instanceof h?[f]:f.nodes);if(!(o===!1||!this.nodes.length))return this}optimizeNames(o,f){var b;if(this.else=(b=this.else)===null||b===void 0?void 0:b.optimizeNames(o,f),!!(super.optimizeNames(o,f)||this.else))return this.condition=C(this.condition,o,f),this}get names(){const o=super.names;return de(o,this.condition),this.else&&Q(o,this.else.names),o}}h.kind="if";class w extends E{}w.kind="for";class N extends w{constructor(o){super(),this.iteration=o}render(o){return`for(${this.iteration})`+super.render(o)}optimizeNames(o,f){if(super.optimizeNames(o,f))return this.iteration=C(this.iteration,o,f),this}get names(){return Q(super.names,this.iteration.names)}}class R extends w{constructor(o,f,b,j){super(),this.varKind=o,this.name=f,this.from=b,this.to=j}render(o){const f=o.es5?r.varKinds.var:this.varKind,{name:b,from:j,to:A}=this;return`for(${f} ${b}=${j}; ${b}<${A}; ${b}++)`+super.render(o)}get names(){const o=de(super.names,this.from);return de(o,this.to)}}class I extends w{constructor(o,f,b,j){super(),this.loop=o,this.varKind=f,this.name=b,this.iterable=j}render(o){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(o)}optimizeNames(o,f){if(super.optimizeNames(o,f))return this.iterable=C(this.iterable,o,f),this}get names(){return Q(super.names,this.iterable.names)}}class z extends E{constructor(o,f,b){super(),this.name=o,this.args=f,this.async=b}render(o){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(o)}}z.kind="func";class W extends _{render(o){return"return "+super.render(o)}}W.kind="return";class ue extends E{render(o){let f="try"+super.render(o);return this.catch&&(f+=this.catch.render(o)),this.finally&&(f+=this.finally.render(o)),f}optimizeNodes(){var o,f;return super.optimizeNodes(),(o=this.catch)===null||o===void 0||o.optimizeNodes(),(f=this.finally)===null||f===void 0||f.optimizeNodes(),this}optimizeNames(o,f){var b,j;return super.optimizeNames(o,f),(b=this.catch)===null||b===void 0||b.optimizeNames(o,f),(j=this.finally)===null||j===void 0||j.optimizeNames(o,f),this}get names(){const o=super.names;return this.catch&&Q(o,this.catch.names),this.finally&&Q(o,this.finally.names),o}}class V extends E{constructor(o){super(),this.error=o}render(o){return`catch(${this.error})`+super.render(o)}}V.kind="catch";class H extends E{render(o){return"finally"+super.render(o)}}H.kind="finally";class ne{constructor(o,f={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...f,_n:f.lines?`
`:""},this._extScope=o,this._scope=new r.Scope({parent:o}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(o){return this._scope.name(o)}scopeName(o){return this._extScope.name(o)}scopeValue(o,f){const b=this._extScope.value(o,f);return(this._values[b.prefix]||(this._values[b.prefix]=new Set)).add(b),b}getScopeValue(o,f){return this._extScope.getValue(o,f)}scopeRefs(o){return this._extScope.scopeRefs(o,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(o,f,b,j){const A=this._scope.toName(f);return b!==void 0&&j&&(this._constants[A.str]=b),this._leafNode(new i(o,A,b)),A}const(o,f,b){return this._def(r.varKinds.const,o,f,b)}let(o,f,b){return this._def(r.varKinds.let,o,f,b)}var(o,f,b){return this._def(r.varKinds.var,o,f,b)}assign(o,f,b){return this._leafNode(new u(o,f,b))}add(o,f){return this._leafNode(new c(o,e.operators.ADD,f))}code(o){return typeof o=="function"?o():o!==t.nil&&this._leafNode(new P(o)),this}object(...o){const f=["{"];for(const[b,j]of o)f.length>1&&f.push(","),f.push(b),(b!==j||this.opts.es5)&&(f.push(":"),(0,t.addCodeArg)(f,j));return f.push("}"),new t._Code(f)}if(o,f,b){if(this._blockNode(new h(o)),f&&b)this.code(f).else().code(b).endIf();else if(f)this.code(f).endIf();else if(b)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(o){return this._elseNode(new h(o))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(h,y)}_for(o,f){return this._blockNode(o),f&&this.code(f).endFor(),this}for(o,f){return this._for(new N(o),f)}forRange(o,f,b,j,A=this.opts.es5?r.varKinds.var:r.varKinds.let){const q=this._scope.toName(o);return this._for(new R(A,q,f,b),()=>j(q))}forOf(o,f,b,j=r.varKinds.const){const A=this._scope.toName(o);if(this.opts.es5){const q=f instanceof t.Name?f:this.var("_arr",f);return this.forRange("_i",0,(0,t._)`${q}.length`,F=>{this.var(A,(0,t._)`${q}[${F}]`),b(A)})}return this._for(new I("of",j,A,f),()=>b(A))}forIn(o,f,b,j=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(o,(0,t._)`Object.keys(${f})`,b);const A=this._scope.toName(o);return this._for(new I("in",j,A,f),()=>b(A))}endFor(){return this._endBlockNode(w)}label(o){return this._leafNode(new d(o))}break(o){return this._leafNode(new l(o))}return(o){const f=new W;if(this._blockNode(f),this.code(o),f.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(W)}try(o,f,b){if(!f&&!b)throw new Error('CodeGen: "try" without "catch" and "finally"');const j=new ue;if(this._blockNode(j),this.code(o),f){const A=this.name("e");this._currNode=j.catch=new V(A),f(A)}return b&&(this._currNode=j.finally=new H,this.code(b)),this._endBlockNode(V,H)}throw(o){return this._leafNode(new m(o))}block(o,f){return this._blockStarts.push(this._nodes.length),o&&this.code(o).endBlock(f),this}endBlock(o){const f=this._blockStarts.pop();if(f===void 0)throw new Error("CodeGen: not in self-balancing block");const b=this._nodes.length-f;if(b<0||o!==void 0&&b!==o)throw new Error(`CodeGen: wrong number of nodes: ${b} vs ${o} expected`);return this._nodes.length=f,this}func(o,f=t.nil,b,j){return this._blockNode(new z(o,f,b)),j&&this.code(j).endFunc(),this}endFunc(){return this._endBlockNode(z)}optimize(o=1){for(;o-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(o){return this._currNode.nodes.push(o),this}_blockNode(o){this._currNode.nodes.push(o),this._nodes.push(o)}_endBlockNode(o,f){const b=this._currNode;if(b instanceof o||f&&b instanceof f)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${f?`${o.kind}/${f.kind}`:o.kind}"`)}_elseNode(o){const f=this._currNode;if(!(f instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=f.else=o,this}get _root(){return this._nodes[0]}get _currNode(){const o=this._nodes;return o[o.length-1]}set _currNode(o){const f=this._nodes;f[f.length-1]=o}}e.CodeGen=ne;function Q($,o){for(const f in o)$[f]=($[f]||0)+(o[f]||0);return $}function de($,o){return o instanceof t._CodeOrName?Q($,o.names):$}function C($,o,f){if($ instanceof t.Name)return b($);if(!j($))return $;return new t._Code($._items.reduce((A,q)=>(q instanceof t.Name&&(q=b(q)),q instanceof t._Code?A.push(...q._items):A.push(q),A),[]));function b(A){const q=f[A.str];return q===void 0||o[A.str]!==1?A:(delete o[A.str],q)}function j(A){return A instanceof t._Code&&A._items.some(q=>q instanceof t.Name&&o[q.str]===1&&f[q.str]!==void 0)}}function k($,o){for(const f in o)$[f]=($[f]||0)-(o[f]||0)}function U($){return typeof $=="boolean"||typeof $=="number"||$===null?!$:(0,t._)`!${S($)}`}e.not=U;const D=p(e.operators.AND);function O(...$){return $.reduce(D)}e.and=O;const T=p(e.operators.OR);function v(...$){return $.reduce(T)}e.or=v;function p($){return(o,f)=>o===t.nil?f:f===t.nil?o:(0,t._)`${S(o)} ${$} ${S(f)}`}function S($){return $ instanceof t.Name?$:(0,t._)`(${$})`}})(Z);var L={};Object.defineProperty(L,"__esModule",{value:!0});L.checkStrictMode=L.getErrorPath=L.Type=L.useFunc=L.setEvaluated=L.evaluatedPropsToName=L.mergeEvaluated=L.eachItem=L.unescapeJsonPointer=L.escapeJsonPointer=L.escapeFragment=L.unescapeFragment=L.schemaRefOrVal=L.schemaHasRulesButRef=L.schemaHasRules=L.checkUnknownRules=L.alwaysValidSchema=L.toHash=void 0;const ce=Z,h$=Wr;function m$(e){const t={};for(const r of e)t[r]=!0;return t}L.toHash=m$;function p$(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Fl(e,t),!Vl(t,e.self.RULES.all))}L.alwaysValidSchema=p$;function Fl(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const s=n.RULES.keywords;for(const a in t)s[a]||ql(e,`unknown keyword: "${a}"`)}L.checkUnknownRules=Fl;function Vl(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}L.schemaHasRules=Vl;function $$(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}L.schemaHasRulesButRef=$$;function y$({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ce._)`${r}`}return(0,ce._)`${e}${t}${(0,ce.getProperty)(n)}`}L.schemaRefOrVal=y$;function _$(e){return Ul(decodeURIComponent(e))}L.unescapeFragment=_$;function g$(e){return encodeURIComponent(Qa(e))}L.escapeFragment=g$;function Qa(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}L.escapeJsonPointer=Qa;function Ul(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}L.unescapeJsonPointer=Ul;function v$(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}L.eachItem=v$;function Si({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,a,i,u)=>{const c=i===void 0?a:i instanceof ce.Name?(a instanceof ce.Name?e(s,a,i):t(s,a,i),i):a instanceof ce.Name?(t(s,i,a),a):r(a,i);return u===ce.Name&&!(c instanceof ce.Name)?n(s,c):c}}L.mergeEvaluated={props:Si({mergeNames:(e,t,r)=>e.if((0,ce._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ce._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ce._)`${r} || {}`).code((0,ce._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ce._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ce._)`${r} || {}`),Za(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:zl}),items:Si({mergeNames:(e,t,r)=>e.if((0,ce._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ce._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ce._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ce._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function zl(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,ce._)`{}`);return t!==void 0&&Za(e,r,t),r}L.evaluatedPropsToName=zl;function Za(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ce._)`${t}${(0,ce.getProperty)(n)}`,!0))}L.setEvaluated=Za;const bi={};function w$(e,t){return e.scopeValue("func",{ref:t,code:bi[t.code]||(bi[t.code]=new h$._Code(t.code))})}L.useFunc=w$;var Fs;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Fs||(L.Type=Fs={}));function E$(e,t,r){if(e instanceof ce.Name){const n=t===Fs.Num;return r?n?(0,ce._)`"[" + ${e} + "]"`:(0,ce._)`"['" + ${e} + "']"`:n?(0,ce._)`"/" + ${e}`:(0,ce._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ce.getProperty)(e).toString():"/"+Qa(e)}L.getErrorPath=E$;function ql(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}L.checkStrictMode=ql;var ct={};Object.defineProperty(ct,"__esModule",{value:!0});const Oe=Z,S$={data:new Oe.Name("data"),valCxt:new Oe.Name("valCxt"),instancePath:new Oe.Name("instancePath"),parentData:new Oe.Name("parentData"),parentDataProperty:new Oe.Name("parentDataProperty"),rootData:new Oe.Name("rootData"),dynamicAnchors:new Oe.Name("dynamicAnchors"),vErrors:new Oe.Name("vErrors"),errors:new Oe.Name("errors"),this:new Oe.Name("this"),self:new Oe.Name("self"),scope:new Oe.Name("scope"),json:new Oe.Name("json"),jsonPos:new Oe.Name("jsonPos"),jsonLen:new Oe.Name("jsonLen"),jsonPart:new Oe.Name("jsonPart")};ct.default=S$;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Z,r=L,n=ct;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:h})=>h?(0,t.str)`"${y}" keyword must be ${h} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function s(y,h=e.keywordError,w,N){const{it:R}=y,{gen:I,compositeRule:z,allErrors:W}=R,ue=m(y,h,w);N??(z||W)?c(I,ue):d(R,(0,t._)`[${ue}]`)}e.reportError=s;function a(y,h=e.keywordError,w){const{it:N}=y,{gen:R,compositeRule:I,allErrors:z}=N,W=m(y,h,w);c(R,W),I||z||d(N,n.default.vErrors)}e.reportExtraError=a;function i(y,h){y.assign(n.default.errors,h),y.if((0,t._)`${n.default.vErrors} !== null`,()=>y.if(h,()=>y.assign((0,t._)`${n.default.vErrors}.length`,h),()=>y.assign(n.default.vErrors,null)))}e.resetErrorsCount=i;function u({gen:y,keyword:h,schemaValue:w,data:N,errsCount:R,it:I}){if(R===void 0)throw new Error("ajv implementation error");const z=y.name("err");y.forRange("i",R,n.default.errors,W=>{y.const(z,(0,t._)`${n.default.vErrors}[${W}]`),y.if((0,t._)`${z}.instancePath === undefined`,()=>y.assign((0,t._)`${z}.instancePath`,(0,t.strConcat)(n.default.instancePath,I.errorPath))),y.assign((0,t._)`${z}.schemaPath`,(0,t.str)`${I.errSchemaPath}/${h}`),I.opts.verbose&&(y.assign((0,t._)`${z}.schema`,w),y.assign((0,t._)`${z}.data`,N))})}e.extendErrors=u;function c(y,h){const w=y.const("err",h);y.if((0,t._)`${n.default.vErrors} === null`,()=>y.assign(n.default.vErrors,(0,t._)`[${w}]`),(0,t._)`${n.default.vErrors}.push(${w})`),y.code((0,t._)`${n.default.errors}++`)}function d(y,h){const{gen:w,validateName:N,schemaEnv:R}=y;R.$async?w.throw((0,t._)`new ${y.ValidationError}(${h})`):(w.assign((0,t._)`${N}.errors`,h),w.return(!1))}const l={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function m(y,h,w){const{createErrors:N}=y.it;return N===!1?(0,t._)`{}`:P(y,h,w)}function P(y,h,w={}){const{gen:N,it:R}=y,I=[_(R,w),E(y,w)];return g(y,h,I),N.object(...I)}function _({errorPath:y},{instancePath:h}){const w=h?(0,t.str)`${y}${(0,r.getErrorPath)(h,r.Type.Str)}`:y;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,w)]}function E({keyword:y,it:{errSchemaPath:h}},{schemaPath:w,parentSchema:N}){let R=N?h:(0,t.str)`${h}/${y}`;return w&&(R=(0,t.str)`${R}${(0,r.getErrorPath)(w,r.Type.Str)}`),[l.schemaPath,R]}function g(y,{params:h,message:w},N){const{keyword:R,data:I,schemaValue:z,it:W}=y,{opts:ue,propertyName:V,topSchemaRef:H,schemaPath:ne}=W;N.push([l.keyword,R],[l.params,typeof h=="function"?h(y):h||(0,t._)`{}`]),ue.messages&&N.push([l.message,typeof w=="function"?w(y):w]),ue.verbose&&N.push([l.schema,z],[l.parentSchema,(0,t._)`${H}${ne}`],[n.default.data,I]),V&&N.push([l.propertyName,V])}})(Xr);Object.defineProperty(pr,"__esModule",{value:!0});pr.boolOrEmptySchema=pr.topBoolOrEmptySchema=void 0;const b$=Xr,P$=Z,N$=ct,O$={message:"boolean schema is false"};function R$(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Kl(e,!1):typeof r=="object"&&r.$async===!0?t.return(N$.default.data):(t.assign((0,P$._)`${n}.errors`,null),t.return(!0))}pr.topBoolOrEmptySchema=R$;function T$(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Kl(e)):r.var(t,!0)}pr.boolOrEmptySchema=T$;function Kl(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,b$.reportError)(s,O$,void 0,t)}var ge={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.getRules=Zt.isJSONType=void 0;const I$=["string","number","integer","boolean","null","object","array"],j$=new Set(I$);function A$(e){return typeof e=="string"&&j$.has(e)}Zt.isJSONType=A$;function k$(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Zt.getRules=k$;var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.shouldUseRule=dt.shouldUseGroup=dt.schemaHasRulesForType=void 0;function C$({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Gl(e,n)}dt.schemaHasRulesForType=C$;function Gl(e,t){return t.rules.some(r=>Hl(e,r))}dt.shouldUseGroup=Gl;function Hl(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}dt.shouldUseRule=Hl;Object.defineProperty(ge,"__esModule",{value:!0});ge.reportTypeError=ge.checkDataTypes=ge.checkDataType=ge.coerceAndCheckDataType=ge.getJSONTypes=ge.getSchemaTypes=ge.DataType=void 0;const D$=Zt,M$=dt,L$=Xr,Y=Z,Wl=L;var lr;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(lr||(ge.DataType=lr={}));function F$(e){const t=Jl(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}ge.getSchemaTypes=F$;function Jl(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(D$.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}ge.getJSONTypes=Jl;function V$(e,t){const{gen:r,data:n,opts:s}=e,a=U$(t,s.coerceTypes),i=t.length>0&&!(a.length===0&&t.length===1&&(0,M$.schemaHasRulesForType)(e,t[0]));if(i){const u=xa(t,n,s.strictNumbers,lr.Wrong);r.if(u,()=>{a.length?z$(e,t,a):eo(e)})}return i}ge.coerceAndCheckDataType=V$;const Bl=new Set(["string","number","integer","boolean","null"]);function U$(e,t){return t?e.filter(r=>Bl.has(r)||t==="array"&&r==="array"):[]}function z$(e,t,r){const{gen:n,data:s,opts:a}=e,i=n.let("dataType",(0,Y._)`typeof ${s}`),u=n.let("coerced",(0,Y._)`undefined`);a.coerceTypes==="array"&&n.if((0,Y._)`${i} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,Y._)`${s}[0]`).assign(i,(0,Y._)`typeof ${s}`).if(xa(t,s,a.strictNumbers),()=>n.assign(u,s))),n.if((0,Y._)`${u} !== undefined`);for(const d of r)(Bl.has(d)||d==="array"&&a.coerceTypes==="array")&&c(d);n.else(),eo(e),n.endIf(),n.if((0,Y._)`${u} !== undefined`,()=>{n.assign(s,u),q$(e,u)});function c(d){switch(d){case"string":n.elseIf((0,Y._)`${i} == "number" || ${i} == "boolean"`).assign(u,(0,Y._)`"" + ${s}`).elseIf((0,Y._)`${s} === null`).assign(u,(0,Y._)`""`);return;case"number":n.elseIf((0,Y._)`${i} == "boolean" || ${s} === null
              || (${i} == "string" && ${s} && ${s} == +${s})`).assign(u,(0,Y._)`+${s}`);return;case"integer":n.elseIf((0,Y._)`${i} === "boolean" || ${s} === null
              || (${i} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(u,(0,Y._)`+${s}`);return;case"boolean":n.elseIf((0,Y._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(u,!1).elseIf((0,Y._)`${s} === "true" || ${s} === 1`).assign(u,!0);return;case"null":n.elseIf((0,Y._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(u,null);return;case"array":n.elseIf((0,Y._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${s} === null`).assign(u,(0,Y._)`[${s}]`)}}}function q$({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,Y._)`${t} !== undefined`,()=>e.assign((0,Y._)`${t}[${r}]`,n))}function Vs(e,t,r,n=lr.Correct){const s=n===lr.Correct?Y.operators.EQ:Y.operators.NEQ;let a;switch(e){case"null":return(0,Y._)`${t} ${s} null`;case"array":a=(0,Y._)`Array.isArray(${t})`;break;case"object":a=(0,Y._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=i((0,Y._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=i();break;default:return(0,Y._)`typeof ${t} ${s} ${e}`}return n===lr.Correct?a:(0,Y.not)(a);function i(u=Y.nil){return(0,Y.and)((0,Y._)`typeof ${t} == "number"`,u,r?(0,Y._)`isFinite(${t})`:Y.nil)}}ge.checkDataType=Vs;function xa(e,t,r,n){if(e.length===1)return Vs(e[0],t,r,n);let s;const a=(0,Wl.toHash)(e);if(a.array&&a.object){const i=(0,Y._)`typeof ${t} != "object"`;s=a.null?i:(0,Y._)`!${t} || ${i}`,delete a.null,delete a.array,delete a.object}else s=Y.nil;a.number&&delete a.integer;for(const i in a)s=(0,Y.and)(s,Vs(i,t,r,n));return s}ge.checkDataTypes=xa;const K$={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,Y._)`{type: ${e}}`:(0,Y._)`{type: ${t}}`};function eo(e){const t=G$(e);(0,L$.reportError)(t,K$)}ge.reportTypeError=eo;function G$(e){const{gen:t,data:r,schema:n}=e,s=(0,Wl.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.assignDefaults=void 0;const rr=Z,H$=L;function W$(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)Pi(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>Pi(e,a,s.default))}Qn.assignDefaults=W$;function Pi(e,t,r){const{gen:n,compositeRule:s,data:a,opts:i}=e;if(r===void 0)return;const u=(0,rr._)`${a}${(0,rr.getProperty)(t)}`;if(s){(0,H$.checkStrictMode)(e,`default is ignored for: ${u}`);return}let c=(0,rr._)`${u} === undefined`;i.useDefaults==="empty"&&(c=(0,rr._)`${c} || ${u} === null || ${u} === ""`),n.if(c,(0,rr._)`${u} = ${(0,rr.stringify)(r)}`)}var ot={},ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.validateUnion=ee.validateArray=ee.usePattern=ee.callValidateCode=ee.schemaProperties=ee.allSchemaProperties=ee.noPropertyInData=ee.propertyInData=ee.isOwnProperty=ee.hasPropFunc=ee.reportMissingProp=ee.checkMissingProp=ee.checkReportMissingProp=void 0;const he=Z,to=L,yt=ct,J$=L;function B$(e,t){const{gen:r,data:n,it:s}=e;r.if(no(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,he._)`${t}`},!0),e.error()})}ee.checkReportMissingProp=B$;function X$({gen:e,data:t,it:{opts:r}},n,s){return(0,he.or)(...n.map(a=>(0,he.and)(no(e,t,a,r.ownProperties),(0,he._)`${s} = ${a}`)))}ee.checkMissingProp=X$;function Y$(e,t){e.setParams({missingProperty:t},!0),e.error()}ee.reportMissingProp=Y$;function Xl(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,he._)`Object.prototype.hasOwnProperty`})}ee.hasPropFunc=Xl;function ro(e,t,r){return(0,he._)`${Xl(e)}.call(${t}, ${r})`}ee.isOwnProperty=ro;function Q$(e,t,r,n){const s=(0,he._)`${t}${(0,he.getProperty)(r)} !== undefined`;return n?(0,he._)`${s} && ${ro(e,t,r)}`:s}ee.propertyInData=Q$;function no(e,t,r,n){const s=(0,he._)`${t}${(0,he.getProperty)(r)} === undefined`;return n?(0,he.or)(s,(0,he.not)(ro(e,t,r))):s}ee.noPropertyInData=no;function Yl(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ee.allSchemaProperties=Yl;function Z$(e,t){return Yl(t).filter(r=>!(0,to.alwaysValidSchema)(e,t[r]))}ee.schemaProperties=Z$;function x$({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:i},u,c,d){const l=d?(0,he._)`${e}, ${t}, ${n}${s}`:t,m=[[yt.default.instancePath,(0,he.strConcat)(yt.default.instancePath,a)],[yt.default.parentData,i.parentData],[yt.default.parentDataProperty,i.parentDataProperty],[yt.default.rootData,yt.default.rootData]];i.opts.dynamicRef&&m.push([yt.default.dynamicAnchors,yt.default.dynamicAnchors]);const P=(0,he._)`${l}, ${r.object(...m)}`;return c!==he.nil?(0,he._)`${u}.call(${c}, ${P})`:(0,he._)`${u}(${P})`}ee.callValidateCode=x$;const ey=(0,he._)`new RegExp`;function ty({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,he._)`${s.code==="new RegExp"?ey:(0,J$.useFunc)(e,s)}(${r}, ${n})`})}ee.usePattern=ty;function ry(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const u=t.let("valid",!0);return i(()=>t.assign(u,!1)),u}return t.var(a,!0),i(()=>t.break()),a;function i(u){const c=t.const("len",(0,he._)`${r}.length`);t.forRange("i",0,c,d=>{e.subschema({keyword:n,dataProp:d,dataPropType:to.Type.Num},a),t.if((0,he.not)(a),u)})}}ee.validateArray=ry;function ny(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,to.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const i=t.let("valid",!1),u=t.name("_valid");t.block(()=>r.forEach((c,d)=>{const l=e.subschema({keyword:n,schemaProp:d,compositeRule:!0},u);t.assign(i,(0,he._)`${i} || ${u}`),e.mergeValidEvaluated(l,u)||t.if((0,he.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}ee.validateUnion=ny;Object.defineProperty(ot,"__esModule",{value:!0});ot.validateKeywordUsage=ot.validSchemaType=ot.funcKeywordCode=ot.macroKeywordCode=void 0;const je=Z,Jt=ct,sy=ee,ay=Xr;function oy(e,t){const{gen:r,keyword:n,schema:s,parentSchema:a,it:i}=e,u=t.macro.call(i.self,s,a,i),c=Ql(r,n,u);i.opts.validateSchema!==!1&&i.self.validateSchema(u,!0);const d=r.name("valid");e.subschema({schema:u,schemaPath:je.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},d),e.pass(d,()=>e.error(!0))}ot.macroKeywordCode=oy;function iy(e,t){var r;const{gen:n,keyword:s,schema:a,parentSchema:i,$data:u,it:c}=e;ly(c,t);const d=!u&&t.compile?t.compile.call(c.self,a,i,c):t.validate,l=Ql(n,s,d),m=n.let("valid");e.block$data(m,P),e.ok((r=t.valid)!==null&&r!==void 0?r:m);function P(){if(t.errors===!1)g(),t.modifying&&Ni(e),y(()=>e.error());else{const h=t.async?_():E();t.modifying&&Ni(e),y(()=>cy(e,h))}}function _(){const h=n.let("ruleErrs",null);return n.try(()=>g((0,je._)`await `),w=>n.assign(m,!1).if((0,je._)`${w} instanceof ${c.ValidationError}`,()=>n.assign(h,(0,je._)`${w}.errors`),()=>n.throw(w))),h}function E(){const h=(0,je._)`${l}.errors`;return n.assign(h,null),g(je.nil),h}function g(h=t.async?(0,je._)`await `:je.nil){const w=c.opts.passContext?Jt.default.this:Jt.default.self,N=!("compile"in t&&!u||t.schema===!1);n.assign(m,(0,je._)`${h}${(0,sy.callValidateCode)(e,l,w,N)}`,t.modifying)}function y(h){var w;n.if((0,je.not)((w=t.valid)!==null&&w!==void 0?w:m),h)}}ot.funcKeywordCode=iy;function Ni(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,je._)`${n.parentData}[${n.parentDataProperty}]`))}function cy(e,t){const{gen:r}=e;r.if((0,je._)`Array.isArray(${t})`,()=>{r.assign(Jt.default.vErrors,(0,je._)`${Jt.default.vErrors} === null ? ${t} : ${Jt.default.vErrors}.concat(${t})`).assign(Jt.default.errors,(0,je._)`${Jt.default.vErrors}.length`),(0,ay.extendErrors)(e)},()=>e.error())}function ly({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Ql(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,je.stringify)(r)})}function uy(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}ot.validSchemaType=uy;function dy({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const i=s.dependencies;if(i!=null&&i.some(u=>!Object.prototype.hasOwnProperty.call(e,u)))throw new Error(`parent schema must have dependencies of ${a}: ${i.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const c=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}ot.validateKeywordUsage=dy;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.extendSubschemaMode=Nt.extendSubschemaData=Nt.getSubschema=void 0;const rt=Z,Zl=L;function fy(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:i}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const u=e.schema[t];return r===void 0?{schema:u,schemaPath:(0,rt._)`${e.schemaPath}${(0,rt.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:u[r],schemaPath:(0,rt._)`${e.schemaPath}${(0,rt.getProperty)(t)}${(0,rt.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Zl.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:i,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}Nt.getSubschema=fy;function hy(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:i}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(r!==void 0){const{errorPath:d,dataPathArr:l,opts:m}=t,P=u.let("data",(0,rt._)`${t.data}${(0,rt.getProperty)(r)}`,!0);c(P),e.errorPath=(0,rt.str)`${d}${(0,Zl.getErrorPath)(r,n,m.jsPropertySyntax)}`,e.parentDataProperty=(0,rt._)`${r}`,e.dataPathArr=[...l,e.parentDataProperty]}if(s!==void 0){const d=s instanceof rt.Name?s:u.let("data",s,!0);c(d),i!==void 0&&(e.propertyName=i)}a&&(e.dataTypes=a);function c(d){e.data=d,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,d]}}Nt.extendSubschemaData=hy;function my(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}Nt.extendSubschemaMode=my;var Pe={},xl={exports:{}},bt=xl.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Nn(t,n,s,e,"",e)};bt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};bt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};bt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};bt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Nn(e,t,r,n,s,a,i,u,c,d){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,i,u,c,d);for(var l in n){var m=n[l];if(Array.isArray(m)){if(l in bt.arrayKeywords)for(var P=0;P<m.length;P++)Nn(e,t,r,m[P],s+"/"+l+"/"+P,a,s,l,n,P)}else if(l in bt.propsKeywords){if(m&&typeof m=="object")for(var _ in m)Nn(e,t,r,m[_],s+"/"+l+"/"+py(_),a,s,l,n,_)}else(l in bt.keywords||e.allKeys&&!(l in bt.skipKeywords))&&Nn(e,t,r,m,s+"/"+l,a,s,l,n)}r(n,s,a,i,u,c,d)}}function py(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var $y=xl.exports;Object.defineProperty(Pe,"__esModule",{value:!0});Pe.getSchemaRefs=Pe.resolveUrl=Pe.normalizeId=Pe._getFullPath=Pe.getFullPath=Pe.inlineRef=void 0;const yy=L,_y=Hn,gy=$y,vy=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function wy(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Us(e):t?eu(e)<=t:!1}Pe.inlineRef=wy;const Ey=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Us(e){for(const t in e){if(Ey.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Us)||typeof r=="object"&&Us(r))return!0}return!1}function eu(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!vy.has(r)&&(typeof e[r]=="object"&&(0,yy.eachItem)(e[r],n=>t+=eu(n)),t===1/0))return 1/0}return t}function tu(e,t="",r){r!==!1&&(t=ur(t));const n=e.parse(t);return ru(e,n)}Pe.getFullPath=tu;function ru(e,t){return e.serialize(t).split("#")[0]+"#"}Pe._getFullPath=ru;const Sy=/#\/?$/;function ur(e){return e?e.replace(Sy,""):""}Pe.normalizeId=ur;function by(e,t,r){return r=ur(r),e.resolve(t,r)}Pe.resolveUrl=by;const Py=/^[a-z_][-a-z0-9._]*$/i;function Ny(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=ur(e[r]||t),a={"":s},i=tu(n,s,!1),u={},c=new Set;return gy(e,{allKeys:!0},(m,P,_,E)=>{if(E===void 0)return;const g=i+P;let y=a[E];typeof m[r]=="string"&&(y=h.call(this,m[r])),w.call(this,m.$anchor),w.call(this,m.$dynamicAnchor),a[P]=y;function h(N){const R=this.opts.uriResolver.resolve;if(N=ur(y?R(y,N):N),c.has(N))throw l(N);c.add(N);let I=this.refs[N];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?d(m,I.schema,N):N!==ur(g)&&(N[0]==="#"?(d(m,u[N],N),u[N]=m):this.refs[N]=g),N}function w(N){if(typeof N=="string"){if(!Py.test(N))throw new Error(`invalid anchor "${N}"`);h.call(this,`#${N}`)}}}),u;function d(m,P,_){if(P!==void 0&&!_y(m,P))throw l(_)}function l(m){return new Error(`reference "${m}" resolves to more than one schema`)}}Pe.getSchemaRefs=Ny;Object.defineProperty(Qe,"__esModule",{value:!0});Qe.getData=Qe.KeywordCxt=Qe.validateFunctionCode=void 0;const nu=pr,Oi=ge,so=dt,Ln=ge,Oy=Qn,Ur=ot,ms=Nt,G=Z,B=ct,Ry=Pe,ft=L,Tr=Xr;function Ty(e){if(ou(e)&&(iu(e),au(e))){Ay(e);return}su(e,()=>(0,nu.topBoolOrEmptySchema)(e))}Qe.validateFunctionCode=Ty;function su({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,G._)`${B.default.data}, ${B.default.valCxt}`,n.$async,()=>{e.code((0,G._)`"use strict"; ${Ri(r,s)}`),jy(e,s),e.code(a)}):e.func(t,(0,G._)`${B.default.data}, ${Iy(s)}`,n.$async,()=>e.code(Ri(r,s)).code(a))}function Iy(e){return(0,G._)`{${B.default.instancePath}="", ${B.default.parentData}, ${B.default.parentDataProperty}, ${B.default.rootData}=${B.default.data}${e.dynamicRef?(0,G._)`, ${B.default.dynamicAnchors}={}`:G.nil}}={}`}function jy(e,t){e.if(B.default.valCxt,()=>{e.var(B.default.instancePath,(0,G._)`${B.default.valCxt}.${B.default.instancePath}`),e.var(B.default.parentData,(0,G._)`${B.default.valCxt}.${B.default.parentData}`),e.var(B.default.parentDataProperty,(0,G._)`${B.default.valCxt}.${B.default.parentDataProperty}`),e.var(B.default.rootData,(0,G._)`${B.default.valCxt}.${B.default.rootData}`),t.dynamicRef&&e.var(B.default.dynamicAnchors,(0,G._)`${B.default.valCxt}.${B.default.dynamicAnchors}`)},()=>{e.var(B.default.instancePath,(0,G._)`""`),e.var(B.default.parentData,(0,G._)`undefined`),e.var(B.default.parentDataProperty,(0,G._)`undefined`),e.var(B.default.rootData,B.default.data),t.dynamicRef&&e.var(B.default.dynamicAnchors,(0,G._)`{}`)})}function Ay(e){const{schema:t,opts:r,gen:n}=e;su(e,()=>{r.$comment&&t.$comment&&lu(e),Ly(e),n.let(B.default.vErrors,null),n.let(B.default.errors,0),r.unevaluated&&ky(e),cu(e),Uy(e)})}function ky(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,G._)`${r}.evaluated`),t.if((0,G._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,G._)`${e.evaluated}.props`,(0,G._)`undefined`)),t.if((0,G._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,G._)`${e.evaluated}.items`,(0,G._)`undefined`))}function Ri(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,G._)`/*# sourceURL=${r} */`:G.nil}function Cy(e,t){if(ou(e)&&(iu(e),au(e))){Dy(e,t);return}(0,nu.boolOrEmptySchema)(e,t)}function au({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function ou(e){return typeof e.schema!="boolean"}function Dy(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&lu(e),Fy(e),Vy(e);const a=n.const("_errs",B.default.errors);cu(e,a),n.var(t,(0,G._)`${a} === ${B.default.errors}`)}function iu(e){(0,ft.checkUnknownRules)(e),My(e)}function cu(e,t){if(e.opts.jtd)return Ti(e,[],!1,t);const r=(0,Oi.getSchemaTypes)(e.schema),n=(0,Oi.coerceAndCheckDataType)(e,r);Ti(e,r,!n,t)}function My(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,ft.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Ly(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,ft.checkStrictMode)(e,"default is ignored in the schema root")}function Fy(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Ry.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Vy(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function lu({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)e.code((0,G._)`${B.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const i=(0,G.str)`${n}/$comment`,u=e.scopeValue("root",{ref:t.root});e.code((0,G._)`${B.default.self}.opts.$comment(${a}, ${i}, ${u}.schema)`)}}function Uy(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,G._)`${B.default.errors} === 0`,()=>t.return(B.default.data),()=>t.throw((0,G._)`new ${s}(${B.default.vErrors})`)):(t.assign((0,G._)`${n}.errors`,B.default.vErrors),a.unevaluated&&zy(e),t.return((0,G._)`${B.default.errors} === 0`))}function zy({gen:e,evaluated:t,props:r,items:n}){r instanceof G.Name&&e.assign((0,G._)`${t}.props`,r),n instanceof G.Name&&e.assign((0,G._)`${t}.items`,n)}function Ti(e,t,r,n){const{gen:s,schema:a,data:i,allErrors:u,opts:c,self:d}=e,{RULES:l}=d;if(a.$ref&&(c.ignoreKeywordsWithRef||!(0,ft.schemaHasRulesButRef)(a,l))){s.block(()=>fu(e,"$ref",l.all.$ref.definition));return}c.jtd||qy(e,t),s.block(()=>{for(const P of l.rules)m(P);m(l.post)});function m(P){(0,so.shouldUseGroup)(a,P)&&(P.type?(s.if((0,Ln.checkDataType)(P.type,i,c.strictNumbers)),Ii(e,P),t.length===1&&t[0]===P.type&&r&&(s.else(),(0,Ln.reportTypeError)(e)),s.endIf()):Ii(e,P),u||s.if((0,G._)`${B.default.errors} === ${n||0}`))}}function Ii(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,Oy.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,so.shouldUseRule)(n,a)&&fu(e,a.keyword,a.definition,t.type)})}function qy(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Ky(e,t),e.opts.allowUnionTypes||Gy(e,t),Hy(e,e.dataTypes))}function Ky(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{uu(e.dataTypes,r)||ao(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Jy(e,t)}}function Gy(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&ao(e,"use allowUnionTypes to allow union type keyword")}function Hy(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,so.shouldUseRule)(e.schema,s)){const{type:a}=s.definition;a.length&&!a.some(i=>Wy(t,i))&&ao(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function Wy(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function uu(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Jy(e,t){const r=[];for(const n of e.dataTypes)uu(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function ao(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,ft.checkStrictMode)(e,t,e.opts.strictTypes)}class du{constructor(t,r,n){if((0,Ur.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ft.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",hu(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Ur.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",B.default.errors))}result(t,r,n){this.failResult((0,G.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,G.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,G._)`${r} !== undefined && (${(0,G.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Tr.reportExtraError:Tr.reportError)(this,this.def.error,r)}$dataError(){(0,Tr.reportError)(this,this.def.$dataError||Tr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Tr.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=G.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=G.nil,r=G.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:i}=this;n.if((0,G.or)((0,G._)`${s} === undefined`,r)),t!==G.nil&&n.assign(t,!0),(a.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==G.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,G.or)(i(),u());function i(){if(n.length){if(!(r instanceof G.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,G._)`${(0,Ln.checkDataTypes)(c,r,a.opts.strictNumbers,Ln.DataType.Wrong)}`}return G.nil}function u(){if(s.validateSchema){const c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,G._)`!${c}(${r})`}return G.nil}}subschema(t,r){const n=(0,ms.getSubschema)(this.it,t);(0,ms.extendSubschemaData)(n,this.it,t),(0,ms.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return Cy(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=ft.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=ft.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,G.Name)),!0}}Qe.KeywordCxt=du;function fu(e,t,r,n){const s=new du(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,Ur.funcKeywordCode)(s,r):"macro"in r?(0,Ur.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,Ur.funcKeywordCode)(s,r)}const By=/^\/(?:[^~]|~0|~1)*$/,Xy=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function hu(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return B.default.rootData;if(e[0]==="/"){if(!By.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=B.default.rootData}else{const d=Xy.exec(e);if(!d)throw new Error(`Invalid JSON-pointer: ${e}`);const l=+d[1];if(s=d[2],s==="#"){if(l>=t)throw new Error(c("property/index",l));return n[t-l]}if(l>t)throw new Error(c("data",l));if(a=r[t-l],!s)return a}let i=a;const u=s.split("/");for(const d of u)d&&(a=(0,G._)`${a}${(0,G.getProperty)((0,ft.unescapeJsonPointer)(d))}`,i=(0,G._)`${i} && ${a}`);return i;function c(d,l){return`Cannot access ${d} ${l} levels up, current level is ${t}`}}Qe.getData=hu;var ln={},ji;function oo(){if(ji)return ln;ji=1,Object.defineProperty(ln,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return ln.default=e,ln}var vr={};Object.defineProperty(vr,"__esModule",{value:!0});const ps=Pe;class Yy extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,ps.resolveUrl)(t,r,n),this.missingSchema=(0,ps.normalizeId)((0,ps.getFullPath)(t,this.missingRef))}}vr.default=Yy;var Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.resolveSchema=Le.getCompilingSchema=Le.resolveRef=Le.compileSchema=Le.SchemaEnv=void 0;const He=Z,Qy=oo(),Kt=ct,Xe=Pe,Ai=L,Zy=Qe;class Zn{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Xe.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Le.SchemaEnv=Zn;function io(e){const t=mu.call(this,e);if(t)return t;const r=(0,Xe.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,i=new He.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let u;e.$async&&(u=i.scopeValue("Error",{ref:Qy.default,code:(0,He._)`require("ajv/dist/runtime/validation_error").default`}));const c=i.scopeName("validate");e.validateName=c;const d={gen:i,allErrors:this.opts.allErrors,data:Kt.default.data,parentData:Kt.default.parentData,parentDataProperty:Kt.default.parentDataProperty,dataNames:[Kt.default.data],dataPathArr:[He.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,He.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:u,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:He.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,He._)`""`,opts:this.opts,self:this};let l;try{this._compilations.add(e),(0,Zy.validateFunctionCode)(d),i.optimize(this.opts.code.optimize);const m=i.toString();l=`${i.scopeRefs(Kt.default.scope)}return ${m}`,this.opts.code.process&&(l=this.opts.code.process(l,e));const _=new Function(`${Kt.default.self}`,`${Kt.default.scope}`,l)(this,this.scope.get());if(this.scope.value(c,{ref:_}),_.errors=null,_.schema=e.schema,_.schemaEnv=e,e.$async&&(_.$async=!0),this.opts.code.source===!0&&(_.source={validateName:c,validateCode:m,scopeValues:i._values}),this.opts.unevaluated){const{props:E,items:g}=d;_.evaluated={props:E instanceof He.Name?void 0:E,items:g instanceof He.Name?void 0:g,dynamicProps:E instanceof He.Name,dynamicItems:g instanceof He.Name},_.source&&(_.source.evaluated=(0,He.stringify)(_.evaluated))}return e.validate=_,e}catch(m){throw delete e.validate,delete e.validateName,l&&this.logger.error("Error compiling schema, function code:",l),m}finally{this._compilations.delete(e)}}Le.compileSchema=io;function xy(e,t,r){var n;r=(0,Xe.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=r_.call(this,e,r);if(a===void 0){const i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:u}=this.opts;i&&(a=new Zn({schema:i,schemaId:u,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=e_.call(this,a)}Le.resolveRef=xy;function e_(e){return(0,Xe.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:io.call(this,e)}function mu(e){for(const t of this._compilations)if(t_(t,e))return t}Le.getCompilingSchema=mu;function t_(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function r_(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||xn.call(this,e,t)}function xn(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Xe._getFullPath)(this.opts.uriResolver,r);let s=(0,Xe.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return $s.call(this,r,e);const a=(0,Xe.normalizeId)(n),i=this.refs[a]||this.schemas[a];if(typeof i=="string"){const u=xn.call(this,e,i);return typeof(u==null?void 0:u.schema)!="object"?void 0:$s.call(this,r,u)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||io.call(this,i),a===(0,Xe.normalizeId)(t)){const{schema:u}=i,{schemaId:c}=this.opts,d=u[c];return d&&(s=(0,Xe.resolveUrl)(this.opts.uriResolver,s,d)),new Zn({schema:u,schemaId:c,root:e,baseId:s})}return $s.call(this,r,i)}}Le.resolveSchema=xn;const n_=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function $s(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const u of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,Ai.unescapeFragment)(u)];if(c===void 0)return;r=c;const d=typeof r=="object"&&r[this.opts.schemaId];!n_.has(u)&&d&&(t=(0,Xe.resolveUrl)(this.opts.uriResolver,t,d))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,Ai.schemaHasRulesButRef)(r,this.RULES)){const u=(0,Xe.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=xn.call(this,n,u)}const{schemaId:i}=this.opts;if(a=a||new Zn({schema:r,schemaId:i,root:n,baseId:t}),a.schema!==a.root.schema)return a}const s_="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",a_="Meta-schema for $data reference (JSON AnySchema extension proposal)",o_="object",i_=["$data"],c_={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},l_=!1,u_={$id:s_,description:a_,type:o_,required:i_,properties:c_,additionalProperties:l_};var co={};Object.defineProperty(co,"__esModule",{value:!0});const pu=Pl;pu.code='require("ajv/dist/runtime/uri").default';co.default=pu;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Qe;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Z;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=oo(),s=vr,a=Zt,i=Le,u=Z,c=Pe,d=ge,l=L,m=u_,P=co,_=(v,p)=>new RegExp(v,p);_.code="new RegExp";const E=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},w=200;function N(v){var p,S,$,o,f,b,j,A,q,F,re,Fe,Ot,Rt,Tt,It,jt,At,kt,Ct,Dt,Mt,Lt,Ft,Vt;const Ke=v.strict,Ut=(p=v.code)===null||p===void 0?void 0:p.optimize,Pr=Ut===!0||Ut===void 0?1:Ut||0,Nr=($=(S=v.code)===null||S===void 0?void 0:S.regExp)!==null&&$!==void 0?$:_,cs=(o=v.uriResolver)!==null&&o!==void 0?o:P.default;return{strictSchema:(b=(f=v.strictSchema)!==null&&f!==void 0?f:Ke)!==null&&b!==void 0?b:!0,strictNumbers:(A=(j=v.strictNumbers)!==null&&j!==void 0?j:Ke)!==null&&A!==void 0?A:!0,strictTypes:(F=(q=v.strictTypes)!==null&&q!==void 0?q:Ke)!==null&&F!==void 0?F:"log",strictTuples:(Fe=(re=v.strictTuples)!==null&&re!==void 0?re:Ke)!==null&&Fe!==void 0?Fe:"log",strictRequired:(Rt=(Ot=v.strictRequired)!==null&&Ot!==void 0?Ot:Ke)!==null&&Rt!==void 0?Rt:!1,code:v.code?{...v.code,optimize:Pr,regExp:Nr}:{optimize:Pr,regExp:Nr},loopRequired:(Tt=v.loopRequired)!==null&&Tt!==void 0?Tt:w,loopEnum:(It=v.loopEnum)!==null&&It!==void 0?It:w,meta:(jt=v.meta)!==null&&jt!==void 0?jt:!0,messages:(At=v.messages)!==null&&At!==void 0?At:!0,inlineRefs:(kt=v.inlineRefs)!==null&&kt!==void 0?kt:!0,schemaId:(Ct=v.schemaId)!==null&&Ct!==void 0?Ct:"$id",addUsedSchema:(Dt=v.addUsedSchema)!==null&&Dt!==void 0?Dt:!0,validateSchema:(Mt=v.validateSchema)!==null&&Mt!==void 0?Mt:!0,validateFormats:(Lt=v.validateFormats)!==null&&Lt!==void 0?Lt:!0,unicodeRegExp:(Ft=v.unicodeRegExp)!==null&&Ft!==void 0?Ft:!0,int32range:(Vt=v.int32range)!==null&&Vt!==void 0?Vt:!0,uriResolver:cs}}class R{constructor(p={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,p=this.opts={...p,...N(p)};const{es5:S,lines:$}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:g,es5:S,lines:$}),this.logger=Q(p.logger);const o=p.validateFormats;p.validateFormats=!1,this.RULES=(0,a.getRules)(),I.call(this,y,p,"NOT SUPPORTED"),I.call(this,h,p,"DEPRECATED","warn"),this._metaOpts=H.call(this),p.formats&&ue.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),p.keywords&&V.call(this,p.keywords),typeof p.meta=="object"&&this.addMetaSchema(p.meta),W.call(this),p.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:p,meta:S,schemaId:$}=this.opts;let o=m;$==="id"&&(o={...m},o.id=o.$id,delete o.$id),S&&p&&this.addMetaSchema(o,o[$],!1)}defaultMeta(){const{meta:p,schemaId:S}=this.opts;return this.opts.defaultMeta=typeof p=="object"?p[S]||p:void 0}validate(p,S){let $;if(typeof p=="string"){if($=this.getSchema(p),!$)throw new Error(`no schema with key or ref "${p}"`)}else $=this.compile(p);const o=$(S);return"$async"in $||(this.errors=$.errors),o}compile(p,S){const $=this._addSchema(p,S);return $.validate||this._compileSchemaEnv($)}compileAsync(p,S){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:$}=this.opts;return o.call(this,p,S);async function o(F,re){await f.call(this,F.$schema);const Fe=this._addSchema(F,re);return Fe.validate||b.call(this,Fe)}async function f(F){F&&!this.getSchema(F)&&await o.call(this,{$ref:F},!0)}async function b(F){try{return this._compileSchemaEnv(F)}catch(re){if(!(re instanceof s.default))throw re;return j.call(this,re),await A.call(this,re.missingSchema),b.call(this,F)}}function j({missingSchema:F,missingRef:re}){if(this.refs[F])throw new Error(`AnySchema ${F} is loaded but ${re} cannot be resolved`)}async function A(F){const re=await q.call(this,F);this.refs[F]||await f.call(this,re.$schema),this.refs[F]||this.addSchema(re,F,S)}async function q(F){const re=this._loading[F];if(re)return re;try{return await(this._loading[F]=$(F))}finally{delete this._loading[F]}}}addSchema(p,S,$,o=this.opts.validateSchema){if(Array.isArray(p)){for(const b of p)this.addSchema(b,void 0,$,o);return this}let f;if(typeof p=="object"){const{schemaId:b}=this.opts;if(f=p[b],f!==void 0&&typeof f!="string")throw new Error(`schema ${b} must be string`)}return S=(0,c.normalizeId)(S||f),this._checkUnique(S),this.schemas[S]=this._addSchema(p,$,S,o,!0),this}addMetaSchema(p,S,$=this.opts.validateSchema){return this.addSchema(p,S,!0,$),this}validateSchema(p,S){if(typeof p=="boolean")return!0;let $;if($=p.$schema,$!==void 0&&typeof $!="string")throw new Error("$schema must be a string");if($=$||this.opts.defaultMeta||this.defaultMeta(),!$)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const o=this.validate($,p);if(!o&&S){const f="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(f);else throw new Error(f)}return o}getSchema(p){let S;for(;typeof(S=z.call(this,p))=="string";)p=S;if(S===void 0){const{schemaId:$}=this.opts,o=new i.SchemaEnv({schema:{},schemaId:$});if(S=i.resolveSchema.call(this,o,p),!S)return;this.refs[p]=S}return S.validate||this._compileSchemaEnv(S)}removeSchema(p){if(p instanceof RegExp)return this._removeAllSchemas(this.schemas,p),this._removeAllSchemas(this.refs,p),this;switch(typeof p){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const S=z.call(this,p);return typeof S=="object"&&this._cache.delete(S.schema),delete this.schemas[p],delete this.refs[p],this}case"object":{const S=p;this._cache.delete(S);let $=p[this.opts.schemaId];return $&&($=(0,c.normalizeId)($),delete this.schemas[$],delete this.refs[$]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(p){for(const S of p)this.addKeyword(S);return this}addKeyword(p,S){let $;if(typeof p=="string")$=p,typeof S=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),S.keyword=$);else if(typeof p=="object"&&S===void 0){if(S=p,$=S.keyword,Array.isArray($)&&!$.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(C.call(this,$,S),!S)return(0,l.eachItem)($,f=>k.call(this,f)),this;D.call(this,S);const o={...S,type:(0,d.getJSONTypes)(S.type),schemaType:(0,d.getJSONTypes)(S.schemaType)};return(0,l.eachItem)($,o.type.length===0?f=>k.call(this,f,o):f=>o.type.forEach(b=>k.call(this,f,o,b))),this}getKeyword(p){const S=this.RULES.all[p];return typeof S=="object"?S.definition:!!S}removeKeyword(p){const{RULES:S}=this;delete S.keywords[p],delete S.all[p];for(const $ of S.rules){const o=$.rules.findIndex(f=>f.keyword===p);o>=0&&$.rules.splice(o,1)}return this}addFormat(p,S){return typeof S=="string"&&(S=new RegExp(S)),this.formats[p]=S,this}errorsText(p=this.errors,{separator:S=", ",dataVar:$="data"}={}){return!p||p.length===0?"No errors":p.map(o=>`${$}${o.instancePath} ${o.message}`).reduce((o,f)=>o+S+f)}$dataMetaSchema(p,S){const $=this.RULES.all;p=JSON.parse(JSON.stringify(p));for(const o of S){const f=o.split("/").slice(1);let b=p;for(const j of f)b=b[j];for(const j in $){const A=$[j];if(typeof A!="object")continue;const{$data:q}=A.definition,F=b[j];q&&F&&(b[j]=T(F))}}return p}_removeAllSchemas(p,S){for(const $ in p){const o=p[$];(!S||S.test($))&&(typeof o=="string"?delete p[$]:o&&!o.meta&&(this._cache.delete(o.schema),delete p[$]))}}_addSchema(p,S,$,o=this.opts.validateSchema,f=this.opts.addUsedSchema){let b;const{schemaId:j}=this.opts;if(typeof p=="object")b=p[j];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof p!="boolean")throw new Error("schema must be object or boolean")}let A=this._cache.get(p);if(A!==void 0)return A;$=(0,c.normalizeId)(b||$);const q=c.getSchemaRefs.call(this,p,$);return A=new i.SchemaEnv({schema:p,schemaId:j,meta:S,baseId:$,localRefs:q}),this._cache.set(A.schema,A),f&&!$.startsWith("#")&&($&&this._checkUnique($),this.refs[$]=A),o&&this.validateSchema(p,!0),A}_checkUnique(p){if(this.schemas[p]||this.refs[p])throw new Error(`schema with key or id "${p}" already exists`)}_compileSchemaEnv(p){if(p.meta?this._compileMetaSchema(p):i.compileSchema.call(this,p),!p.validate)throw new Error("ajv implementation error");return p.validate}_compileMetaSchema(p){const S=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,p)}finally{this.opts=S}}}R.ValidationError=n.default,R.MissingRefError=s.default,e.default=R;function I(v,p,S,$="error"){for(const o in v){const f=o;f in p&&this.logger[$](`${S}: option ${o}. ${v[f]}`)}}function z(v){return v=(0,c.normalizeId)(v),this.schemas[v]||this.refs[v]}function W(){const v=this.opts.schemas;if(v)if(Array.isArray(v))this.addSchema(v);else for(const p in v)this.addSchema(v[p],p)}function ue(){for(const v in this.opts.formats){const p=this.opts.formats[v];p&&this.addFormat(v,p)}}function V(v){if(Array.isArray(v)){this.addVocabulary(v);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const p in v){const S=v[p];S.keyword||(S.keyword=p),this.addKeyword(S)}}function H(){const v={...this.opts};for(const p of E)delete v[p];return v}const ne={log(){},warn(){},error(){}};function Q(v){if(v===!1)return ne;if(v===void 0)return console;if(v.log&&v.warn&&v.error)return v;throw new Error("logger must implement log, warn and error methods")}const de=/^[a-z_$][a-z0-9_$:-]*$/i;function C(v,p){const{RULES:S}=this;if((0,l.eachItem)(v,$=>{if(S.keywords[$])throw new Error(`Keyword ${$} is already defined`);if(!de.test($))throw new Error(`Keyword ${$} has invalid name`)}),!!p&&p.$data&&!("code"in p||"validate"in p))throw new Error('$data keyword must have "code" or "validate" function')}function k(v,p,S){var $;const o=p==null?void 0:p.post;if(S&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:f}=this;let b=o?f.post:f.rules.find(({type:A})=>A===S);if(b||(b={type:S,rules:[]},f.rules.push(b)),f.keywords[v]=!0,!p)return;const j={keyword:v,definition:{...p,type:(0,d.getJSONTypes)(p.type),schemaType:(0,d.getJSONTypes)(p.schemaType)}};p.before?U.call(this,b,j,p.before):b.rules.push(j),f.all[v]=j,($=p.implements)===null||$===void 0||$.forEach(A=>this.addKeyword(A))}function U(v,p,S){const $=v.rules.findIndex(o=>o.keyword===S);$>=0?v.rules.splice($,0,p):(v.rules.push(p),this.logger.warn(`rule ${S} is not defined`))}function D(v){let{metaSchema:p}=v;p!==void 0&&(v.$data&&this.opts.$data&&(p=T(p)),v.validateSchema=this.compile(p,!0))}const O={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function T(v){return{anyOf:[v,O]}}})(Ll);var lo={},uo={},fo={};Object.defineProperty(fo,"__esModule",{value:!0});const d_={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};fo.default=d_;var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.callRef=xt.getValidate=void 0;const f_=vr,ki=ee,De=Z,nr=ct,Ci=Le,un=L,h_={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:i,opts:u,self:c}=n,{root:d}=a;if((r==="#"||r==="#/")&&s===d.baseId)return m();const l=Ci.resolveRef.call(c,d,s,r);if(l===void 0)throw new f_.default(n.opts.uriResolver,s,r);if(l instanceof Ci.SchemaEnv)return P(l);return _(l);function m(){if(a===d)return On(e,i,a,a.$async);const E=t.scopeValue("root",{ref:d});return On(e,(0,De._)`${E}.validate`,d,d.$async)}function P(E){const g=$u(e,E);On(e,g,E,E.$async)}function _(E){const g=t.scopeValue("schema",u.code.source===!0?{ref:E,code:(0,De.stringify)(E)}:{ref:E}),y=t.name("valid"),h=e.subschema({schema:E,dataTypes:[],schemaPath:De.nil,topSchemaRef:g,errSchemaPath:r},y);e.mergeEvaluated(h),e.ok(y)}}};function $u(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,De._)`${r.scopeValue("wrapper",{ref:t})}.validate`}xt.getValidate=$u;function On(e,t,r,n){const{gen:s,it:a}=e,{allErrors:i,schemaEnv:u,opts:c}=a,d=c.passContext?nr.default.this:De.nil;n?l():m();function l(){if(!u.$async)throw new Error("async schema referenced by sync schema");const E=s.let("valid");s.try(()=>{s.code((0,De._)`await ${(0,ki.callValidateCode)(e,t,d)}`),_(t),i||s.assign(E,!0)},g=>{s.if((0,De._)`!(${g} instanceof ${a.ValidationError})`,()=>s.throw(g)),P(g),i||s.assign(E,!1)}),e.ok(E)}function m(){e.result((0,ki.callValidateCode)(e,t,d),()=>_(t),()=>P(t))}function P(E){const g=(0,De._)`${E}.errors`;s.assign(nr.default.vErrors,(0,De._)`${nr.default.vErrors} === null ? ${g} : ${nr.default.vErrors}.concat(${g})`),s.assign(nr.default.errors,(0,De._)`${nr.default.vErrors}.length`)}function _(E){var g;if(!a.opts.unevaluated)return;const y=(g=r==null?void 0:r.validate)===null||g===void 0?void 0:g.evaluated;if(a.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(a.props=un.mergeEvaluated.props(s,y.props,a.props));else{const h=s.var("props",(0,De._)`${E}.evaluated.props`);a.props=un.mergeEvaluated.props(s,h,a.props,De.Name)}if(a.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(a.items=un.mergeEvaluated.items(s,y.items,a.items));else{const h=s.var("items",(0,De._)`${E}.evaluated.items`);a.items=un.mergeEvaluated.items(s,h,a.items,De.Name)}}}xt.callRef=On;xt.default=h_;Object.defineProperty(uo,"__esModule",{value:!0});const m_=fo,p_=xt,$_=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",m_.default,p_.default];uo.default=$_;var ho={},mo={};Object.defineProperty(mo,"__esModule",{value:!0});const Fn=Z,_t=Fn.operators,Vn={maximum:{okStr:"<=",ok:_t.LTE,fail:_t.GT},minimum:{okStr:">=",ok:_t.GTE,fail:_t.LT},exclusiveMaximum:{okStr:"<",ok:_t.LT,fail:_t.GTE},exclusiveMinimum:{okStr:">",ok:_t.GT,fail:_t.LTE}},y_={message:({keyword:e,schemaCode:t})=>(0,Fn.str)`must be ${Vn[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Fn._)`{comparison: ${Vn[e].okStr}, limit: ${t}}`},__={keyword:Object.keys(Vn),type:"number",schemaType:"number",$data:!0,error:y_,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Fn._)`${r} ${Vn[t].fail} ${n} || isNaN(${r})`)}};mo.default=__;var po={};Object.defineProperty(po,"__esModule",{value:!0});const zr=Z,g_={message:({schemaCode:e})=>(0,zr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,zr._)`{multipleOf: ${e}}`},v_={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:g_,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,i=t.let("res"),u=a?(0,zr._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${a}`:(0,zr._)`${i} !== parseInt(${i})`;e.fail$data((0,zr._)`(${n} === 0 || (${i} = ${r}/${n}, ${u}))`)}};po.default=v_;var $o={},yo={};Object.defineProperty(yo,"__esModule",{value:!0});function yu(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}yo.default=yu;yu.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty($o,"__esModule",{value:!0});const Bt=Z,w_=L,E_=yo,S_={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Bt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Bt._)`{limit: ${e}}`},b_={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:S_,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?Bt.operators.GT:Bt.operators.LT,i=s.opts.unicode===!1?(0,Bt._)`${r}.length`:(0,Bt._)`${(0,w_.useFunc)(e.gen,E_.default)}(${r})`;e.fail$data((0,Bt._)`${i} ${a} ${n}`)}};$o.default=b_;var _o={};Object.defineProperty(_o,"__esModule",{value:!0});const P_=ee,Un=Z,N_={message:({schemaCode:e})=>(0,Un.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Un._)`{pattern: ${e}}`},O_={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:N_,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,i=a.opts.unicodeRegExp?"u":"",u=r?(0,Un._)`(new RegExp(${s}, ${i}))`:(0,P_.usePattern)(e,n);e.fail$data((0,Un._)`!${u}.test(${t})`)}};_o.default=O_;var go={};Object.defineProperty(go,"__esModule",{value:!0});const qr=Z,R_={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,qr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,qr._)`{limit: ${e}}`},T_={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:R_,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?qr.operators.GT:qr.operators.LT;e.fail$data((0,qr._)`Object.keys(${r}).length ${s} ${n}`)}};go.default=T_;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});const Ir=ee,Kr=Z,I_=L,j_={message:({params:{missingProperty:e}})=>(0,Kr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Kr._)`{missingProperty: ${e}}`},A_={keyword:"required",type:"object",schemaType:"array",$data:!0,error:j_,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:i}=e,{opts:u}=i;if(!a&&r.length===0)return;const c=r.length>=u.loopRequired;if(i.allErrors?d():l(),u.strictRequired){const _=e.parentSchema.properties,{definedProperties:E}=e.it;for(const g of r)if((_==null?void 0:_[g])===void 0&&!E.has(g)){const y=i.schemaEnv.baseId+i.errSchemaPath,h=`required property "${g}" is not defined at "${y}" (strictRequired)`;(0,I_.checkStrictMode)(i,h,i.opts.strictRequired)}}function d(){if(c||a)e.block$data(Kr.nil,m);else for(const _ of r)(0,Ir.checkReportMissingProp)(e,_)}function l(){const _=t.let("missing");if(c||a){const E=t.let("valid",!0);e.block$data(E,()=>P(_,E)),e.ok(E)}else t.if((0,Ir.checkMissingProp)(e,r,_)),(0,Ir.reportMissingProp)(e,_),t.else()}function m(){t.forOf("prop",n,_=>{e.setParams({missingProperty:_}),t.if((0,Ir.noPropertyInData)(t,s,_,u.ownProperties),()=>e.error())})}function P(_,E){e.setParams({missingProperty:_}),t.forOf(_,n,()=>{t.assign(E,(0,Ir.propertyInData)(t,s,_,u.ownProperties)),t.if((0,Kr.not)(E),()=>{e.error(),t.break()})},Kr.nil)}}};vo.default=A_;var wo={};Object.defineProperty(wo,"__esModule",{value:!0});const Gr=Z,k_={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Gr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Gr._)`{limit: ${e}}`},C_={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:k_,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?Gr.operators.GT:Gr.operators.LT;e.fail$data((0,Gr._)`${r}.length ${s} ${n}`)}};wo.default=C_;var Eo={},Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});const _u=Hn;_u.code='require("ajv/dist/runtime/equal").default';Yr.default=_u;Object.defineProperty(Eo,"__esModule",{value:!0});const ys=ge,Ee=Z,D_=L,M_=Yr,L_={message:({params:{i:e,j:t}})=>(0,Ee.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ee._)`{i: ${e}, j: ${t}}`},F_={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:L_,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:i,it:u}=e;if(!n&&!s)return;const c=t.let("valid"),d=a.items?(0,ys.getSchemaTypes)(a.items):[];e.block$data(c,l,(0,Ee._)`${i} === false`),e.ok(c);function l(){const E=t.let("i",(0,Ee._)`${r}.length`),g=t.let("j");e.setParams({i:E,j:g}),t.assign(c,!0),t.if((0,Ee._)`${E} > 1`,()=>(m()?P:_)(E,g))}function m(){return d.length>0&&!d.some(E=>E==="object"||E==="array")}function P(E,g){const y=t.name("item"),h=(0,ys.checkDataTypes)(d,y,u.opts.strictNumbers,ys.DataType.Wrong),w=t.const("indices",(0,Ee._)`{}`);t.for((0,Ee._)`;${E}--;`,()=>{t.let(y,(0,Ee._)`${r}[${E}]`),t.if(h,(0,Ee._)`continue`),d.length>1&&t.if((0,Ee._)`typeof ${y} == "string"`,(0,Ee._)`${y} += "_"`),t.if((0,Ee._)`typeof ${w}[${y}] == "number"`,()=>{t.assign(g,(0,Ee._)`${w}[${y}]`),e.error(),t.assign(c,!1).break()}).code((0,Ee._)`${w}[${y}] = ${E}`)})}function _(E,g){const y=(0,D_.useFunc)(t,M_.default),h=t.name("outer");t.label(h).for((0,Ee._)`;${E}--;`,()=>t.for((0,Ee._)`${g} = ${E}; ${g}--;`,()=>t.if((0,Ee._)`${y}(${r}[${E}], ${r}[${g}])`,()=>{e.error(),t.assign(c,!1).break(h)})))}}};Eo.default=F_;var So={};Object.defineProperty(So,"__esModule",{value:!0});const zs=Z,V_=L,U_=Yr,z_={message:"must be equal to constant",params:({schemaCode:e})=>(0,zs._)`{allowedValue: ${e}}`},q_={keyword:"const",$data:!0,error:z_,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,zs._)`!${(0,V_.useFunc)(t,U_.default)}(${r}, ${s})`):e.fail((0,zs._)`${a} !== ${r}`)}};So.default=q_;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});const Cr=Z,K_=L,G_=Yr,H_={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Cr._)`{allowedValues: ${e}}`},W_={keyword:"enum",schemaType:"array",$data:!0,error:H_,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:i}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const u=s.length>=i.opts.loopEnum;let c;const d=()=>c??(c=(0,K_.useFunc)(t,G_.default));let l;if(u||n)l=t.let("valid"),e.block$data(l,m);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const _=t.const("vSchema",a);l=(0,Cr.or)(...s.map((E,g)=>P(_,g)))}e.pass(l);function m(){t.assign(l,!1),t.forOf("v",a,_=>t.if((0,Cr._)`${d()}(${r}, ${_})`,()=>t.assign(l,!0).break()))}function P(_,E){const g=s[E];return typeof g=="object"&&g!==null?(0,Cr._)`${d()}(${r}, ${_}[${E}])`:(0,Cr._)`${r} === ${g}`}}};bo.default=W_;Object.defineProperty(ho,"__esModule",{value:!0});const J_=mo,B_=po,X_=$o,Y_=_o,Q_=go,Z_=vo,x_=wo,eg=Eo,tg=So,rg=bo,ng=[J_.default,B_.default,X_.default,Y_.default,Q_.default,Z_.default,x_.default,eg.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},tg.default,rg.default];ho.default=ng;var Po={},wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.validateAdditionalItems=void 0;const Xt=Z,qs=L,sg={message:({params:{len:e}})=>(0,Xt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Xt._)`{limit: ${e}}`},ag={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:sg,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,qs.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}gu(e,n)}};function gu(e,t){const{gen:r,schema:n,data:s,keyword:a,it:i}=e;i.items=!0;const u=r.const("len",(0,Xt._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Xt._)`${u} <= ${t.length}`);else if(typeof n=="object"&&!(0,qs.alwaysValidSchema)(i,n)){const d=r.var("valid",(0,Xt._)`${u} <= ${t.length}`);r.if((0,Xt.not)(d),()=>c(d)),e.ok(d)}function c(d){r.forRange("i",t.length,u,l=>{e.subschema({keyword:a,dataProp:l,dataPropType:qs.Type.Num},d),i.allErrors||r.if((0,Xt.not)(d),()=>r.break())})}}wr.validateAdditionalItems=gu;wr.default=ag;var No={},Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.validateTuple=void 0;const Di=Z,Rn=L,og=ee,ig={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return vu(e,"additionalItems",t);r.items=!0,!(0,Rn.alwaysValidSchema)(r,t)&&e.ok((0,og.validateArray)(e))}};function vu(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:i,it:u}=e;l(s),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=Rn.mergeEvaluated.items(n,r.length,u.items));const c=n.name("valid"),d=n.const("len",(0,Di._)`${a}.length`);r.forEach((m,P)=>{(0,Rn.alwaysValidSchema)(u,m)||(n.if((0,Di._)`${d} > ${P}`,()=>e.subschema({keyword:i,schemaProp:P,dataProp:P},c)),e.ok(c))});function l(m){const{opts:P,errSchemaPath:_}=u,E=r.length,g=E===m.minItems&&(E===m.maxItems||m[t]===!1);if(P.strictTuples&&!g){const y=`"${i}" is ${E}-tuple, but minItems or maxItems/${t} are not specified or different at path "${_}"`;(0,Rn.checkStrictMode)(u,y,P.strictTuples)}}}Er.validateTuple=vu;Er.default=ig;Object.defineProperty(No,"__esModule",{value:!0});const cg=Er,lg={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,cg.validateTuple)(e,"items")};No.default=lg;var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});const Mi=Z,ug=L,dg=ee,fg=wr,hg={message:({params:{len:e}})=>(0,Mi.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Mi._)`{limit: ${e}}`},mg={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:hg,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,ug.alwaysValidSchema)(n,t)&&(s?(0,fg.validateAdditionalItems)(e,s):e.ok((0,dg.validateArray)(e)))}};Oo.default=mg;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});const qe=Z,dn=L,pg={message:({params:{min:e,max:t}})=>t===void 0?(0,qe.str)`must contain at least ${e} valid item(s)`:(0,qe.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,qe._)`{minContains: ${e}}`:(0,qe._)`{minContains: ${e}, maxContains: ${t}}`},$g={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:pg,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let i,u;const{minContains:c,maxContains:d}=n;a.opts.next?(i=c===void 0?1:c,u=d):i=1;const l=t.const("len",(0,qe._)`${s}.length`);if(e.setParams({min:i,max:u}),u===void 0&&i===0){(0,dn.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&i>u){(0,dn.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,dn.alwaysValidSchema)(a,r)){let g=(0,qe._)`${l} >= ${i}`;u!==void 0&&(g=(0,qe._)`${g} && ${l} <= ${u}`),e.pass(g);return}a.items=!0;const m=t.name("valid");u===void 0&&i===1?_(m,()=>t.if(m,()=>t.break())):i===0?(t.let(m,!0),u!==void 0&&t.if((0,qe._)`${s}.length > 0`,P)):(t.let(m,!1),P()),e.result(m,()=>e.reset());function P(){const g=t.name("_valid"),y=t.let("count",0);_(g,()=>t.if(g,()=>E(y)))}function _(g,y){t.forRange("i",0,l,h=>{e.subschema({keyword:"contains",dataProp:h,dataPropType:dn.Type.Num,compositeRule:!0},g),y()})}function E(g){t.code((0,qe._)`${g}++`),u===void 0?t.if((0,qe._)`${g} >= ${i}`,()=>t.assign(m,!0).break()):(t.if((0,qe._)`${g} > ${u}`,()=>t.assign(m,!1).break()),i===1?t.assign(m,!0):t.if((0,qe._)`${g} >= ${i}`,()=>t.assign(m,!0)))}}};Ro.default=$g;var wu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Z,r=L,n=ee;e.error={message:({params:{property:c,depsCount:d,deps:l}})=>{const m=d===1?"property":"properties";return(0,t.str)`must have ${m} ${l} when property ${c} is present`},params:({params:{property:c,depsCount:d,deps:l,missingProperty:m}})=>(0,t._)`{property: ${c},
    missingProperty: ${m},
    depsCount: ${d},
    deps: ${l}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[d,l]=a(c);i(c,d),u(c,l)}};function a({schema:c}){const d={},l={};for(const m in c){if(m==="__proto__")continue;const P=Array.isArray(c[m])?d:l;P[m]=c[m]}return[d,l]}function i(c,d=c.schema){const{gen:l,data:m,it:P}=c;if(Object.keys(d).length===0)return;const _=l.let("missing");for(const E in d){const g=d[E];if(g.length===0)continue;const y=(0,n.propertyInData)(l,m,E,P.opts.ownProperties);c.setParams({property:E,depsCount:g.length,deps:g.join(", ")}),P.allErrors?l.if(y,()=>{for(const h of g)(0,n.checkReportMissingProp)(c,h)}):(l.if((0,t._)`${y} && (${(0,n.checkMissingProp)(c,g,_)})`),(0,n.reportMissingProp)(c,_),l.else())}}e.validatePropertyDeps=i;function u(c,d=c.schema){const{gen:l,data:m,keyword:P,it:_}=c,E=l.name("valid");for(const g in d)(0,r.alwaysValidSchema)(_,d[g])||(l.if((0,n.propertyInData)(l,m,g,_.opts.ownProperties),()=>{const y=c.subschema({keyword:P,schemaProp:g},E);c.mergeValidEvaluated(y,E)},()=>l.var(E,!0)),c.ok(E))}e.validateSchemaDeps=u,e.default=s})(wu);var To={};Object.defineProperty(To,"__esModule",{value:!0});const Eu=Z,yg=L,_g={message:"property name must be valid",params:({params:e})=>(0,Eu._)`{propertyName: ${e.propertyName}}`},gg={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:_g,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,yg.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},a),t.if((0,Eu.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};To.default=gg;var es={};Object.defineProperty(es,"__esModule",{value:!0});const fn=ee,Je=Z,vg=ct,hn=L,wg={message:"must NOT have additional properties",params:({params:e})=>(0,Je._)`{additionalProperty: ${e.additionalProperty}}`},Eg={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:wg,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:i}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:u,opts:c}=i;if(i.props=!0,c.removeAdditional!=="all"&&(0,hn.alwaysValidSchema)(i,r))return;const d=(0,fn.allSchemaProperties)(n.properties),l=(0,fn.allSchemaProperties)(n.patternProperties);m(),e.ok((0,Je._)`${a} === ${vg.default.errors}`);function m(){t.forIn("key",s,y=>{!d.length&&!l.length?E(y):t.if(P(y),()=>E(y))})}function P(y){let h;if(d.length>8){const w=(0,hn.schemaRefOrVal)(i,n.properties,"properties");h=(0,fn.isOwnProperty)(t,w,y)}else d.length?h=(0,Je.or)(...d.map(w=>(0,Je._)`${y} === ${w}`)):h=Je.nil;return l.length&&(h=(0,Je.or)(h,...l.map(w=>(0,Je._)`${(0,fn.usePattern)(e,w)}.test(${y})`))),(0,Je.not)(h)}function _(y){t.code((0,Je._)`delete ${s}[${y}]`)}function E(y){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){_(y);return}if(r===!1){e.setParams({additionalProperty:y}),e.error(),u||t.break();return}if(typeof r=="object"&&!(0,hn.alwaysValidSchema)(i,r)){const h=t.name("valid");c.removeAdditional==="failing"?(g(y,h,!1),t.if((0,Je.not)(h),()=>{e.reset(),_(y)})):(g(y,h),u||t.if((0,Je.not)(h),()=>t.break()))}}function g(y,h,w){const N={keyword:"additionalProperties",dataProp:y,dataPropType:hn.Type.Str};w===!1&&Object.assign(N,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(N,h)}}};es.default=Eg;var Io={};Object.defineProperty(Io,"__esModule",{value:!0});const Sg=Qe,Li=ee,_s=L,Fi=es,bg={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Fi.default.code(new Sg.KeywordCxt(a,Fi.default,"additionalProperties"));const i=(0,Li.allSchemaProperties)(r);for(const m of i)a.definedProperties.add(m);a.opts.unevaluated&&i.length&&a.props!==!0&&(a.props=_s.mergeEvaluated.props(t,(0,_s.toHash)(i),a.props));const u=i.filter(m=>!(0,_s.alwaysValidSchema)(a,r[m]));if(u.length===0)return;const c=t.name("valid");for(const m of u)d(m)?l(m):(t.if((0,Li.propertyInData)(t,s,m,a.opts.ownProperties)),l(m),a.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(m),e.ok(c);function d(m){return a.opts.useDefaults&&!a.compositeRule&&r[m].default!==void 0}function l(m){e.subschema({keyword:"properties",schemaProp:m,dataProp:m},c)}}};Io.default=bg;var jo={};Object.defineProperty(jo,"__esModule",{value:!0});const Vi=ee,mn=Z,Ui=L,zi=L,Pg={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:i}=a,u=(0,Vi.allSchemaProperties)(r),c=u.filter(g=>(0,Ui.alwaysValidSchema)(a,r[g]));if(u.length===0||c.length===u.length&&(!a.opts.unevaluated||a.props===!0))return;const d=i.strictSchema&&!i.allowMatchingProperties&&s.properties,l=t.name("valid");a.props!==!0&&!(a.props instanceof mn.Name)&&(a.props=(0,zi.evaluatedPropsToName)(t,a.props));const{props:m}=a;P();function P(){for(const g of u)d&&_(g),a.allErrors?E(g):(t.var(l,!0),E(g),t.if(l))}function _(g){for(const y in d)new RegExp(g).test(y)&&(0,Ui.checkStrictMode)(a,`property ${y} matches pattern ${g} (use allowMatchingProperties)`)}function E(g){t.forIn("key",n,y=>{t.if((0,mn._)`${(0,Vi.usePattern)(e,g)}.test(${y})`,()=>{const h=c.includes(g);h||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:y,dataPropType:zi.Type.Str},l),a.opts.unevaluated&&m!==!0?t.assign((0,mn._)`${m}[${y}]`,!0):!h&&!a.allErrors&&t.if((0,mn.not)(l),()=>t.break())})})}}};jo.default=Pg;var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});const Ng=L,Og={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Ng.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Ao.default=Og;var ko={};Object.defineProperty(ko,"__esModule",{value:!0});const Rg=ee,Tg={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Rg.validateUnion,error:{message:"must match a schema in anyOf"}};ko.default=Tg;var Co={};Object.defineProperty(Co,"__esModule",{value:!0});const Tn=Z,Ig=L,jg={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Tn._)`{passingSchemas: ${e.passing}}`},Ag={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:jg,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,i=t.let("valid",!1),u=t.let("passing",null),c=t.name("_valid");e.setParams({passing:u}),t.block(d),e.result(i,()=>e.reset(),()=>e.error(!0));function d(){a.forEach((l,m)=>{let P;(0,Ig.alwaysValidSchema)(s,l)?t.var(c,!0):P=e.subschema({keyword:"oneOf",schemaProp:m,compositeRule:!0},c),m>0&&t.if((0,Tn._)`${c} && ${i}`).assign(i,!1).assign(u,(0,Tn._)`[${u}, ${m}]`).else(),t.if(c,()=>{t.assign(i,!0),t.assign(u,m),P&&e.mergeEvaluated(P,Tn.Name)})})}}};Co.default=Ag;var Do={};Object.defineProperty(Do,"__esModule",{value:!0});const kg=L,Cg={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,i)=>{if((0,kg.alwaysValidSchema)(n,a))return;const u=e.subschema({keyword:"allOf",schemaProp:i},s);e.ok(s),e.mergeEvaluated(u)})}};Do.default=Cg;var Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});const zn=Z,Su=L,Dg={message:({params:e})=>(0,zn.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,zn._)`{failingKeyword: ${e.ifClause}}`},Mg={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Dg,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Su.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=qi(n,"then"),a=qi(n,"else");if(!s&&!a)return;const i=t.let("valid",!0),u=t.name("_valid");if(c(),e.reset(),s&&a){const l=t.let("ifClause");e.setParams({ifClause:l}),t.if(u,d("then",l),d("else",l))}else s?t.if(u,d("then")):t.if((0,zn.not)(u),d("else"));e.pass(i,()=>e.error(!0));function c(){const l=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(l)}function d(l,m){return()=>{const P=e.subschema({keyword:l},u);t.assign(i,u),e.mergeValidEvaluated(P,i),m?t.assign(m,(0,zn._)`${l}`):e.setParams({ifClause:l})}}}};function qi(e,t){const r=e.schema[t];return r!==void 0&&!(0,Su.alwaysValidSchema)(e,r)}Mo.default=Mg;var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});const Lg=L,Fg={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Lg.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Lo.default=Fg;Object.defineProperty(Po,"__esModule",{value:!0});const Vg=wr,Ug=No,zg=Er,qg=Oo,Kg=Ro,Gg=wu,Hg=To,Wg=es,Jg=Io,Bg=jo,Xg=Ao,Yg=ko,Qg=Co,Zg=Do,xg=Mo,e0=Lo;function t0(e=!1){const t=[Xg.default,Yg.default,Qg.default,Zg.default,xg.default,e0.default,Hg.default,Wg.default,Gg.default,Jg.default,Bg.default];return e?t.push(Ug.default,qg.default):t.push(Vg.default,zg.default),t.push(Kg.default),t}Po.default=t0;var Fo={},Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});const $e=Z,r0={message:({schemaCode:e})=>(0,$e.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,$e._)`{format: ${e}}`},n0={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r0,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:i,it:u}=e,{opts:c,errSchemaPath:d,schemaEnv:l,self:m}=u;if(!c.validateFormats)return;s?P():_();function P(){const E=r.scopeValue("formats",{ref:m.formats,code:c.code.formats}),g=r.const("fDef",(0,$e._)`${E}[${i}]`),y=r.let("fType"),h=r.let("format");r.if((0,$e._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>r.assign(y,(0,$e._)`${g}.type || "string"`).assign(h,(0,$e._)`${g}.validate`),()=>r.assign(y,(0,$e._)`"string"`).assign(h,g)),e.fail$data((0,$e.or)(w(),N()));function w(){return c.strictSchema===!1?$e.nil:(0,$e._)`${i} && !${h}`}function N(){const R=l.$async?(0,$e._)`(${g}.async ? await ${h}(${n}) : ${h}(${n}))`:(0,$e._)`${h}(${n})`,I=(0,$e._)`(typeof ${h} == "function" ? ${R} : ${h}.test(${n}))`;return(0,$e._)`${h} && ${h} !== true && ${y} === ${t} && !${I}`}}function _(){const E=m.formats[a];if(!E){w();return}if(E===!0)return;const[g,y,h]=N(E);g===t&&e.pass(R());function w(){if(c.strictSchema===!1){m.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${a}" ignored in schema at path "${d}"`}}function N(I){const z=I instanceof RegExp?(0,$e.regexpCode)(I):c.code.formats?(0,$e._)`${c.code.formats}${(0,$e.getProperty)(a)}`:void 0,W=r.scopeValue("formats",{key:a,ref:I,code:z});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,$e._)`${W}.validate`]:["string",I,W]}function R(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!l.$async)throw new Error("async format in sync schema");return(0,$e._)`await ${h}(${n})`}return typeof y=="function"?(0,$e._)`${h}(${n})`:(0,$e._)`${h}.test(${n})`}}}};Vo.default=n0;Object.defineProperty(Fo,"__esModule",{value:!0});const s0=Vo,a0=[s0.default];Fo.default=a0;var $r={};Object.defineProperty($r,"__esModule",{value:!0});$r.contentVocabulary=$r.metadataVocabulary=void 0;$r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];$r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(lo,"__esModule",{value:!0});const o0=uo,i0=ho,c0=Po,l0=Fo,Ki=$r,u0=[o0.default,i0.default,(0,c0.default)(),l0.default,Ki.metadataVocabulary,Ki.contentVocabulary];lo.default=u0;var Uo={},ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.DiscrError=void 0;var Gi;(function(e){e.Tag="tag",e.Mapping="mapping"})(Gi||(ts.DiscrError=Gi={}));Object.defineProperty(Uo,"__esModule",{value:!0});const ar=Z,Ks=ts,Hi=Le,d0=vr,f0=L,h0={message:({params:{discrError:e,tagName:t}})=>e===Ks.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,ar._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},m0={keyword:"discriminator",type:"object",schemaType:"object",error:h0,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:i}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),d=t.const("tag",(0,ar._)`${r}${(0,ar.getProperty)(u)}`);t.if((0,ar._)`typeof ${d} == "string"`,()=>l(),()=>e.error(!1,{discrError:Ks.DiscrError.Tag,tag:d,tagName:u})),e.ok(c);function l(){const _=P();t.if(!1);for(const E in _)t.elseIf((0,ar._)`${d} === ${E}`),t.assign(c,m(_[E]));t.else(),e.error(!1,{discrError:Ks.DiscrError.Mapping,tag:d,tagName:u}),t.endIf()}function m(_){const E=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:_},E);return e.mergeEvaluated(g,ar.Name),E}function P(){var _;const E={},g=h(s);let y=!0;for(let R=0;R<i.length;R++){let I=i[R];if(I!=null&&I.$ref&&!(0,f0.schemaHasRulesButRef)(I,a.self.RULES)){const W=I.$ref;if(I=Hi.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,W),I instanceof Hi.SchemaEnv&&(I=I.schema),I===void 0)throw new d0.default(a.opts.uriResolver,a.baseId,W)}const z=(_=I==null?void 0:I.properties)===null||_===void 0?void 0:_[u];if(typeof z!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);y=y&&(g||h(I)),w(z,R)}if(!y)throw new Error(`discriminator: "${u}" must be required`);return E;function h({required:R}){return Array.isArray(R)&&R.includes(u)}function w(R,I){if(R.const)N(R.const,I);else if(R.enum)for(const z of R.enum)N(z,I);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function N(R,I){if(typeof R!="string"||R in E)throw new Error(`discriminator: "${u}" values must be unique strings`);E[R]=I}}}};Uo.default=m0;const p0="http://json-schema.org/draft-07/schema#",$0="http://json-schema.org/draft-07/schema#",y0="Core schema meta-schema",_0={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},g0=["object","boolean"],v0={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},w0={$schema:p0,$id:$0,title:y0,definitions:_0,type:g0,properties:v0,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=Ll,n=lo,s=Uo,a=w0,i=["/properties"],u="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(E=>this.addVocabulary(E)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const E=this.opts.$data?this.$dataMetaSchema(a,i):a;this.addMetaSchema(E,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var d=Qe;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var l=Z;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var m=oo();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return m.default}});var P=vr;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return P.default}})})(Ms,Ms.exports);var E0=Ms.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=E0,r=Z,n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},a={message:({keyword:u,schemaCode:c})=>r.str`should be ${s[u].okStr} ${c}`,params:({keyword:u,schemaCode:c})=>r._`{comparison: ${s[u].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(u){const{gen:c,data:d,schemaCode:l,keyword:m,it:P}=u,{opts:_,self:E}=P;if(!_.validateFormats)return;const g=new t.KeywordCxt(P,E.RULES.all.format.definition,"format");g.$data?y():h();function y(){const N=c.scopeValue("formats",{ref:E.formats,code:_.code.formats}),R=c.const("fmt",r._`${N}[${g.schemaCode}]`);u.fail$data(r.or(r._`typeof ${R} != "object"`,r._`${R} instanceof RegExp`,r._`typeof ${R}.compare != "function"`,w(R)))}function h(){const N=g.schema,R=E.formats[N];if(!R||R===!0)return;if(typeof R!="object"||R instanceof RegExp||typeof R.compare!="function")throw new Error(`"${m}": format "${N}" does not define "compare" function`);const I=c.scopeValue("formats",{key:N,ref:R,code:_.code.formats?r._`${_.code.formats}${r.getProperty(N)}`:void 0});u.fail$data(w(I))}function w(N){return r._`${N}.compare(${d}, ${l}) ${s[m].fail} 0`}},dependencies:["format"]};const i=u=>(u.addKeyword(e.formatLimitDefinition),u);e.default=i})(Ml);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Dl,n=Ml,s=Z,a=new s.Name("fullFormats"),i=new s.Name("fastFormats"),u=(d,l={keywords:!0})=>{if(Array.isArray(l))return c(d,l,r.fullFormats,a),d;const[m,P]=l.mode==="fast"?[r.fastFormats,i]:[r.fullFormats,a],_=l.formats||r.formatNames;return c(d,_,m,P),l.keywords&&n.default(d),d};u.get=(d,l="full")=>{const P=(l==="fast"?r.fastFormats:r.fullFormats)[d];if(!P)throw new Error(`Unknown format "${d}"`);return P};function c(d,l,m,P){var _,E;(_=(E=d.opts.code).formats)!==null&&_!==void 0||(E.formats=s._`require("ajv-formats/dist/formats").${P}`);for(const g of l)d.addFormat(g,m[g])}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u})(Ds,Ds.exports);var S0=Ds.exports;const b0=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const s=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!P0(s,a)&&n||Object.defineProperty(e,r,a)},P0=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},N0=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},O0=(e,t)=>`/* Wrapped ${e}*/
${t}`,R0=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),T0=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),I0=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,s=O0.bind(null,n,t.toString());Object.defineProperty(s,"name",T0),Object.defineProperty(e,"toString",{...R0,value:s})},j0=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=e;for(const s of Reflect.ownKeys(t))b0(e,t,s,r);return N0(e,t),I0(e,t,n),e};var A0=j0;const k0=A0;var C0=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:n=!1,after:s=!0}=t;if(!n&&!s)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let a,i;const u=function(...c){const d=this,l=()=>{a=void 0,s&&(i=e.apply(d,c))},m=n&&!a;return clearTimeout(a),a=setTimeout(l,r),m&&(i=e.apply(d,c)),i};return k0(u,e),u.cancel=()=>{a&&(clearTimeout(a),a=void 0)},u},Gs={exports:{}};const D0="2.0.0",bu=256,M0=Number.MAX_SAFE_INTEGER||9007199254740991,L0=16,F0=bu-6,V0=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var rs={MAX_LENGTH:bu,MAX_SAFE_COMPONENT_LENGTH:L0,MAX_SAFE_BUILD_LENGTH:F0,MAX_SAFE_INTEGER:M0,RELEASE_TYPES:V0,SEMVER_SPEC_VERSION:D0,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const U0=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var ns=U0;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=rs,a=ns;t=e.exports={};const i=t.re=[],u=t.safeRe=[],c=t.src=[],d=t.safeSrc=[],l=t.t={};let m=0;const P="[a-zA-Z0-9-]",_=[["\\s",1],["\\d",s],[P,n]],E=y=>{for(const[h,w]of _)y=y.split(`${h}*`).join(`${h}{0,${w}}`).split(`${h}+`).join(`${h}{1,${w}}`);return y},g=(y,h,w)=>{const N=E(h),R=m++;a(y,R,h),l[y]=R,c[R]=h,d[R]=N,i[R]=new RegExp(h,w?"g":void 0),u[R]=new RegExp(N,w?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${P}*`),g("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[l.NONNUMERICIDENTIFIER]}|${c[l.NUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NONNUMERICIDENTIFIER]}|${c[l.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${P}+`),g("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),g("FULL",`^${c[l.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),g("LOOSE",`^${c[l.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),g("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${c[l.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",c[l.COERCEPLAIN]+`(?:${c[l.PRERELEASE]})?(?:${c[l.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",c[l.COERCE],!0),g("COERCERTLFULL",c[l.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Gs,Gs.exports);var Qr=Gs.exports;const z0=Object.freeze({loose:!0}),q0=Object.freeze({}),K0=e=>e?typeof e!="object"?z0:e:q0;var zo=K0;const Wi=/^[0-9]+$/,Pu=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;const r=Wi.test(e),n=Wi.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},G0=(e,t)=>Pu(t,e);var Nu={compareIdentifiers:Pu,rcompareIdentifiers:G0};const pn=ns,{MAX_LENGTH:Ji,MAX_SAFE_INTEGER:$n}=rs,{safeRe:yn,t:_n}=Qr,H0=zo,{compareIdentifiers:gs}=Nu;let W0=class et{constructor(t,r){if(r=H0(r),t instanceof et){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Ji)throw new TypeError(`version is longer than ${Ji} characters`);pn("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?yn[_n.LOOSE]:yn[_n.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>$n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>$n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>$n||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const a=+s;if(a>=0&&a<$n)return a}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(pn("SemVer.compare",this.version,this.options,t),!(t instanceof et)){if(typeof t=="string"&&t===this.version)return 0;t=new et(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof et||(t=new et(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof et||(t=new et(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(pn("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return gs(n,s)}while(++r)}compareBuild(t){t instanceof et||(t=new et(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(pn("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return gs(n,s)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const s=`-${r}`.match(this.options.loose?yn[_n.PRERELEASELOOSE]:yn[_n.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let a=[r,s];n===!1&&(a=[r]),gs(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Ae=W0;const Bi=Ae,J0=(e,t,r=!1)=>{if(e instanceof Bi)return e;try{return new Bi(e,t)}catch(n){if(!r)return null;throw n}};var Sr=J0;const B0=Sr,X0=(e,t)=>{const r=B0(e,t);return r?r.version:null};var Y0=X0;const Q0=Sr,Z0=(e,t)=>{const r=Q0(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var x0=Z0;const Xi=Ae,ev=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new Xi(e instanceof Xi?e.version:e,r).inc(t,n,s).version}catch{return null}};var tv=ev;const Yi=Sr,rv=(e,t)=>{const r=Yi(e,null,!0),n=Yi(t,null,!0),s=r.compare(n);if(s===0)return null;const a=s>0,i=a?r:n,u=a?n:r,c=!!i.prerelease.length;if(!!u.prerelease.length&&!c){if(!u.patch&&!u.minor)return"major";if(u.compareMain(i)===0)return u.minor&&!u.patch?"minor":"patch"}const l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};var nv=rv;const sv=Ae,av=(e,t)=>new sv(e,t).major;var ov=av;const iv=Ae,cv=(e,t)=>new iv(e,t).minor;var lv=cv;const uv=Ae,dv=(e,t)=>new uv(e,t).patch;var fv=dv;const hv=Sr,mv=(e,t)=>{const r=hv(e,t);return r&&r.prerelease.length?r.prerelease:null};var pv=mv;const Qi=Ae,$v=(e,t,r)=>new Qi(e,r).compare(new Qi(t,r));var Ze=$v;const yv=Ze,_v=(e,t,r)=>yv(t,e,r);var gv=_v;const vv=Ze,wv=(e,t)=>vv(e,t,!0);var Ev=wv;const Zi=Ae,Sv=(e,t,r)=>{const n=new Zi(e,r),s=new Zi(t,r);return n.compare(s)||n.compareBuild(s)};var qo=Sv;const bv=qo,Pv=(e,t)=>e.sort((r,n)=>bv(r,n,t));var Nv=Pv;const Ov=qo,Rv=(e,t)=>e.sort((r,n)=>Ov(n,r,t));var Tv=Rv;const Iv=Ze,jv=(e,t,r)=>Iv(e,t,r)>0;var ss=jv;const Av=Ze,kv=(e,t,r)=>Av(e,t,r)<0;var Ko=kv;const Cv=Ze,Dv=(e,t,r)=>Cv(e,t,r)===0;var Ou=Dv;const Mv=Ze,Lv=(e,t,r)=>Mv(e,t,r)!==0;var Ru=Lv;const Fv=Ze,Vv=(e,t,r)=>Fv(e,t,r)>=0;var Go=Vv;const Uv=Ze,zv=(e,t,r)=>Uv(e,t,r)<=0;var Ho=zv;const qv=Ou,Kv=Ru,Gv=ss,Hv=Go,Wv=Ko,Jv=Ho,Bv=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return qv(e,r,n);case"!=":return Kv(e,r,n);case">":return Gv(e,r,n);case">=":return Hv(e,r,n);case"<":return Wv(e,r,n);case"<=":return Jv(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var Tu=Bv;const Xv=Ae,Yv=Sr,{safeRe:gn,t:vn}=Qr,Qv=(e,t)=>{if(e instanceof Xv)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?gn[vn.COERCEFULL]:gn[vn.COERCE]);else{const c=t.includePrerelease?gn[vn.COERCERTLFULL]:gn[vn.COERCERTL];let d;for(;(d=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||d.index+d[0].length!==r.index+r[0].length)&&(r=d),c.lastIndex=d.index+d[1].length+d[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",a=r[4]||"0",i=t.includePrerelease&&r[5]?`-${r[5]}`:"",u=t.includePrerelease&&r[6]?`+${r[6]}`:"";return Yv(`${n}.${s}.${a}${i}${u}`,t)};var Zv=Qv;class xv{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}}var ew=xv,vs,xi;function xe(){if(xi)return vs;xi=1;const e=/\s+/g;class t{constructor(k,U){if(U=s(U),k instanceof t)return k.loose===!!U.loose&&k.includePrerelease===!!U.includePrerelease?k:new t(k.raw,U);if(k instanceof a)return this.raw=k.value,this.set=[[k]],this.formatted=void 0,this;if(this.options=U,this.loose=!!U.loose,this.includePrerelease=!!U.includePrerelease,this.raw=k.trim().replace(e," "),this.set=this.raw.split("||").map(D=>this.parseRange(D.trim())).filter(D=>D.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const D=this.set[0];if(this.set=this.set.filter(O=>!g(O[0])),this.set.length===0)this.set=[D];else if(this.set.length>1){for(const O of this.set)if(O.length===1&&y(O[0])){this.set=[O];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let k=0;k<this.set.length;k++){k>0&&(this.formatted+="||");const U=this.set[k];for(let D=0;D<U.length;D++)D>0&&(this.formatted+=" "),this.formatted+=U[D].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(k){const D=((this.options.includePrerelease&&_)|(this.options.loose&&E))+":"+k,O=n.get(D);if(O)return O;const T=this.options.loose,v=T?c[d.HYPHENRANGELOOSE]:c[d.HYPHENRANGE];k=k.replace(v,Q(this.options.includePrerelease)),i("hyphen replace",k),k=k.replace(c[d.COMPARATORTRIM],l),i("comparator trim",k),k=k.replace(c[d.TILDETRIM],m),i("tilde trim",k),k=k.replace(c[d.CARETTRIM],P),i("caret trim",k);let p=k.split(" ").map(f=>w(f,this.options)).join(" ").split(/\s+/).map(f=>ne(f,this.options));T&&(p=p.filter(f=>(i("loose invalid filter",f,this.options),!!f.match(c[d.COMPARATORLOOSE])))),i("range list",p);const S=new Map,$=p.map(f=>new a(f,this.options));for(const f of $){if(g(f))return[f];S.set(f.value,f)}S.size>1&&S.has("")&&S.delete("");const o=[...S.values()];return n.set(D,o),o}intersects(k,U){if(!(k instanceof t))throw new TypeError("a Range is required");return this.set.some(D=>h(D,U)&&k.set.some(O=>h(O,U)&&D.every(T=>O.every(v=>T.intersects(v,U)))))}test(k){if(!k)return!1;if(typeof k=="string")try{k=new u(k,this.options)}catch{return!1}for(let U=0;U<this.set.length;U++)if(de(this.set[U],k,this.options))return!0;return!1}}vs=t;const r=ew,n=new r,s=zo,a=as(),i=ns,u=Ae,{safeRe:c,t:d,comparatorTrimReplace:l,tildeTrimReplace:m,caretTrimReplace:P}=Qr,{FLAG_INCLUDE_PRERELEASE:_,FLAG_LOOSE:E}=rs,g=C=>C.value==="<0.0.0-0",y=C=>C.value==="",h=(C,k)=>{let U=!0;const D=C.slice();let O=D.pop();for(;U&&D.length;)U=D.every(T=>O.intersects(T,k)),O=D.pop();return U},w=(C,k)=>(C=C.replace(c[d.BUILD],""),i("comp",C,k),C=z(C,k),i("caret",C),C=R(C,k),i("tildes",C),C=ue(C,k),i("xrange",C),C=H(C,k),i("stars",C),C),N=C=>!C||C.toLowerCase()==="x"||C==="*",R=(C,k)=>C.trim().split(/\s+/).map(U=>I(U,k)).join(" "),I=(C,k)=>{const U=k.loose?c[d.TILDELOOSE]:c[d.TILDE];return C.replace(U,(D,O,T,v,p)=>{i("tilde",C,D,O,T,v,p);let S;return N(O)?S="":N(T)?S=`>=${O}.0.0 <${+O+1}.0.0-0`:N(v)?S=`>=${O}.${T}.0 <${O}.${+T+1}.0-0`:p?(i("replaceTilde pr",p),S=`>=${O}.${T}.${v}-${p} <${O}.${+T+1}.0-0`):S=`>=${O}.${T}.${v} <${O}.${+T+1}.0-0`,i("tilde return",S),S})},z=(C,k)=>C.trim().split(/\s+/).map(U=>W(U,k)).join(" "),W=(C,k)=>{i("caret",C,k);const U=k.loose?c[d.CARETLOOSE]:c[d.CARET],D=k.includePrerelease?"-0":"";return C.replace(U,(O,T,v,p,S)=>{i("caret",C,O,T,v,p,S);let $;return N(T)?$="":N(v)?$=`>=${T}.0.0${D} <${+T+1}.0.0-0`:N(p)?T==="0"?$=`>=${T}.${v}.0${D} <${T}.${+v+1}.0-0`:$=`>=${T}.${v}.0${D} <${+T+1}.0.0-0`:S?(i("replaceCaret pr",S),T==="0"?v==="0"?$=`>=${T}.${v}.${p}-${S} <${T}.${v}.${+p+1}-0`:$=`>=${T}.${v}.${p}-${S} <${T}.${+v+1}.0-0`:$=`>=${T}.${v}.${p}-${S} <${+T+1}.0.0-0`):(i("no pr"),T==="0"?v==="0"?$=`>=${T}.${v}.${p}${D} <${T}.${v}.${+p+1}-0`:$=`>=${T}.${v}.${p}${D} <${T}.${+v+1}.0-0`:$=`>=${T}.${v}.${p} <${+T+1}.0.0-0`),i("caret return",$),$})},ue=(C,k)=>(i("replaceXRanges",C,k),C.split(/\s+/).map(U=>V(U,k)).join(" ")),V=(C,k)=>{C=C.trim();const U=k.loose?c[d.XRANGELOOSE]:c[d.XRANGE];return C.replace(U,(D,O,T,v,p,S)=>{i("xRange",C,D,O,T,v,p,S);const $=N(T),o=$||N(v),f=o||N(p),b=f;return O==="="&&b&&(O=""),S=k.includePrerelease?"-0":"",$?O===">"||O==="<"?D="<0.0.0-0":D="*":O&&b?(o&&(v=0),p=0,O===">"?(O=">=",o?(T=+T+1,v=0,p=0):(v=+v+1,p=0)):O==="<="&&(O="<",o?T=+T+1:v=+v+1),O==="<"&&(S="-0"),D=`${O+T}.${v}.${p}${S}`):o?D=`>=${T}.0.0${S} <${+T+1}.0.0-0`:f&&(D=`>=${T}.${v}.0${S} <${T}.${+v+1}.0-0`),i("xRange return",D),D})},H=(C,k)=>(i("replaceStars",C,k),C.trim().replace(c[d.STAR],"")),ne=(C,k)=>(i("replaceGTE0",C,k),C.trim().replace(c[k.includePrerelease?d.GTE0PRE:d.GTE0],"")),Q=C=>(k,U,D,O,T,v,p,S,$,o,f,b)=>(N(D)?U="":N(O)?U=`>=${D}.0.0${C?"-0":""}`:N(T)?U=`>=${D}.${O}.0${C?"-0":""}`:v?U=`>=${U}`:U=`>=${U}${C?"-0":""}`,N($)?S="":N(o)?S=`<${+$+1}.0.0-0`:N(f)?S=`<${$}.${+o+1}.0-0`:b?S=`<=${$}.${o}.${f}-${b}`:C?S=`<${$}.${o}.${+f+1}-0`:S=`<=${S}`,`${U} ${S}`.trim()),de=(C,k,U)=>{for(let D=0;D<C.length;D++)if(!C[D].test(k))return!1;if(k.prerelease.length&&!U.includePrerelease){for(let D=0;D<C.length;D++)if(i(C[D].semver),C[D].semver!==a.ANY&&C[D].semver.prerelease.length>0){const O=C[D].semver;if(O.major===k.major&&O.minor===k.minor&&O.patch===k.patch)return!0}return!1}return!0};return vs}var ws,ec;function as(){if(ec)return ws;ec=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(l,m){if(m=r(m),l instanceof t){if(l.loose===!!m.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),i("comparator",l,m),this.options=m,this.loose=!!m.loose,this.parse(l),this.semver===e?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}parse(l){const m=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],P=l.match(m);if(!P)throw new TypeError(`Invalid comparator: ${l}`);this.operator=P[1]!==void 0?P[1]:"",this.operator==="="&&(this.operator=""),P[2]?this.semver=new u(P[2],this.options.loose):this.semver=e}toString(){return this.value}test(l){if(i("Comparator.test",l,this.options.loose),this.semver===e||l===e)return!0;if(typeof l=="string")try{l=new u(l,this.options)}catch{return!1}return a(l,this.operator,this.semver,this.options)}intersects(l,m){if(!(l instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(l.value,m).test(this.value):l.operator===""?l.value===""?!0:new c(this.value,m).test(l.semver):(m=r(m),m.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!m.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||a(this.semver,"<",l.semver,m)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||a(this.semver,">",l.semver,m)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}ws=t;const r=zo,{safeRe:n,t:s}=Qr,a=Tu,i=ns,u=Ae,c=xe();return ws}const tw=xe(),rw=(e,t,r)=>{try{t=new tw(t,r)}catch{return!1}return t.test(e)};var os=rw;const nw=xe(),sw=(e,t)=>new nw(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var aw=sw;const ow=Ae,iw=xe(),cw=(e,t,r)=>{let n=null,s=null,a=null;try{a=new iw(t,r)}catch{return null}return e.forEach(i=>{a.test(i)&&(!n||s.compare(i)===-1)&&(n=i,s=new ow(n,r))}),n};var lw=cw;const uw=Ae,dw=xe(),fw=(e,t,r)=>{let n=null,s=null,a=null;try{a=new dw(t,r)}catch{return null}return e.forEach(i=>{a.test(i)&&(!n||s.compare(i)===1)&&(n=i,s=new uw(n,r))}),n};var hw=fw;const Es=Ae,mw=xe(),tc=ss,pw=(e,t)=>{e=new mw(e,t);let r=new Es("0.0.0");if(e.test(r)||(r=new Es("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const s=e.set[n];let a=null;s.forEach(i=>{const u=new Es(i.semver.version);switch(i.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!a||tc(u,a))&&(a=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),a&&(!r||tc(r,a))&&(r=a)}return r&&e.test(r)?r:null};var $w=pw;const yw=xe(),_w=(e,t)=>{try{return new yw(e,t).range||"*"}catch{return null}};var gw=_w;const vw=Ae,Iu=as(),{ANY:ww}=Iu,Ew=xe(),Sw=os,rc=ss,nc=Ko,bw=Ho,Pw=Go,Nw=(e,t,r,n)=>{e=new vw(e,n),t=new Ew(t,n);let s,a,i,u,c;switch(r){case">":s=rc,a=bw,i=nc,u=">",c=">=";break;case"<":s=nc,a=Pw,i=rc,u="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Sw(e,t,n))return!1;for(let d=0;d<t.set.length;++d){const l=t.set[d];let m=null,P=null;if(l.forEach(_=>{_.semver===ww&&(_=new Iu(">=0.0.0")),m=m||_,P=P||_,s(_.semver,m.semver,n)?m=_:i(_.semver,P.semver,n)&&(P=_)}),m.operator===u||m.operator===c||(!P.operator||P.operator===u)&&a(e,P.semver))return!1;if(P.operator===c&&i(e,P.semver))return!1}return!0};var Wo=Nw;const Ow=Wo,Rw=(e,t,r)=>Ow(e,t,">",r);var Tw=Rw;const Iw=Wo,jw=(e,t,r)=>Iw(e,t,"<",r);var Aw=jw;const sc=xe(),kw=(e,t,r)=>(e=new sc(e,r),t=new sc(t,r),e.intersects(t,r));var Cw=kw;const Dw=os,Mw=Ze;var Lw=(e,t,r)=>{const n=[];let s=null,a=null;const i=e.sort((l,m)=>Mw(l,m,r));for(const l of i)Dw(l,t,r)?(a=l,s||(s=l)):(a&&n.push([s,a]),a=null,s=null);s&&n.push([s,null]);const u=[];for(const[l,m]of n)l===m?u.push(l):!m&&l===i[0]?u.push("*"):m?l===i[0]?u.push(`<=${m}`):u.push(`${l} - ${m}`):u.push(`>=${l}`);const c=u.join(" || "),d=typeof t.raw=="string"?t.raw:String(t);return c.length<d.length?c:t};const ac=xe(),Jo=as(),{ANY:Ss}=Jo,jr=os,Bo=Ze,Fw=(e,t,r={})=>{if(e===t)return!0;e=new ac(e,r),t=new ac(t,r);let n=!1;e:for(const s of e.set){for(const a of t.set){const i=Uw(s,a,r);if(n=n||i!==null,i)continue e}if(n)return!1}return!0},Vw=[new Jo(">=0.0.0-0")],oc=[new Jo(">=0.0.0")],Uw=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Ss){if(t.length===1&&t[0].semver===Ss)return!0;r.includePrerelease?e=Vw:e=oc}if(t.length===1&&t[0].semver===Ss){if(r.includePrerelease)return!0;t=oc}const n=new Set;let s,a;for(const _ of e)_.operator===">"||_.operator===">="?s=ic(s,_,r):_.operator==="<"||_.operator==="<="?a=cc(a,_,r):n.add(_.semver);if(n.size>1)return null;let i;if(s&&a){if(i=Bo(s.semver,a.semver,r),i>0)return null;if(i===0&&(s.operator!==">="||a.operator!=="<="))return null}for(const _ of n){if(s&&!jr(_,String(s),r)||a&&!jr(_,String(a),r))return null;for(const E of t)if(!jr(_,String(E),r))return!1;return!0}let u,c,d,l,m=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,P=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;m&&m.prerelease.length===1&&a.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(const _ of t){if(l=l||_.operator===">"||_.operator===">=",d=d||_.operator==="<"||_.operator==="<=",s){if(P&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===P.major&&_.semver.minor===P.minor&&_.semver.patch===P.patch&&(P=!1),_.operator===">"||_.operator===">="){if(u=ic(s,_,r),u===_&&u!==s)return!1}else if(s.operator===">="&&!jr(s.semver,String(_),r))return!1}if(a){if(m&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===m.major&&_.semver.minor===m.minor&&_.semver.patch===m.patch&&(m=!1),_.operator==="<"||_.operator==="<="){if(c=cc(a,_,r),c===_&&c!==a)return!1}else if(a.operator==="<="&&!jr(a.semver,String(_),r))return!1}if(!_.operator&&(a||s)&&i!==0)return!1}return!(s&&d&&!a&&i!==0||a&&l&&!s&&i!==0||P||m)},ic=(e,t,r)=>{if(!e)return t;const n=Bo(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},cc=(e,t,r)=>{if(!e)return t;const n=Bo(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var zw=Fw;const bs=Qr,lc=rs,qw=Ae,uc=Nu,Kw=Sr,Gw=Y0,Hw=x0,Ww=tv,Jw=nv,Bw=ov,Xw=lv,Yw=fv,Qw=pv,Zw=Ze,xw=gv,eE=Ev,tE=qo,rE=Nv,nE=Tv,sE=ss,aE=Ko,oE=Ou,iE=Ru,cE=Go,lE=Ho,uE=Tu,dE=Zv,fE=as(),hE=xe(),mE=os,pE=aw,$E=lw,yE=hw,_E=$w,gE=gw,vE=Wo,wE=Tw,EE=Aw,SE=Cw,bE=Lw,PE=zw;var NE={parse:Kw,valid:Gw,clean:Hw,inc:Ww,diff:Jw,major:Bw,minor:Xw,patch:Yw,prerelease:Qw,compare:Zw,rcompare:xw,compareLoose:eE,compareBuild:tE,sort:rE,rsort:nE,gt:sE,lt:aE,eq:oE,neq:iE,gte:cE,lte:lE,cmp:uE,coerce:dE,Comparator:fE,Range:hE,satisfies:mE,toComparators:pE,maxSatisfying:$E,minSatisfying:yE,minVersion:_E,validRange:gE,outside:vE,gtr:wE,ltr:EE,intersects:SE,simplifyRange:bE,subset:PE,SemVer:qw,re:bs.re,src:bs.src,tokens:bs.t,SEMVER_SPEC_VERSION:lc.SEMVER_SPEC_VERSION,RELEASE_TYPES:lc.RELEASE_TYPES,compareIdentifiers:uc.compareIdentifiers,rcompareIdentifiers:uc.rcompareIdentifiers},is={exports:{}},Xo={exports:{}};const ju=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};Xo.exports=ju;Xo.exports.default=ju;var OE=Xo.exports;const RE=OE,qn=new WeakMap,Au=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const s=e.displayName||e.name||"<anonymous>",a=function(...i){if(qn.set(a,++n),n===1)r=e.apply(this,i),e=null;else if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return RE(a,e),qn.set(a,n),a};is.exports=Au;is.exports.default=Au;is.exports.callCount=e=>{if(!qn.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return qn.get(e)};var TE=is.exports;(function(e,t){var r=Zr&&Zr.__classPrivateFieldSet||function(D,O,T,v,p){if(v==="m")throw new TypeError("Private method is not writable");if(v==="a"&&!p)throw new TypeError("Private accessor was defined without a setter");if(typeof O=="function"?D!==O||!p:!O.has(D))throw new TypeError("Cannot write private member to an object whose class did not declare it");return v==="a"?p.call(D,T):p?p.value=T:O.set(D,T),T},n=Zr&&Zr.__classPrivateFieldGet||function(D,O,T,v){if(T==="a"&&!v)throw new TypeError("Private accessor was defined without a getter");if(typeof O=="function"?D!==O||!v:!O.has(D))throw new TypeError("Cannot read private member from an object whose class did not declare it");return T==="m"?v:T==="a"?v.call(D):v?v.value:O.get(D)},s,a,i,u,c,d;Object.defineProperty(t,"__esModule",{value:!0});const l=_c,m=Ws,P=ht,_=ku,E=Cu,g=Du,y=zu,h=Zu,w=rd,N=nt,R=f$,I=S0,z=C0,W=NE,ue=TE,V="aes-256-cbc",H=()=>Object.create(null),ne=D=>D!=null;let Q="";try{delete require.cache[__filename],Q=P.dirname((a=(s=e.parent)===null||s===void 0?void 0:s.filename)!==null&&a!==void 0?a:".")}catch{}const de=(D,O)=>{const T=new Set(["undefined","symbol","function"]),v=typeof O;if(T.has(v))throw new TypeError(`Setting a value of type \`${v}\` for key \`${D}\` is not allowed as it's not supported by JSON`)},C="__internal__",k=`${C}.migrations.version`;class U{constructor(O={}){var T;i.set(this,void 0),u.set(this,void 0),c.set(this,void 0),d.set(this,{}),this._deserialize=f=>JSON.parse(f),this._serialize=f=>JSON.stringify(f,void 0,"	");const v={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...O},p=ue(()=>{const f=h.sync({cwd:Q}),b=f&&JSON.parse(m.readFileSync(f,"utf8"));return b??{}});if(!v.cwd){if(v.projectName||(v.projectName=p().name),!v.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");v.cwd=w(v.projectName,{suffix:v.projectSuffix}).config}if(r(this,c,v,"f"),v.schema){if(typeof v.schema!="object")throw new TypeError("The `schema` option must be an object.");const f=new R.default({allErrors:!0,useDefaults:!0});(0,I.default)(f);const b={type:"object",properties:v.schema};r(this,i,f.compile(b),"f");for(const[j,A]of Object.entries(v.schema))A!=null&&A.default&&(n(this,d,"f")[j]=A.default)}v.defaults&&r(this,d,{...n(this,d,"f"),...v.defaults},"f"),v.serialize&&(this._serialize=v.serialize),v.deserialize&&(this._deserialize=v.deserialize),this.events=new g.EventEmitter,r(this,u,v.encryptionKey,"f");const S=v.fileExtension?`.${v.fileExtension}`:"";this.path=P.resolve(v.cwd,`${(T=v.configName)!==null&&T!==void 0?T:"config"}${S}`);const $=this.store,o=Object.assign(H(),v.defaults,$);this._validate(o);try{E.deepEqual($,o)}catch{this.store=o}if(v.watch&&this._watch(),v.migrations){if(v.projectVersion||(v.projectVersion=p().version),!v.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(v.migrations,v.projectVersion,v.beforeEachMigration)}}get(O,T){if(n(this,c,"f").accessPropertiesByDotNotation)return this._get(O,T);const{store:v}=this;return O in v?v[O]:T}set(O,T){if(typeof O!="string"&&typeof O!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof O}`);if(typeof O!="object"&&T===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(O))throw new TypeError(`Please don't use the ${C} key, as it's used to manage this module internal operations.`);const{store:v}=this,p=(S,$)=>{de(S,$),n(this,c,"f").accessPropertiesByDotNotation?y.set(v,S,$):v[S]=$};if(typeof O=="object"){const S=O;for(const[$,o]of Object.entries(S))p($,o)}else p(O,T);this.store=v}has(O){return n(this,c,"f").accessPropertiesByDotNotation?y.has(this.store,O):O in this.store}reset(...O){for(const T of O)ne(n(this,d,"f")[T])&&this.set(T,n(this,d,"f")[T])}delete(O){const{store:T}=this;n(this,c,"f").accessPropertiesByDotNotation?y.delete(T,O):delete T[O],this.store=T}clear(){this.store=H();for(const O of Object.keys(n(this,d,"f")))this.reset(O)}onDidChange(O,T){if(typeof O!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof O}`);if(typeof T!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof T}`);return this._handleChange(()=>this.get(O),T)}onDidAnyChange(O){if(typeof O!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof O}`);return this._handleChange(()=>this.store,O)}get size(){return Object.keys(this.store).length}get store(){try{const O=m.readFileSync(this.path,n(this,u,"f")?null:"utf8"),T=this._encryptData(O),v=this._deserialize(T);return this._validate(v),Object.assign(H(),v)}catch(O){if((O==null?void 0:O.code)==="ENOENT")return this._ensureDirectory(),H();if(n(this,c,"f").clearInvalidConfig&&O.name==="SyntaxError")return H();throw O}}set store(O){this._ensureDirectory(),this._validate(O),this._write(O),this.events.emit("change")}*[(i=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,Symbol.iterator)](){for(const[O,T]of Object.entries(this.store))yield[O,T]}_encryptData(O){if(!n(this,u,"f"))return O.toString();try{if(n(this,u,"f"))try{if(O.slice(16,17).toString()===":"){const T=O.slice(0,16),v=_.pbkdf2Sync(n(this,u,"f"),T.toString(),1e4,32,"sha512"),p=_.createDecipheriv(V,v,T);O=Buffer.concat([p.update(Buffer.from(O.slice(17))),p.final()]).toString("utf8")}else{const T=_.createDecipher(V,n(this,u,"f"));O=Buffer.concat([T.update(Buffer.from(O)),T.final()]).toString("utf8")}}catch{}}catch{}return O.toString()}_handleChange(O,T){let v=O();const p=()=>{const S=v,$=O();(0,l.isDeepStrictEqual)($,S)||(v=$,T.call(this,$,S))};return this.events.on("change",p),()=>this.events.removeListener("change",p)}_validate(O){if(!n(this,i,"f")||n(this,i,"f").call(this,O)||!n(this,i,"f").errors)return;const v=n(this,i,"f").errors.map(({instancePath:p,message:S=""})=>`\`${p.slice(1)}\` ${S}`);throw new Error("Config schema violation: "+v.join("; "))}_ensureDirectory(){m.mkdirSync(P.dirname(this.path),{recursive:!0})}_write(O){let T=this._serialize(O);if(n(this,u,"f")){const v=_.randomBytes(16),p=_.pbkdf2Sync(n(this,u,"f"),v.toString(),1e4,32,"sha512"),S=_.createCipheriv(V,p,v);T=Buffer.concat([v,Buffer.from(":"),S.update(Buffer.from(T)),S.final()])}if(process.env.SNAP)m.writeFileSync(this.path,T,{mode:n(this,c,"f").configFileMode});else try{N.writeFileSync(this.path,T,{mode:n(this,c,"f").configFileMode})}catch(v){if((v==null?void 0:v.code)==="EXDEV"){m.writeFileSync(this.path,T,{mode:n(this,c,"f").configFileMode});return}throw v}}_watch(){this._ensureDirectory(),m.existsSync(this.path)||this._write(H()),process.platform==="win32"?m.watch(this.path,{persistent:!1},z(()=>{this.events.emit("change")},{wait:100})):m.watchFile(this.path,{persistent:!1},z(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(O,T,v){let p=this._get(k,"0.0.0");const S=Object.keys(O).filter(o=>this._shouldPerformMigration(o,p,T));let $={...this.store};for(const o of S)try{v&&v(this,{fromVersion:p,toVersion:o,finalVersion:T,versions:S});const f=O[o];f(this),this._set(k,o),p=o,$={...this.store}}catch(f){throw this.store=$,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${f}`)}(this._isVersionInRangeFormat(p)||!W.eq(p,T))&&this._set(k,T)}_containsReservedKey(O){return typeof O=="object"&&Object.keys(O)[0]===C?!0:typeof O!="string"?!1:n(this,c,"f").accessPropertiesByDotNotation?!!O.startsWith(`${C}.`):!1}_isVersionInRangeFormat(O){return W.clean(O)===null}_shouldPerformMigration(O,T,v){return this._isVersionInRangeFormat(O)?T!=="0.0.0"&&W.satisfies(T,O)?!1:W.satisfies(v,O):!(W.lte(O,T)||W.gt(O,v))}_get(O,T){return y.get(this.store,O,T)}_set(O,T){const{store:v}=this;y.set(v,O,T),this.store=v}}t.default=U,e.exports=U,e.exports.default=U})(Ps,Ps.exports);var IE=Ps.exports;const dc=ht,{app:In,ipcMain:Hs,ipcRenderer:fc,shell:jE}=ye,AE=IE;let hc=!1;const mc=()=>{if(!Hs||!In)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:In.getPath("userData"),appVersion:In.getVersion()};return hc||(Hs.on("electron-store-get-data",t=>{t.returnValue=e}),hc=!0),e};class kE extends AE{constructor(t){let r,n;if(fc){const s=fc.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=s)}else Hs&&In&&({defaultCwd:r,appVersion:n}=mc());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=dc.isAbsolute(t.cwd)?t.cwd:dc.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){mc()}async openInEditor(){const t=await jE.openPath(this.path);if(t)throw new Error(t)}}var CE=kE;const DE=Lu(CE),pc=!ye.app.isPackaged,br=new DE({name:"studyflow-data",defaults:{users:[],plans:[],settings:{theme:"light",language:"tr"}}});let gt=null;function $c(){gt=new ye.BrowserWindow({width:1280,height:800,minWidth:1024,minHeight:768,webPreferences:{preload:ht.join(__dirname,"preload.js"),contextIsolation:!0,nodeIntegration:!1},title:"StudyFlow",autoHideMenuBar:!pc}),pc?(gt.loadURL("http://localhost:3000"),gt.webContents.openDevTools()):gt.loadFile(ht.join(__dirname,"../dist/index.html")),gt.on("closed",()=>{gt=null})}ye.app.whenReady().then(()=>{$c(),ye.app.on("activate",()=>{ye.BrowserWindow.getAllWindows().length===0&&$c()})});ye.app.on("window-all-closed",()=>{process.platform!=="darwin"&&ye.app.quit()});ye.ipcMain.handle("read-file",async(e,t)=>{try{return{success:!0,data:await yc.readFile(t,"utf-8")}}catch(r){return{success:!1,error:r.message}}});ye.ipcMain.handle("write-file",async(e,t,r)=>{try{return await yc.writeFile(t,r,"utf-8"),{success:!0}}catch(n){return{success:!1,error:n.message}}});ye.ipcMain.handle("open-file-dialog",async()=>{try{return{success:!0,data:await ye.dialog.showOpenDialog(gt,{properties:["openFile"],filters:[{name:"JSON Files",extensions:["json"]}]})}}catch(e){return{success:!1,error:e.message}}});ye.ipcMain.handle("save-file-dialog",async(e,t)=>{try{return{success:!0,data:await ye.dialog.showSaveDialog(gt,{defaultPath:t,filters:[{name:"JSON Files",extensions:["json"]}]})}}catch(r){return{success:!1,error:r.message}}});ye.ipcMain.handle("store-get",async(e,t)=>{try{return br.get(t)}catch(r){console.error("Store get error:",r);return}});ye.ipcMain.handle("store-set",async(e,t,r)=>{try{return br.set(t,r),!0}catch(n){return console.error("Store set error:",n),!1}});ye.ipcMain.handle("store-delete",async(e,t)=>{try{return br.delete(t),!0}catch(r){return console.error("Store delete error:",r),!1}});ye.ipcMain.handle("store-has",async(e,t)=>{try{return br.has(t)}catch(r){return console.error("Store has error:",r),!1}});ye.ipcMain.handle("store-clear",async()=>{try{return br.clear(),!0}catch(e){return console.error("Store clear error:",e),!1}});ye.ipcMain.handle("store-get-all",async()=>{try{return br.store}catch(e){return console.error("Store get-all error:",e),{}}});
