"use strict";const ye=require("electron"),pt=require("path"),gc=require("fs/promises"),vc=require("util"),Js=require("fs"),Du=require("crypto"),Mu=require("assert"),Lu=require("events"),Fu=require("os");var Yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ns={exports:{}},Uu=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const zt=Uu,zu=new Set(["__proto__","prototype","constructor"]),qu=e=>!e.some(t=>zu.has(t));function Qr(e){const t=e.split("."),r=[];for(let n=0;n<t.length;n++){let s=t[n];for(;s[s.length-1]==="\\"&&t[n+1]!==void 0;)s=s.slice(0,-1)+".",s+=t[++n];r.push(s)}return qu(r)?r:[]}var Ku={get(e,t,r){if(!zt(e)||typeof t!="string")return r===void 0?e:r;const n=Qr(t);if(n.length!==0){for(let s=0;s<n.length;s++)if(e=e[n[s]],e==null){if(s!==n.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!zt(e)||typeof t!="string")return e;const n=e,s=Qr(t);for(let a=0;a<s.length;a++){const i=s[a];zt(e[i])||(e[i]={}),a===s.length-1&&(e[i]=r),e=e[i]}return n},delete(e,t){if(!zt(e)||typeof t!="string")return!1;const r=Qr(t);for(let n=0;n<r.length;n++){const s=r[n];if(n===r.length-1)return delete e[s],!0;if(e=e[s],!zt(e))return!1}},has(e,t){if(!zt(e)||typeof t!="string")return!1;const r=Qr(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(zt(e)){if(!(r[n]in e))return!1;e=e[r[n]]}else return!1;return!0}},Bs={exports:{}},Xs={exports:{}},Ys={exports:{}},Qs={exports:{}};const wc=Js;Qs.exports=e=>new Promise(t=>{wc.access(e,r=>{t(!r)})});Qs.exports.sync=e=>{try{return wc.accessSync(e),!0}catch{return!1}};var Gu=Qs.exports,Zs={exports:{}},xs={exports:{}};const Ec=(e,...t)=>new Promise(r=>{r(e(...t))});xs.exports=Ec;xs.exports.default=Ec;var Hu=xs.exports;const Wu=Hu,Sc=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},s=(u,c,...d)=>{r++;const l=Wu(u,...d);c(l),l.then(n,n)},a=(u,c,...d)=>{r<e?s(u,c,...d):t.push(s.bind(null,u,c,...d))},i=(u,...c)=>new Promise(d=>a(u,d,...c));return Object.defineProperties(i,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),i};Zs.exports=Sc;Zs.exports.default=Sc;var Ju=Zs.exports;const Qo=Ju;class bc extends Error{constructor(t){super(),this.value=t}}const Bu=(e,t)=>Promise.resolve(e).then(t),Xu=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new bc(t[0])));var Yu=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=Qo(r.concurrency),s=[...e].map(i=>[i,n(Bu,i,t)]),a=Qo(r.preserveOrder?1:1/0);return Promise.all(s.map(i=>a(Xu,i))).then(()=>{}).catch(i=>i instanceof bc?i.value:Promise.reject(i))};const Pc=pt,Nc=Gu,Qu=Yu;Ys.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),Qu(e,r=>Nc(Pc.resolve(t.cwd,r)),t));Ys.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(Nc.sync(Pc.resolve(t.cwd,r)))return r};var Zu=Ys.exports;const wt=pt,Oc=Zu;Xs.exports=(e,t={})=>{const r=wt.resolve(t.cwd||""),{root:n}=wt.parse(r),s=[].concat(e);return new Promise(a=>{(function i(u){Oc(s,{cwd:u}).then(c=>{c?a(wt.join(u,c)):u===n?a(null):i(wt.dirname(u))})})(r)})};Xs.exports.sync=(e,t={})=>{let r=wt.resolve(t.cwd||"");const{root:n}=wt.parse(r),s=[].concat(e);for(;;){const a=Oc.sync(s,{cwd:r});if(a)return wt.join(r,a);if(r===n)return null;r=wt.dirname(r)}};var xu=Xs.exports;const Rc=xu;Bs.exports=async({cwd:e}={})=>Rc("package.json",{cwd:e});Bs.exports.sync=({cwd:e}={})=>Rc.sync("package.json",{cwd:e});var ed=Bs.exports,ea={exports:{}};const pe=pt,Tc=Fu,vt=Tc.homedir(),ta=Tc.tmpdir(),{env:or}=process,td=e=>{const t=pe.join(vt,"Library");return{data:pe.join(t,"Application Support",e),config:pe.join(t,"Preferences",e),cache:pe.join(t,"Caches",e),log:pe.join(t,"Logs",e),temp:pe.join(ta,e)}},rd=e=>{const t=or.APPDATA||pe.join(vt,"AppData","Roaming"),r=or.LOCALAPPDATA||pe.join(vt,"AppData","Local");return{data:pe.join(r,e,"Data"),config:pe.join(t,e,"Config"),cache:pe.join(r,e,"Cache"),log:pe.join(r,e,"Log"),temp:pe.join(ta,e)}},nd=e=>{const t=pe.basename(vt);return{data:pe.join(or.XDG_DATA_HOME||pe.join(vt,".local","share"),e),config:pe.join(or.XDG_CONFIG_HOME||pe.join(vt,".config"),e),cache:pe.join(or.XDG_CACHE_HOME||pe.join(vt,".cache"),e),log:pe.join(or.XDG_STATE_HOME||pe.join(vt,".local","state"),e),temp:pe.join(ta,t,e)}},Ic=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?td(e):process.platform==="win32"?rd(e):nd(e)};ea.exports=Ic;ea.exports.default=Ic;var sd=ea.exports,st={},ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.NOOP=ae.LIMIT_FILES_DESCRIPTORS=ae.LIMIT_BASENAME_LENGTH=ae.IS_USER_ROOT=ae.IS_POSIX=ae.DEFAULT_TIMEOUT_SYNC=ae.DEFAULT_TIMEOUT_ASYNC=ae.DEFAULT_WRITE_OPTIONS=ae.DEFAULT_READ_OPTIONS=ae.DEFAULT_FOLDER_MODE=ae.DEFAULT_FILE_MODE=ae.DEFAULT_ENCODING=void 0;const ad="utf8";ae.DEFAULT_ENCODING=ad;const od=438;ae.DEFAULT_FILE_MODE=od;const id=511;ae.DEFAULT_FOLDER_MODE=id;const cd={};ae.DEFAULT_READ_OPTIONS=cd;const ld={};ae.DEFAULT_WRITE_OPTIONS=ld;const ud=5e3;ae.DEFAULT_TIMEOUT_ASYNC=ud;const dd=100;ae.DEFAULT_TIMEOUT_SYNC=dd;const fd=!!process.getuid;ae.IS_POSIX=fd;const hd=process.getuid?!process.getuid():!1;ae.IS_USER_ROOT=hd;const pd=128;ae.LIMIT_BASENAME_LENGTH=pd;const md=1e4;ae.LIMIT_FILES_DESCRIPTORS=md;const $d=()=>{};ae.NOOP=$d;var Kn={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.attemptifySync=dr.attemptifyAsync=void 0;const jc=ae,yd=(e,t=jc.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};dr.attemptifyAsync=yd;const _d=(e,t=jc.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};dr.attemptifySync=_d;var ra={};Object.defineProperty(ra,"__esModule",{value:!0});const gd=ae,Ac={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!gd.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!Ac.isChangeErrorOk(e))throw e}};ra.default=Ac;var fr={},na={};Object.defineProperty(na,"__esModule",{value:!0});const vd=ae,le={interval:25,intervalId:void 0,limit:vd.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{le.intervalId||(le.intervalId=setInterval(le.tick,le.interval))},reset:()=>{le.intervalId&&(clearInterval(le.intervalId),delete le.intervalId)},add:e=>{le.queueWaiting.add(e),le.queueActive.size<le.limit/2?le.tick():le.init()},remove:e=>{le.queueWaiting.delete(e),le.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>le.remove(r),r=()=>e(t);le.add(r)}),tick:()=>{if(!(le.queueActive.size>=le.limit)){if(!le.queueWaiting.size)return le.reset();for(const e of le.queueWaiting){if(le.queueActive.size>=le.limit)break;le.queueWaiting.delete(e),le.queueActive.add(e),e()}}}};na.default=le;Object.defineProperty(fr,"__esModule",{value:!0});fr.retryifySync=fr.retryifyAsync=void 0;const wd=na,Ed=(e,t)=>function(r){return function n(){return wd.default.schedule().then(s=>e.apply(void 0,arguments).then(a=>(s(),a),a=>{if(s(),Date.now()>=r)throw a;if(t(a)){const i=Math.round(100+400*Math.random());return new Promise(c=>setTimeout(c,i)).then(()=>n.apply(void 0,arguments))}throw a}))}};fr.retryifyAsync=Ed;const Sd=(e,t)=>function(r){return function n(){try{return e.apply(void 0,arguments)}catch(s){if(Date.now()>r)throw s;if(t(s))return n.apply(void 0,arguments);throw s}}};fr.retryifySync=Sd;Object.defineProperty(Kn,"__esModule",{value:!0});const oe=Js,Re=vc,Te=dr,ve=ra,ke=fr,bd={chmodAttempt:Te.attemptifyAsync(Re.promisify(oe.chmod),ve.default.onChangeError),chownAttempt:Te.attemptifyAsync(Re.promisify(oe.chown),ve.default.onChangeError),closeAttempt:Te.attemptifyAsync(Re.promisify(oe.close)),fsyncAttempt:Te.attemptifyAsync(Re.promisify(oe.fsync)),mkdirAttempt:Te.attemptifyAsync(Re.promisify(oe.mkdir)),realpathAttempt:Te.attemptifyAsync(Re.promisify(oe.realpath)),statAttempt:Te.attemptifyAsync(Re.promisify(oe.stat)),unlinkAttempt:Te.attemptifyAsync(Re.promisify(oe.unlink)),closeRetry:ke.retryifyAsync(Re.promisify(oe.close),ve.default.isRetriableError),fsyncRetry:ke.retryifyAsync(Re.promisify(oe.fsync),ve.default.isRetriableError),openRetry:ke.retryifyAsync(Re.promisify(oe.open),ve.default.isRetriableError),readFileRetry:ke.retryifyAsync(Re.promisify(oe.readFile),ve.default.isRetriableError),renameRetry:ke.retryifyAsync(Re.promisify(oe.rename),ve.default.isRetriableError),statRetry:ke.retryifyAsync(Re.promisify(oe.stat),ve.default.isRetriableError),writeRetry:ke.retryifyAsync(Re.promisify(oe.write),ve.default.isRetriableError),chmodSyncAttempt:Te.attemptifySync(oe.chmodSync,ve.default.onChangeError),chownSyncAttempt:Te.attemptifySync(oe.chownSync,ve.default.onChangeError),closeSyncAttempt:Te.attemptifySync(oe.closeSync),mkdirSyncAttempt:Te.attemptifySync(oe.mkdirSync),realpathSyncAttempt:Te.attemptifySync(oe.realpathSync),statSyncAttempt:Te.attemptifySync(oe.statSync),unlinkSyncAttempt:Te.attemptifySync(oe.unlinkSync),closeSyncRetry:ke.retryifySync(oe.closeSync,ve.default.isRetriableError),fsyncSyncRetry:ke.retryifySync(oe.fsyncSync,ve.default.isRetriableError),openSyncRetry:ke.retryifySync(oe.openSync,ve.default.isRetriableError),readFileSyncRetry:ke.retryifySync(oe.readFileSync,ve.default.isRetriableError),renameSyncRetry:ke.retryifySync(oe.renameSync,ve.default.isRetriableError),statSyncRetry:ke.retryifySync(oe.statSync,ve.default.isRetriableError),writeSyncRetry:ke.retryifySync(oe.writeSync,ve.default.isRetriableError)};Kn.default=bd;var sa={};Object.defineProperty(sa,"__esModule",{value:!0});const Pd={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};sa.default=Pd;var aa={};Object.defineProperty(aa,"__esModule",{value:!0});const Zr={},Os={next:e=>{const t=Zr[e];if(!t)return;t.shift();const r=t[0];r?r(()=>Os.next(e)):delete Zr[e]},schedule:e=>new Promise(t=>{let r=Zr[e];r||(r=Zr[e]=[]),r.push(t),!(r.length>1)&&t(()=>Os.next(e))})};aa.default=Os;var oa={};Object.defineProperty(oa,"__esModule",{value:!0});const Nd=pt,Zo=ae,xo=Kn,Ve={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",s=`.${n}${r}${t}`;return`${e}${s}`},get:(e,t,r=!0)=>{const n=Ve.truncate(t(e));return n in Ve.store?Ve.get(e,t,r):(Ve.store[n]=r,[n,()=>delete Ve.store[n]])},purge:e=>{Ve.store[e]&&(delete Ve.store[e],xo.default.unlinkAttempt(e))},purgeSync:e=>{Ve.store[e]&&(delete Ve.store[e],xo.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in Ve.store)Ve.purgeSync(e)},truncate:e=>{const t=Nd.basename(e);if(t.length<=Zo.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-Zo.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",Ve.purgeSyncAll);oa.default=Ve;Object.defineProperty(st,"__esModule",{value:!0});st.writeFileSync=st.writeFile=st.readFileSync=st.readFile=void 0;const kc=pt,Se=ae,se=Kn,Ue=sa,Od=aa,Et=oa;function Cc(e,t=Se.DEFAULT_READ_OPTIONS){var r;if(Ue.default.isString(t))return Cc(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:Se.DEFAULT_TIMEOUT_ASYNC);return se.default.readFileRetry(n)(e,t)}st.readFile=Cc;function Dc(e,t=Se.DEFAULT_READ_OPTIONS){var r;if(Ue.default.isString(t))return Dc(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:Se.DEFAULT_TIMEOUT_SYNC);return se.default.readFileSyncRetry(n)(e,t)}st.readFileSync=Dc;const Mc=(e,t,r,n)=>{if(Ue.default.isFunction(r))return Mc(e,t,Se.DEFAULT_WRITE_OPTIONS,r);const s=Lc(e,t,r);return n&&s.then(n,n),s};st.writeFile=Mc;const Lc=async(e,t,r=Se.DEFAULT_WRITE_OPTIONS)=>{var n;if(Ue.default.isString(r))return Lc(e,t,{encoding:r});const s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:Se.DEFAULT_TIMEOUT_ASYNC);let a=null,i=null,u=null,c=null,d=null;try{r.schedule&&(a=await r.schedule(e)),i=await Od.default.schedule(e),e=await se.default.realpathAttempt(e)||e,[c,u]=Et.default.get(e,r.tmpCreate||Et.default.create,r.tmpPurge!==!1);const l=Se.IS_POSIX&&Ue.default.isUndefined(r.chown),p=Ue.default.isUndefined(r.mode);if(l||p){const _=await se.default.statAttempt(e);_&&(r={...r},l&&(r.chown={uid:_.uid,gid:_.gid}),p&&(r.mode=_.mode))}const P=kc.dirname(e);await se.default.mkdirAttempt(P,{mode:Se.DEFAULT_FOLDER_MODE,recursive:!0}),d=await se.default.openRetry(s)(c,"w",r.mode||Se.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(c),Ue.default.isString(t)?await se.default.writeRetry(s)(d,t,0,r.encoding||Se.DEFAULT_ENCODING):Ue.default.isUndefined(t)||await se.default.writeRetry(s)(d,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await se.default.fsyncRetry(s)(d):se.default.fsyncAttempt(d)),await se.default.closeRetry(s)(d),d=null,r.chown&&await se.default.chownAttempt(c,r.chown.uid,r.chown.gid),r.mode&&await se.default.chmodAttempt(c,r.mode);try{await se.default.renameRetry(s)(c,e)}catch(_){if(_.code!=="ENAMETOOLONG")throw _;await se.default.renameRetry(s)(c,Et.default.truncate(e))}u(),c=null}finally{d&&await se.default.closeAttempt(d),c&&Et.default.purge(c),a&&a(),i&&i()}},Fc=(e,t,r=Se.DEFAULT_WRITE_OPTIONS)=>{var n;if(Ue.default.isString(r))return Fc(e,t,{encoding:r});const s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:Se.DEFAULT_TIMEOUT_SYNC);let a=null,i=null,u=null;try{e=se.default.realpathSyncAttempt(e)||e,[i,a]=Et.default.get(e,r.tmpCreate||Et.default.create,r.tmpPurge!==!1);const c=Se.IS_POSIX&&Ue.default.isUndefined(r.chown),d=Ue.default.isUndefined(r.mode);if(c||d){const p=se.default.statSyncAttempt(e);p&&(r={...r},c&&(r.chown={uid:p.uid,gid:p.gid}),d&&(r.mode=p.mode))}const l=kc.dirname(e);se.default.mkdirSyncAttempt(l,{mode:Se.DEFAULT_FOLDER_MODE,recursive:!0}),u=se.default.openSyncRetry(s)(i,"w",r.mode||Se.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(i),Ue.default.isString(t)?se.default.writeSyncRetry(s)(u,t,0,r.encoding||Se.DEFAULT_ENCODING):Ue.default.isUndefined(t)||se.default.writeSyncRetry(s)(u,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?se.default.fsyncSyncRetry(s)(u):se.default.fsyncAttempt(u)),se.default.closeSyncRetry(s)(u),u=null,r.chown&&se.default.chownSyncAttempt(i,r.chown.uid,r.chown.gid),r.mode&&se.default.chmodSyncAttempt(i,r.mode);try{se.default.renameSyncRetry(s)(i,e)}catch(p){if(p.code!=="ENAMETOOLONG")throw p;se.default.renameSyncRetry(s)(i,Et.default.truncate(e))}a(),i=null}finally{u&&se.default.closeSyncAttempt(u),i&&Et.default.purge(i)}};st.writeFileSync=Fc;var Rs={exports:{}},Vc={},Ye={},hr={},Hr={},te={},Kr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(w){if(super(),!e.IDENTIFIER.test(w))throw new Error("CodeGen: name must be a valid identifier");this.str=w}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(w){super(),this._items=typeof w=="string"?[w]:w}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const w=this._items[0];return w===""||w==='""'}get str(){var w;return(w=this._str)!==null&&w!==void 0?w:this._str=this._items.reduce((N,R)=>`${N}${R}`,"")}get names(){var w;return(w=this._names)!==null&&w!==void 0?w:this._names=this._items.reduce((N,R)=>(R instanceof r&&(N[R.str]=(N[R.str]||0)+1),N),{})}}e._Code=n,e.nil=new n("");function s(h,...w){const N=[h[0]];let R=0;for(;R<w.length;)u(N,w[R]),N.push(h[++R]);return new n(N)}e._=s;const a=new n("+");function i(h,...w){const N=[_(h[0])];let R=0;for(;R<w.length;)N.push(a),u(N,w[R]),N.push(a,_(h[++R]));return c(N),new n(N)}e.str=i;function u(h,w){w instanceof n?h.push(...w._items):w instanceof r?h.push(w):h.push(p(w))}e.addCodeArg=u;function c(h){let w=1;for(;w<h.length-1;){if(h[w]===a){const N=d(h[w-1],h[w+1]);if(N!==void 0){h.splice(w-1,3,N);continue}h[w++]="+"}w++}}function d(h,w){if(w==='""')return h;if(h==='""')return w;if(typeof h=="string")return w instanceof r||h[h.length-1]!=='"'?void 0:typeof w!="string"?`${h.slice(0,-1)}${w}"`:w[0]==='"'?h.slice(0,-1)+w.slice(1):void 0;if(typeof w=="string"&&w[0]==='"'&&!(h instanceof r))return`"${h}${w.slice(1)}`}function l(h,w){return w.emptyStr()?h:h.emptyStr()?w:i`${h}${w}`}e.strConcat=l;function p(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:_(Array.isArray(h)?h.join(","):h)}function P(h){return new n(_(h))}e.stringify=P;function _(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=_;function E(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):s`[${h}]`}e.getProperty=E;function g(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=g;function y(h){return new n(h.toString())}e.regexpCode=y})(Kr);var Ts={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Kr;class r extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:d,parent:l}={}){this._names={},this._prefixes=d,this._parent=l}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const l=this._names[d]||this._nameGroup(d);return`${d}${l.index++}`}_nameGroup(d){var l,p;if(!((p=(l=this._parent)===null||l===void 0?void 0:l._prefixes)===null||p===void 0)&&p.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=s;class a extends t.Name{constructor(d,l){super(l),this.prefix=d}setValue(d,{property:l,itemIndex:p}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(l)}[${p}]`}}e.ValueScopeName=a;const i=(0,t._)`\n`;class u extends s{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?i:t.nil}}get(){return this._scope}name(d){return new a(d,this._newName(d))}value(d,l){var p;if(l.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const P=this.toName(d),{prefix:_}=P,E=(p=l.key)!==null&&p!==void 0?p:l.ref;let g=this._values[_];if(g){const w=g.get(E);if(w)return w}else g=this._values[_]=new Map;g.set(E,P);const y=this._scope[_]||(this._scope[_]=[]),h=y.length;return y[h]=l.ref,P.setValue(l,{property:_,itemIndex:h}),P}getValue(d,l){const p=this._values[d];if(p)return p.get(l)}scopeRefs(d,l=this._values){return this._reduceValues(l,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,t._)`${d}${p.scopePath}`})}scopeCode(d=this._values,l,p){return this._reduceValues(d,P=>{if(P.value===void 0)throw new Error(`CodeGen: name "${P}" has no value`);return P.value.code},l,p)}_reduceValues(d,l,p={},P){let _=t.nil;for(const E in d){const g=d[E];if(!g)continue;const y=p[E]=p[E]||new Map;g.forEach(h=>{if(y.has(h))return;y.set(h,n.Started);let w=l(h);if(w){const N=this.opts.es5?e.varKinds.var:e.varKinds.const;_=(0,t._)`${_}${N} ${h} = ${w};${this.opts._n}`}else if(w=P==null?void 0:P(h))_=(0,t._)`${_}${w}${this.opts._n}`;else throw new r(h);y.set(h,n.Completed)})}return _}}e.ValueScope=u})(Ts);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Kr,r=Ts;var n=Kr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Ts;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(o,f){return this}}class i extends a{constructor(o,f,b){super(),this.varKind=o,this.name=f,this.rhs=b}render({es5:o,_n:f}){const b=o?r.varKinds.var:this.varKind,j=this.rhs===void 0?"":` = ${this.rhs}`;return`${b} ${this.name}${j};`+f}optimizeNames(o,f){if(o[this.name.str])return this.rhs&&(this.rhs=C(this.rhs,o,f)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(o,f,b){super(),this.lhs=o,this.rhs=f,this.sideEffects=b}render({_n:o}){return`${this.lhs} = ${this.rhs};`+o}optimizeNames(o,f){if(!(this.lhs instanceof t.Name&&!o[this.lhs.str]&&!this.sideEffects))return this.rhs=C(this.rhs,o,f),this}get names(){const o=this.lhs instanceof t.Name?{}:{...this.lhs.names};return de(o,this.rhs)}}class c extends u{constructor(o,f,b,j){super(o,b,j),this.op=f}render({_n:o}){return`${this.lhs} ${this.op}= ${this.rhs};`+o}}class d extends a{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`${this.label}:`+o}}class l extends a{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`break${this.label?` ${this.label}`:""};`+o}}class p extends a{constructor(o){super(),this.error=o}render({_n:o}){return`throw ${this.error};`+o}get names(){return this.error.names}}class P extends a{constructor(o){super(),this.code=o}render({_n:o}){return`${this.code};`+o}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(o,f){return this.code=C(this.code,o,f),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class _ extends a{constructor(o=[]){super(),this.nodes=o}render(o){return this.nodes.reduce((f,b)=>f+b.render(o),"")}optimizeNodes(){const{nodes:o}=this;let f=o.length;for(;f--;){const b=o[f].optimizeNodes();Array.isArray(b)?o.splice(f,1,...b):b?o[f]=b:o.splice(f,1)}return o.length>0?this:void 0}optimizeNames(o,f){const{nodes:b}=this;let j=b.length;for(;j--;){const A=b[j];A.optimizeNames(o,f)||(k(o,A.names),b.splice(j,1))}return b.length>0?this:void 0}get names(){return this.nodes.reduce((o,f)=>Q(o,f.names),{})}}class E extends _{render(o){return"{"+o._n+super.render(o)+"}"+o._n}}class g extends _{}class y extends E{}y.kind="else";class h extends E{constructor(o,f){super(f),this.condition=o}render(o){let f=`if(${this.condition})`+super.render(o);return this.else&&(f+="else "+this.else.render(o)),f}optimizeNodes(){super.optimizeNodes();const o=this.condition;if(o===!0)return this.nodes;let f=this.else;if(f){const b=f.optimizeNodes();f=this.else=Array.isArray(b)?new y(b):b}if(f)return o===!1?f instanceof h?f:f.nodes:this.nodes.length?this:new h(U(o),f instanceof h?[f]:f.nodes);if(!(o===!1||!this.nodes.length))return this}optimizeNames(o,f){var b;if(this.else=(b=this.else)===null||b===void 0?void 0:b.optimizeNames(o,f),!!(super.optimizeNames(o,f)||this.else))return this.condition=C(this.condition,o,f),this}get names(){const o=super.names;return de(o,this.condition),this.else&&Q(o,this.else.names),o}}h.kind="if";class w extends E{}w.kind="for";class N extends w{constructor(o){super(),this.iteration=o}render(o){return`for(${this.iteration})`+super.render(o)}optimizeNames(o,f){if(super.optimizeNames(o,f))return this.iteration=C(this.iteration,o,f),this}get names(){return Q(super.names,this.iteration.names)}}class R extends w{constructor(o,f,b,j){super(),this.varKind=o,this.name=f,this.from=b,this.to=j}render(o){const f=o.es5?r.varKinds.var:this.varKind,{name:b,from:j,to:A}=this;return`for(${f} ${b}=${j}; ${b}<${A}; ${b}++)`+super.render(o)}get names(){const o=de(super.names,this.from);return de(o,this.to)}}class I extends w{constructor(o,f,b,j){super(),this.loop=o,this.varKind=f,this.name=b,this.iterable=j}render(o){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(o)}optimizeNames(o,f){if(super.optimizeNames(o,f))return this.iterable=C(this.iterable,o,f),this}get names(){return Q(super.names,this.iterable.names)}}class z extends E{constructor(o,f,b){super(),this.name=o,this.args=f,this.async=b}render(o){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(o)}}z.kind="func";class W extends _{render(o){return"return "+super.render(o)}}W.kind="return";class ue extends E{render(o){let f="try"+super.render(o);return this.catch&&(f+=this.catch.render(o)),this.finally&&(f+=this.finally.render(o)),f}optimizeNodes(){var o,f;return super.optimizeNodes(),(o=this.catch)===null||o===void 0||o.optimizeNodes(),(f=this.finally)===null||f===void 0||f.optimizeNodes(),this}optimizeNames(o,f){var b,j;return super.optimizeNames(o,f),(b=this.catch)===null||b===void 0||b.optimizeNames(o,f),(j=this.finally)===null||j===void 0||j.optimizeNames(o,f),this}get names(){const o=super.names;return this.catch&&Q(o,this.catch.names),this.finally&&Q(o,this.finally.names),o}}class V extends E{constructor(o){super(),this.error=o}render(o){return`catch(${this.error})`+super.render(o)}}V.kind="catch";class H extends E{render(o){return"finally"+super.render(o)}}H.kind="finally";class ne{constructor(o,f={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...f,_n:f.lines?`
`:""},this._extScope=o,this._scope=new r.Scope({parent:o}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(o){return this._scope.name(o)}scopeName(o){return this._extScope.name(o)}scopeValue(o,f){const b=this._extScope.value(o,f);return(this._values[b.prefix]||(this._values[b.prefix]=new Set)).add(b),b}getScopeValue(o,f){return this._extScope.getValue(o,f)}scopeRefs(o){return this._extScope.scopeRefs(o,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(o,f,b,j){const A=this._scope.toName(f);return b!==void 0&&j&&(this._constants[A.str]=b),this._leafNode(new i(o,A,b)),A}const(o,f,b){return this._def(r.varKinds.const,o,f,b)}let(o,f,b){return this._def(r.varKinds.let,o,f,b)}var(o,f,b){return this._def(r.varKinds.var,o,f,b)}assign(o,f,b){return this._leafNode(new u(o,f,b))}add(o,f){return this._leafNode(new c(o,e.operators.ADD,f))}code(o){return typeof o=="function"?o():o!==t.nil&&this._leafNode(new P(o)),this}object(...o){const f=["{"];for(const[b,j]of o)f.length>1&&f.push(","),f.push(b),(b!==j||this.opts.es5)&&(f.push(":"),(0,t.addCodeArg)(f,j));return f.push("}"),new t._Code(f)}if(o,f,b){if(this._blockNode(new h(o)),f&&b)this.code(f).else().code(b).endIf();else if(f)this.code(f).endIf();else if(b)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(o){return this._elseNode(new h(o))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(h,y)}_for(o,f){return this._blockNode(o),f&&this.code(f).endFor(),this}for(o,f){return this._for(new N(o),f)}forRange(o,f,b,j,A=this.opts.es5?r.varKinds.var:r.varKinds.let){const q=this._scope.toName(o);return this._for(new R(A,q,f,b),()=>j(q))}forOf(o,f,b,j=r.varKinds.const){const A=this._scope.toName(o);if(this.opts.es5){const q=f instanceof t.Name?f:this.var("_arr",f);return this.forRange("_i",0,(0,t._)`${q}.length`,F=>{this.var(A,(0,t._)`${q}[${F}]`),b(A)})}return this._for(new I("of",j,A,f),()=>b(A))}forIn(o,f,b,j=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(o,(0,t._)`Object.keys(${f})`,b);const A=this._scope.toName(o);return this._for(new I("in",j,A,f),()=>b(A))}endFor(){return this._endBlockNode(w)}label(o){return this._leafNode(new d(o))}break(o){return this._leafNode(new l(o))}return(o){const f=new W;if(this._blockNode(f),this.code(o),f.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(W)}try(o,f,b){if(!f&&!b)throw new Error('CodeGen: "try" without "catch" and "finally"');const j=new ue;if(this._blockNode(j),this.code(o),f){const A=this.name("e");this._currNode=j.catch=new V(A),f(A)}return b&&(this._currNode=j.finally=new H,this.code(b)),this._endBlockNode(V,H)}throw(o){return this._leafNode(new p(o))}block(o,f){return this._blockStarts.push(this._nodes.length),o&&this.code(o).endBlock(f),this}endBlock(o){const f=this._blockStarts.pop();if(f===void 0)throw new Error("CodeGen: not in self-balancing block");const b=this._nodes.length-f;if(b<0||o!==void 0&&b!==o)throw new Error(`CodeGen: wrong number of nodes: ${b} vs ${o} expected`);return this._nodes.length=f,this}func(o,f=t.nil,b,j){return this._blockNode(new z(o,f,b)),j&&this.code(j).endFunc(),this}endFunc(){return this._endBlockNode(z)}optimize(o=1){for(;o-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(o){return this._currNode.nodes.push(o),this}_blockNode(o){this._currNode.nodes.push(o),this._nodes.push(o)}_endBlockNode(o,f){const b=this._currNode;if(b instanceof o||f&&b instanceof f)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${f?`${o.kind}/${f.kind}`:o.kind}"`)}_elseNode(o){const f=this._currNode;if(!(f instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=f.else=o,this}get _root(){return this._nodes[0]}get _currNode(){const o=this._nodes;return o[o.length-1]}set _currNode(o){const f=this._nodes;f[f.length-1]=o}}e.CodeGen=ne;function Q($,o){for(const f in o)$[f]=($[f]||0)+(o[f]||0);return $}function de($,o){return o instanceof t._CodeOrName?Q($,o.names):$}function C($,o,f){if($ instanceof t.Name)return b($);if(!j($))return $;return new t._Code($._items.reduce((A,q)=>(q instanceof t.Name&&(q=b(q)),q instanceof t._Code?A.push(...q._items):A.push(q),A),[]));function b(A){const q=f[A.str];return q===void 0||o[A.str]!==1?A:(delete o[A.str],q)}function j(A){return A instanceof t._Code&&A._items.some(q=>q instanceof t.Name&&o[q.str]===1&&f[q.str]!==void 0)}}function k($,o){for(const f in o)$[f]=($[f]||0)-(o[f]||0)}function U($){return typeof $=="boolean"||typeof $=="number"||$===null?!$:(0,t._)`!${S($)}`}e.not=U;const D=m(e.operators.AND);function O(...$){return $.reduce(D)}e.and=O;const T=m(e.operators.OR);function v(...$){return $.reduce(T)}e.or=v;function m($){return(o,f)=>o===t.nil?f:f===t.nil?o:(0,t._)`${S(o)} ${$} ${S(f)}`}function S($){return $ instanceof t.Name?$:(0,t._)`(${$})`}})(te);var M={};Object.defineProperty(M,"__esModule",{value:!0});M.checkStrictMode=M.getErrorPath=M.Type=M.useFunc=M.setEvaluated=M.evaluatedPropsToName=M.mergeEvaluated=M.eachItem=M.unescapeJsonPointer=M.escapeJsonPointer=M.escapeFragment=M.unescapeFragment=M.schemaRefOrVal=M.schemaHasRulesButRef=M.schemaHasRules=M.checkUnknownRules=M.alwaysValidSchema=M.toHash=void 0;const ie=te,Rd=Kr;function Td(e){const t={};for(const r of e)t[r]=!0;return t}M.toHash=Td;function Id(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Uc(e,t),!zc(t,e.self.RULES.all))}M.alwaysValidSchema=Id;function Uc(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const s=n.RULES.keywords;for(const a in t)s[a]||Gc(e,`unknown keyword: "${a}"`)}M.checkUnknownRules=Uc;function zc(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}M.schemaHasRules=zc;function jd(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}M.schemaHasRulesButRef=jd;function Ad({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ie._)`${r}`}return(0,ie._)`${e}${t}${(0,ie.getProperty)(n)}`}M.schemaRefOrVal=Ad;function kd(e){return qc(decodeURIComponent(e))}M.unescapeFragment=kd;function Cd(e){return encodeURIComponent(ia(e))}M.escapeFragment=Cd;function ia(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}M.escapeJsonPointer=ia;function qc(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}M.unescapeJsonPointer=qc;function Dd(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}M.eachItem=Dd;function ei({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,a,i,u)=>{const c=i===void 0?a:i instanceof ie.Name?(a instanceof ie.Name?e(s,a,i):t(s,a,i),i):a instanceof ie.Name?(t(s,i,a),a):r(a,i);return u===ie.Name&&!(c instanceof ie.Name)?n(s,c):c}}M.mergeEvaluated={props:ei({mergeNames:(e,t,r)=>e.if((0,ie._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ie._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ie._)`${r} || {}`).code((0,ie._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ie._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ie._)`${r} || {}`),ca(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:Kc}),items:ei({mergeNames:(e,t,r)=>e.if((0,ie._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ie._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ie._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ie._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function Kc(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,ie._)`{}`);return t!==void 0&&ca(e,r,t),r}M.evaluatedPropsToName=Kc;function ca(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ie._)`${t}${(0,ie.getProperty)(n)}`,!0))}M.setEvaluated=ca;const ti={};function Md(e,t){return e.scopeValue("func",{ref:t,code:ti[t.code]||(ti[t.code]=new Rd._Code(t.code))})}M.useFunc=Md;var Is;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Is||(M.Type=Is={}));function Ld(e,t,r){if(e instanceof ie.Name){const n=t===Is.Num;return r?n?(0,ie._)`"[" + ${e} + "]"`:(0,ie._)`"['" + ${e} + "']"`:n?(0,ie._)`"/" + ${e}`:(0,ie._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ie.getProperty)(e).toString():"/"+ia(e)}M.getErrorPath=Ld;function Gc(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}M.checkStrictMode=Gc;var ct={};Object.defineProperty(ct,"__esModule",{value:!0});const Ne=te,Fd={data:new Ne.Name("data"),valCxt:new Ne.Name("valCxt"),instancePath:new Ne.Name("instancePath"),parentData:new Ne.Name("parentData"),parentDataProperty:new Ne.Name("parentDataProperty"),rootData:new Ne.Name("rootData"),dynamicAnchors:new Ne.Name("dynamicAnchors"),vErrors:new Ne.Name("vErrors"),errors:new Ne.Name("errors"),this:new Ne.Name("this"),self:new Ne.Name("self"),scope:new Ne.Name("scope"),json:new Ne.Name("json"),jsonPos:new Ne.Name("jsonPos"),jsonLen:new Ne.Name("jsonLen"),jsonPart:new Ne.Name("jsonPart")};ct.default=Fd;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=te,r=M,n=ct;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:h})=>h?(0,t.str)`"${y}" keyword must be ${h} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function s(y,h=e.keywordError,w,N){const{it:R}=y,{gen:I,compositeRule:z,allErrors:W}=R,ue=p(y,h,w);N??(z||W)?c(I,ue):d(R,(0,t._)`[${ue}]`)}e.reportError=s;function a(y,h=e.keywordError,w){const{it:N}=y,{gen:R,compositeRule:I,allErrors:z}=N,W=p(y,h,w);c(R,W),I||z||d(N,n.default.vErrors)}e.reportExtraError=a;function i(y,h){y.assign(n.default.errors,h),y.if((0,t._)`${n.default.vErrors} !== null`,()=>y.if(h,()=>y.assign((0,t._)`${n.default.vErrors}.length`,h),()=>y.assign(n.default.vErrors,null)))}e.resetErrorsCount=i;function u({gen:y,keyword:h,schemaValue:w,data:N,errsCount:R,it:I}){if(R===void 0)throw new Error("ajv implementation error");const z=y.name("err");y.forRange("i",R,n.default.errors,W=>{y.const(z,(0,t._)`${n.default.vErrors}[${W}]`),y.if((0,t._)`${z}.instancePath === undefined`,()=>y.assign((0,t._)`${z}.instancePath`,(0,t.strConcat)(n.default.instancePath,I.errorPath))),y.assign((0,t._)`${z}.schemaPath`,(0,t.str)`${I.errSchemaPath}/${h}`),I.opts.verbose&&(y.assign((0,t._)`${z}.schema`,w),y.assign((0,t._)`${z}.data`,N))})}e.extendErrors=u;function c(y,h){const w=y.const("err",h);y.if((0,t._)`${n.default.vErrors} === null`,()=>y.assign(n.default.vErrors,(0,t._)`[${w}]`),(0,t._)`${n.default.vErrors}.push(${w})`),y.code((0,t._)`${n.default.errors}++`)}function d(y,h){const{gen:w,validateName:N,schemaEnv:R}=y;R.$async?w.throw((0,t._)`new ${y.ValidationError}(${h})`):(w.assign((0,t._)`${N}.errors`,h),w.return(!1))}const l={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function p(y,h,w){const{createErrors:N}=y.it;return N===!1?(0,t._)`{}`:P(y,h,w)}function P(y,h,w={}){const{gen:N,it:R}=y,I=[_(R,w),E(y,w)];return g(y,h,I),N.object(...I)}function _({errorPath:y},{instancePath:h}){const w=h?(0,t.str)`${y}${(0,r.getErrorPath)(h,r.Type.Str)}`:y;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,w)]}function E({keyword:y,it:{errSchemaPath:h}},{schemaPath:w,parentSchema:N}){let R=N?h:(0,t.str)`${h}/${y}`;return w&&(R=(0,t.str)`${R}${(0,r.getErrorPath)(w,r.Type.Str)}`),[l.schemaPath,R]}function g(y,{params:h,message:w},N){const{keyword:R,data:I,schemaValue:z,it:W}=y,{opts:ue,propertyName:V,topSchemaRef:H,schemaPath:ne}=W;N.push([l.keyword,R],[l.params,typeof h=="function"?h(y):h||(0,t._)`{}`]),ue.messages&&N.push([l.message,typeof w=="function"?w(y):w]),ue.verbose&&N.push([l.schema,z],[l.parentSchema,(0,t._)`${H}${ne}`],[n.default.data,I]),V&&N.push([l.propertyName,V])}})(Hr);Object.defineProperty(hr,"__esModule",{value:!0});hr.boolOrEmptySchema=hr.topBoolOrEmptySchema=void 0;const Vd=Hr,Ud=te,zd=ct,qd={message:"boolean schema is false"};function Kd(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Hc(e,!1):typeof r=="object"&&r.$async===!0?t.return(zd.default.data):(t.assign((0,Ud._)`${n}.errors`,null),t.return(!0))}hr.topBoolOrEmptySchema=Kd;function Gd(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Hc(e)):r.var(t,!0)}hr.boolOrEmptySchema=Gd;function Hc(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Vd.reportError)(s,qd,void 0,t)}var _e={},Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.getRules=Yt.isJSONType=void 0;const Hd=["string","number","integer","boolean","null","object","array"],Wd=new Set(Hd);function Jd(e){return typeof e=="string"&&Wd.has(e)}Yt.isJSONType=Jd;function Bd(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Yt.getRules=Bd;var ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.shouldUseRule=ut.shouldUseGroup=ut.schemaHasRulesForType=void 0;function Xd({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Wc(e,n)}ut.schemaHasRulesForType=Xd;function Wc(e,t){return t.rules.some(r=>Jc(e,r))}ut.shouldUseGroup=Wc;function Jc(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}ut.shouldUseRule=Jc;Object.defineProperty(_e,"__esModule",{value:!0});_e.reportTypeError=_e.checkDataTypes=_e.checkDataType=_e.coerceAndCheckDataType=_e.getJSONTypes=_e.getSchemaTypes=_e.DataType=void 0;const Yd=Yt,Qd=ut,Zd=Hr,X=te,Bc=M;var ir;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(ir||(_e.DataType=ir={}));function xd(e){const t=Xc(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}_e.getSchemaTypes=xd;function Xc(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(Yd.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}_e.getJSONTypes=Xc;function ef(e,t){const{gen:r,data:n,opts:s}=e,a=tf(t,s.coerceTypes),i=t.length>0&&!(a.length===0&&t.length===1&&(0,Qd.schemaHasRulesForType)(e,t[0]));if(i){const u=la(t,n,s.strictNumbers,ir.Wrong);r.if(u,()=>{a.length?rf(e,t,a):ua(e)})}return i}_e.coerceAndCheckDataType=ef;const Yc=new Set(["string","number","integer","boolean","null"]);function tf(e,t){return t?e.filter(r=>Yc.has(r)||t==="array"&&r==="array"):[]}function rf(e,t,r){const{gen:n,data:s,opts:a}=e,i=n.let("dataType",(0,X._)`typeof ${s}`),u=n.let("coerced",(0,X._)`undefined`);a.coerceTypes==="array"&&n.if((0,X._)`${i} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,X._)`${s}[0]`).assign(i,(0,X._)`typeof ${s}`).if(la(t,s,a.strictNumbers),()=>n.assign(u,s))),n.if((0,X._)`${u} !== undefined`);for(const d of r)(Yc.has(d)||d==="array"&&a.coerceTypes==="array")&&c(d);n.else(),ua(e),n.endIf(),n.if((0,X._)`${u} !== undefined`,()=>{n.assign(s,u),nf(e,u)});function c(d){switch(d){case"string":n.elseIf((0,X._)`${i} == "number" || ${i} == "boolean"`).assign(u,(0,X._)`"" + ${s}`).elseIf((0,X._)`${s} === null`).assign(u,(0,X._)`""`);return;case"number":n.elseIf((0,X._)`${i} == "boolean" || ${s} === null
              || (${i} == "string" && ${s} && ${s} == +${s})`).assign(u,(0,X._)`+${s}`);return;case"integer":n.elseIf((0,X._)`${i} === "boolean" || ${s} === null
              || (${i} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(u,(0,X._)`+${s}`);return;case"boolean":n.elseIf((0,X._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(u,!1).elseIf((0,X._)`${s} === "true" || ${s} === 1`).assign(u,!0);return;case"null":n.elseIf((0,X._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(u,null);return;case"array":n.elseIf((0,X._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${s} === null`).assign(u,(0,X._)`[${s}]`)}}}function nf({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,X._)`${t} !== undefined`,()=>e.assign((0,X._)`${t}[${r}]`,n))}function js(e,t,r,n=ir.Correct){const s=n===ir.Correct?X.operators.EQ:X.operators.NEQ;let a;switch(e){case"null":return(0,X._)`${t} ${s} null`;case"array":a=(0,X._)`Array.isArray(${t})`;break;case"object":a=(0,X._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=i((0,X._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=i();break;default:return(0,X._)`typeof ${t} ${s} ${e}`}return n===ir.Correct?a:(0,X.not)(a);function i(u=X.nil){return(0,X.and)((0,X._)`typeof ${t} == "number"`,u,r?(0,X._)`isFinite(${t})`:X.nil)}}_e.checkDataType=js;function la(e,t,r,n){if(e.length===1)return js(e[0],t,r,n);let s;const a=(0,Bc.toHash)(e);if(a.array&&a.object){const i=(0,X._)`typeof ${t} != "object"`;s=a.null?i:(0,X._)`!${t} || ${i}`,delete a.null,delete a.array,delete a.object}else s=X.nil;a.number&&delete a.integer;for(const i in a)s=(0,X.and)(s,js(i,t,r,n));return s}_e.checkDataTypes=la;const sf={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,X._)`{type: ${e}}`:(0,X._)`{type: ${t}}`};function ua(e){const t=af(e);(0,Zd.reportError)(t,sf)}_e.reportTypeError=ua;function af(e){const{gen:t,data:r,schema:n}=e,s=(0,Bc.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.assignDefaults=void 0;const er=te,of=M;function cf(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)ri(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>ri(e,a,s.default))}Gn.assignDefaults=cf;function ri(e,t,r){const{gen:n,compositeRule:s,data:a,opts:i}=e;if(r===void 0)return;const u=(0,er._)`${a}${(0,er.getProperty)(t)}`;if(s){(0,of.checkStrictMode)(e,`default is ignored for: ${u}`);return}let c=(0,er._)`${u} === undefined`;i.useDefaults==="empty"&&(c=(0,er._)`${c} || ${u} === null || ${u} === ""`),n.if(c,(0,er._)`${u} = ${(0,er.stringify)(r)}`)}var at={},x={};Object.defineProperty(x,"__esModule",{value:!0});x.validateUnion=x.validateArray=x.usePattern=x.callValidateCode=x.schemaProperties=x.allSchemaProperties=x.noPropertyInData=x.propertyInData=x.isOwnProperty=x.hasPropFunc=x.reportMissingProp=x.checkMissingProp=x.checkReportMissingProp=void 0;const fe=te,da=M,$t=ct,lf=M;function uf(e,t){const{gen:r,data:n,it:s}=e;r.if(ha(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,fe._)`${t}`},!0),e.error()})}x.checkReportMissingProp=uf;function df({gen:e,data:t,it:{opts:r}},n,s){return(0,fe.or)(...n.map(a=>(0,fe.and)(ha(e,t,a,r.ownProperties),(0,fe._)`${s} = ${a}`)))}x.checkMissingProp=df;function ff(e,t){e.setParams({missingProperty:t},!0),e.error()}x.reportMissingProp=ff;function Qc(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,fe._)`Object.prototype.hasOwnProperty`})}x.hasPropFunc=Qc;function fa(e,t,r){return(0,fe._)`${Qc(e)}.call(${t}, ${r})`}x.isOwnProperty=fa;function hf(e,t,r,n){const s=(0,fe._)`${t}${(0,fe.getProperty)(r)} !== undefined`;return n?(0,fe._)`${s} && ${fa(e,t,r)}`:s}x.propertyInData=hf;function ha(e,t,r,n){const s=(0,fe._)`${t}${(0,fe.getProperty)(r)} === undefined`;return n?(0,fe.or)(s,(0,fe.not)(fa(e,t,r))):s}x.noPropertyInData=ha;function Zc(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}x.allSchemaProperties=Zc;function pf(e,t){return Zc(t).filter(r=>!(0,da.alwaysValidSchema)(e,t[r]))}x.schemaProperties=pf;function mf({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:i},u,c,d){const l=d?(0,fe._)`${e}, ${t}, ${n}${s}`:t,p=[[$t.default.instancePath,(0,fe.strConcat)($t.default.instancePath,a)],[$t.default.parentData,i.parentData],[$t.default.parentDataProperty,i.parentDataProperty],[$t.default.rootData,$t.default.rootData]];i.opts.dynamicRef&&p.push([$t.default.dynamicAnchors,$t.default.dynamicAnchors]);const P=(0,fe._)`${l}, ${r.object(...p)}`;return c!==fe.nil?(0,fe._)`${u}.call(${c}, ${P})`:(0,fe._)`${u}(${P})`}x.callValidateCode=mf;const $f=(0,fe._)`new RegExp`;function yf({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,fe._)`${s.code==="new RegExp"?$f:(0,lf.useFunc)(e,s)}(${r}, ${n})`})}x.usePattern=yf;function _f(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const u=t.let("valid",!0);return i(()=>t.assign(u,!1)),u}return t.var(a,!0),i(()=>t.break()),a;function i(u){const c=t.const("len",(0,fe._)`${r}.length`);t.forRange("i",0,c,d=>{e.subschema({keyword:n,dataProp:d,dataPropType:da.Type.Num},a),t.if((0,fe.not)(a),u)})}}x.validateArray=_f;function gf(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,da.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const i=t.let("valid",!1),u=t.name("_valid");t.block(()=>r.forEach((c,d)=>{const l=e.subschema({keyword:n,schemaProp:d,compositeRule:!0},u);t.assign(i,(0,fe._)`${i} || ${u}`),e.mergeValidEvaluated(l,u)||t.if((0,fe.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}x.validateUnion=gf;Object.defineProperty(at,"__esModule",{value:!0});at.validateKeywordUsage=at.validSchemaType=at.funcKeywordCode=at.macroKeywordCode=void 0;const Ie=te,Gt=ct,vf=x,wf=Hr;function Ef(e,t){const{gen:r,keyword:n,schema:s,parentSchema:a,it:i}=e,u=t.macro.call(i.self,s,a,i),c=xc(r,n,u);i.opts.validateSchema!==!1&&i.self.validateSchema(u,!0);const d=r.name("valid");e.subschema({schema:u,schemaPath:Ie.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},d),e.pass(d,()=>e.error(!0))}at.macroKeywordCode=Ef;function Sf(e,t){var r;const{gen:n,keyword:s,schema:a,parentSchema:i,$data:u,it:c}=e;Pf(c,t);const d=!u&&t.compile?t.compile.call(c.self,a,i,c):t.validate,l=xc(n,s,d),p=n.let("valid");e.block$data(p,P),e.ok((r=t.valid)!==null&&r!==void 0?r:p);function P(){if(t.errors===!1)g(),t.modifying&&ni(e),y(()=>e.error());else{const h=t.async?_():E();t.modifying&&ni(e),y(()=>bf(e,h))}}function _(){const h=n.let("ruleErrs",null);return n.try(()=>g((0,Ie._)`await `),w=>n.assign(p,!1).if((0,Ie._)`${w} instanceof ${c.ValidationError}`,()=>n.assign(h,(0,Ie._)`${w}.errors`),()=>n.throw(w))),h}function E(){const h=(0,Ie._)`${l}.errors`;return n.assign(h,null),g(Ie.nil),h}function g(h=t.async?(0,Ie._)`await `:Ie.nil){const w=c.opts.passContext?Gt.default.this:Gt.default.self,N=!("compile"in t&&!u||t.schema===!1);n.assign(p,(0,Ie._)`${h}${(0,vf.callValidateCode)(e,l,w,N)}`,t.modifying)}function y(h){var w;n.if((0,Ie.not)((w=t.valid)!==null&&w!==void 0?w:p),h)}}at.funcKeywordCode=Sf;function ni(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Ie._)`${n.parentData}[${n.parentDataProperty}]`))}function bf(e,t){const{gen:r}=e;r.if((0,Ie._)`Array.isArray(${t})`,()=>{r.assign(Gt.default.vErrors,(0,Ie._)`${Gt.default.vErrors} === null ? ${t} : ${Gt.default.vErrors}.concat(${t})`).assign(Gt.default.errors,(0,Ie._)`${Gt.default.vErrors}.length`),(0,wf.extendErrors)(e)},()=>e.error())}function Pf({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function xc(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Ie.stringify)(r)})}function Nf(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}at.validSchemaType=Nf;function Of({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const i=s.dependencies;if(i!=null&&i.some(u=>!Object.prototype.hasOwnProperty.call(e,u)))throw new Error(`parent schema must have dependencies of ${a}: ${i.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const c=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}at.validateKeywordUsage=Of;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.extendSubschemaMode=Pt.extendSubschemaData=Pt.getSubschema=void 0;const rt=te,el=M;function Rf(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:i}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const u=e.schema[t];return r===void 0?{schema:u,schemaPath:(0,rt._)`${e.schemaPath}${(0,rt.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:u[r],schemaPath:(0,rt._)`${e.schemaPath}${(0,rt.getProperty)(t)}${(0,rt.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,el.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:i,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}Pt.getSubschema=Rf;function Tf(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:i}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(r!==void 0){const{errorPath:d,dataPathArr:l,opts:p}=t,P=u.let("data",(0,rt._)`${t.data}${(0,rt.getProperty)(r)}`,!0);c(P),e.errorPath=(0,rt.str)`${d}${(0,el.getErrorPath)(r,n,p.jsPropertySyntax)}`,e.parentDataProperty=(0,rt._)`${r}`,e.dataPathArr=[...l,e.parentDataProperty]}if(s!==void 0){const d=s instanceof rt.Name?s:u.let("data",s,!0);c(d),i!==void 0&&(e.propertyName=i)}a&&(e.dataTypes=a);function c(d){e.data=d,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,d]}}Pt.extendSubschemaData=Tf;function If(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}Pt.extendSubschemaMode=If;var be={},Hn=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var i=a[s];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r},tl={exports:{}},St=tl.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};wn(t,n,s,e,"",e)};St.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};St.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};St.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};St.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function wn(e,t,r,n,s,a,i,u,c,d){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,i,u,c,d);for(var l in n){var p=n[l];if(Array.isArray(p)){if(l in St.arrayKeywords)for(var P=0;P<p.length;P++)wn(e,t,r,p[P],s+"/"+l+"/"+P,a,s,l,n,P)}else if(l in St.propsKeywords){if(p&&typeof p=="object")for(var _ in p)wn(e,t,r,p[_],s+"/"+l+"/"+jf(_),a,s,l,n,_)}else(l in St.keywords||e.allKeys&&!(l in St.skipKeywords))&&wn(e,t,r,p,s+"/"+l,a,s,l,n)}r(n,s,a,i,u,c,d)}}function jf(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Af=tl.exports;Object.defineProperty(be,"__esModule",{value:!0});be.getSchemaRefs=be.resolveUrl=be.normalizeId=be._getFullPath=be.getFullPath=be.inlineRef=void 0;const kf=M,Cf=Hn,Df=Af,Mf=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Lf(e,t=!0){return typeof e=="boolean"?!0:t===!0?!As(e):t?rl(e)<=t:!1}be.inlineRef=Lf;const Ff=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function As(e){for(const t in e){if(Ff.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(As)||typeof r=="object"&&As(r))return!0}return!1}function rl(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Mf.has(r)&&(typeof e[r]=="object"&&(0,kf.eachItem)(e[r],n=>t+=rl(n)),t===1/0))return 1/0}return t}function nl(e,t="",r){r!==!1&&(t=cr(t));const n=e.parse(t);return sl(e,n)}be.getFullPath=nl;function sl(e,t){return e.serialize(t).split("#")[0]+"#"}be._getFullPath=sl;const Vf=/#\/?$/;function cr(e){return e?e.replace(Vf,""):""}be.normalizeId=cr;function Uf(e,t,r){return r=cr(r),e.resolve(t,r)}be.resolveUrl=Uf;const zf=/^[a-z_][-a-z0-9._]*$/i;function qf(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=cr(e[r]||t),a={"":s},i=nl(n,s,!1),u={},c=new Set;return Df(e,{allKeys:!0},(p,P,_,E)=>{if(E===void 0)return;const g=i+P;let y=a[E];typeof p[r]=="string"&&(y=h.call(this,p[r])),w.call(this,p.$anchor),w.call(this,p.$dynamicAnchor),a[P]=y;function h(N){const R=this.opts.uriResolver.resolve;if(N=cr(y?R(y,N):N),c.has(N))throw l(N);c.add(N);let I=this.refs[N];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?d(p,I.schema,N):N!==cr(g)&&(N[0]==="#"?(d(p,u[N],N),u[N]=p):this.refs[N]=g),N}function w(N){if(typeof N=="string"){if(!zf.test(N))throw new Error(`invalid anchor "${N}"`);h.call(this,`#${N}`)}}}),u;function d(p,P,_){if(P!==void 0&&!Cf(p,P))throw l(_)}function l(p){return new Error(`reference "${p}" resolves to more than one schema`)}}be.getSchemaRefs=qf;Object.defineProperty(Ye,"__esModule",{value:!0});Ye.getData=Ye.KeywordCxt=Ye.validateFunctionCode=void 0;const al=hr,si=_e,pa=ut,jn=_e,Kf=Gn,kr=at,ds=Pt,K=te,J=ct,Gf=be,dt=M,Pr=Hr;function Hf(e){if(cl(e)&&(ll(e),il(e))){Bf(e);return}ol(e,()=>(0,al.topBoolOrEmptySchema)(e))}Ye.validateFunctionCode=Hf;function ol({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,K._)`${J.default.data}, ${J.default.valCxt}`,n.$async,()=>{e.code((0,K._)`"use strict"; ${ai(r,s)}`),Jf(e,s),e.code(a)}):e.func(t,(0,K._)`${J.default.data}, ${Wf(s)}`,n.$async,()=>e.code(ai(r,s)).code(a))}function Wf(e){return(0,K._)`{${J.default.instancePath}="", ${J.default.parentData}, ${J.default.parentDataProperty}, ${J.default.rootData}=${J.default.data}${e.dynamicRef?(0,K._)`, ${J.default.dynamicAnchors}={}`:K.nil}}={}`}function Jf(e,t){e.if(J.default.valCxt,()=>{e.var(J.default.instancePath,(0,K._)`${J.default.valCxt}.${J.default.instancePath}`),e.var(J.default.parentData,(0,K._)`${J.default.valCxt}.${J.default.parentData}`),e.var(J.default.parentDataProperty,(0,K._)`${J.default.valCxt}.${J.default.parentDataProperty}`),e.var(J.default.rootData,(0,K._)`${J.default.valCxt}.${J.default.rootData}`),t.dynamicRef&&e.var(J.default.dynamicAnchors,(0,K._)`${J.default.valCxt}.${J.default.dynamicAnchors}`)},()=>{e.var(J.default.instancePath,(0,K._)`""`),e.var(J.default.parentData,(0,K._)`undefined`),e.var(J.default.parentDataProperty,(0,K._)`undefined`),e.var(J.default.rootData,J.default.data),t.dynamicRef&&e.var(J.default.dynamicAnchors,(0,K._)`{}`)})}function Bf(e){const{schema:t,opts:r,gen:n}=e;ol(e,()=>{r.$comment&&t.$comment&&dl(e),xf(e),n.let(J.default.vErrors,null),n.let(J.default.errors,0),r.unevaluated&&Xf(e),ul(e),rh(e)})}function Xf(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,K._)`${r}.evaluated`),t.if((0,K._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,K._)`${e.evaluated}.props`,(0,K._)`undefined`)),t.if((0,K._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,K._)`${e.evaluated}.items`,(0,K._)`undefined`))}function ai(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,K._)`/*# sourceURL=${r} */`:K.nil}function Yf(e,t){if(cl(e)&&(ll(e),il(e))){Qf(e,t);return}(0,al.boolOrEmptySchema)(e,t)}function il({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function cl(e){return typeof e.schema!="boolean"}function Qf(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&dl(e),eh(e),th(e);const a=n.const("_errs",J.default.errors);ul(e,a),n.var(t,(0,K._)`${a} === ${J.default.errors}`)}function ll(e){(0,dt.checkUnknownRules)(e),Zf(e)}function ul(e,t){if(e.opts.jtd)return oi(e,[],!1,t);const r=(0,si.getSchemaTypes)(e.schema),n=(0,si.coerceAndCheckDataType)(e,r);oi(e,r,!n,t)}function Zf(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,dt.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function xf(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,dt.checkStrictMode)(e,"default is ignored in the schema root")}function eh(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Gf.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function th(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function dl({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)e.code((0,K._)`${J.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const i=(0,K.str)`${n}/$comment`,u=e.scopeValue("root",{ref:t.root});e.code((0,K._)`${J.default.self}.opts.$comment(${a}, ${i}, ${u}.schema)`)}}function rh(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,K._)`${J.default.errors} === 0`,()=>t.return(J.default.data),()=>t.throw((0,K._)`new ${s}(${J.default.vErrors})`)):(t.assign((0,K._)`${n}.errors`,J.default.vErrors),a.unevaluated&&nh(e),t.return((0,K._)`${J.default.errors} === 0`))}function nh({gen:e,evaluated:t,props:r,items:n}){r instanceof K.Name&&e.assign((0,K._)`${t}.props`,r),n instanceof K.Name&&e.assign((0,K._)`${t}.items`,n)}function oi(e,t,r,n){const{gen:s,schema:a,data:i,allErrors:u,opts:c,self:d}=e,{RULES:l}=d;if(a.$ref&&(c.ignoreKeywordsWithRef||!(0,dt.schemaHasRulesButRef)(a,l))){s.block(()=>pl(e,"$ref",l.all.$ref.definition));return}c.jtd||sh(e,t),s.block(()=>{for(const P of l.rules)p(P);p(l.post)});function p(P){(0,pa.shouldUseGroup)(a,P)&&(P.type?(s.if((0,jn.checkDataType)(P.type,i,c.strictNumbers)),ii(e,P),t.length===1&&t[0]===P.type&&r&&(s.else(),(0,jn.reportTypeError)(e)),s.endIf()):ii(e,P),u||s.if((0,K._)`${J.default.errors} === ${n||0}`))}}function ii(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,Kf.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,pa.shouldUseRule)(n,a)&&pl(e,a.keyword,a.definition,t.type)})}function sh(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(ah(e,t),e.opts.allowUnionTypes||oh(e,t),ih(e,e.dataTypes))}function ah(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{fl(e.dataTypes,r)||ma(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),lh(e,t)}}function oh(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&ma(e,"use allowUnionTypes to allow union type keyword")}function ih(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,pa.shouldUseRule)(e.schema,s)){const{type:a}=s.definition;a.length&&!a.some(i=>ch(t,i))&&ma(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function ch(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function fl(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function lh(e,t){const r=[];for(const n of e.dataTypes)fl(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function ma(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,dt.checkStrictMode)(e,t,e.opts.strictTypes)}let hl=class{constructor(t,r,n){if((0,kr.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,dt.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",ml(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,kr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",J.default.errors))}result(t,r,n){this.failResult((0,K.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,K.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,K._)`${r} !== undefined && (${(0,K.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Pr.reportExtraError:Pr.reportError)(this,this.def.error,r)}$dataError(){(0,Pr.reportError)(this,this.def.$dataError||Pr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Pr.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=K.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=K.nil,r=K.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:i}=this;n.if((0,K.or)((0,K._)`${s} === undefined`,r)),t!==K.nil&&n.assign(t,!0),(a.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==K.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,K.or)(i(),u());function i(){if(n.length){if(!(r instanceof K.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,K._)`${(0,jn.checkDataTypes)(c,r,a.opts.strictNumbers,jn.DataType.Wrong)}`}return K.nil}function u(){if(s.validateSchema){const c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,K._)`!${c}(${r})`}return K.nil}}subschema(t,r){const n=(0,ds.getSubschema)(this.it,t);(0,ds.extendSubschemaData)(n,this.it,t),(0,ds.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return Yf(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=dt.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=dt.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,K.Name)),!0}};Ye.KeywordCxt=hl;function pl(e,t,r,n){const s=new hl(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,kr.funcKeywordCode)(s,r):"macro"in r?(0,kr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,kr.funcKeywordCode)(s,r)}const uh=/^\/(?:[^~]|~0|~1)*$/,dh=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ml(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return J.default.rootData;if(e[0]==="/"){if(!uh.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=J.default.rootData}else{const d=dh.exec(e);if(!d)throw new Error(`Invalid JSON-pointer: ${e}`);const l=+d[1];if(s=d[2],s==="#"){if(l>=t)throw new Error(c("property/index",l));return n[t-l]}if(l>t)throw new Error(c("data",l));if(a=r[t-l],!s)return a}let i=a;const u=s.split("/");for(const d of u)d&&(a=(0,K._)`${a}${(0,K.getProperty)((0,dt.unescapeJsonPointer)(d))}`,i=(0,K._)`${i} && ${a}`);return i;function c(d,l){return`Cannot access ${d} ${l} levels up, current level is ${t}`}}Ye.getData=ml;var xr={},ci;function $a(){if(ci)return xr;ci=1,Object.defineProperty(xr,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return xr.default=e,xr}var en={},li;function Wn(){if(li)return en;li=1,Object.defineProperty(en,"__esModule",{value:!0});const e=be;class t extends Error{constructor(n,s,a,i){super(i||`can't resolve reference ${a} from id ${s}`),this.missingRef=(0,e.resolveUrl)(n,s,a),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return en.default=t,en}var Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.resolveSchema=Me.getCompilingSchema=Me.resolveRef=Me.compileSchema=Me.SchemaEnv=void 0;const Ge=te,fh=$a(),qt=ct,Be=be,ui=M,hh=Ye;let Jn=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Be.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Me.SchemaEnv=Jn;function ya(e){const t=$l.call(this,e);if(t)return t;const r=(0,Be.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,i=new Ge.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let u;e.$async&&(u=i.scopeValue("Error",{ref:fh.default,code:(0,Ge._)`require("ajv/dist/runtime/validation_error").default`}));const c=i.scopeName("validate");e.validateName=c;const d={gen:i,allErrors:this.opts.allErrors,data:qt.default.data,parentData:qt.default.parentData,parentDataProperty:qt.default.parentDataProperty,dataNames:[qt.default.data],dataPathArr:[Ge.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ge.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:u,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ge.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ge._)`""`,opts:this.opts,self:this};let l;try{this._compilations.add(e),(0,hh.validateFunctionCode)(d),i.optimize(this.opts.code.optimize);const p=i.toString();l=`${i.scopeRefs(qt.default.scope)}return ${p}`,this.opts.code.process&&(l=this.opts.code.process(l,e));const _=new Function(`${qt.default.self}`,`${qt.default.scope}`,l)(this,this.scope.get());if(this.scope.value(c,{ref:_}),_.errors=null,_.schema=e.schema,_.schemaEnv=e,e.$async&&(_.$async=!0),this.opts.code.source===!0&&(_.source={validateName:c,validateCode:p,scopeValues:i._values}),this.opts.unevaluated){const{props:E,items:g}=d;_.evaluated={props:E instanceof Ge.Name?void 0:E,items:g instanceof Ge.Name?void 0:g,dynamicProps:E instanceof Ge.Name,dynamicItems:g instanceof Ge.Name},_.source&&(_.source.evaluated=(0,Ge.stringify)(_.evaluated))}return e.validate=_,e}catch(p){throw delete e.validate,delete e.validateName,l&&this.logger.error("Error compiling schema, function code:",l),p}finally{this._compilations.delete(e)}}Me.compileSchema=ya;function ph(e,t,r){var n;r=(0,Be.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=yh.call(this,e,r);if(a===void 0){const i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:u}=this.opts;i&&(a=new Jn({schema:i,schemaId:u,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=mh.call(this,a)}Me.resolveRef=ph;function mh(e){return(0,Be.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:ya.call(this,e)}function $l(e){for(const t of this._compilations)if($h(t,e))return t}Me.getCompilingSchema=$l;function $h(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function yh(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Bn.call(this,e,t)}function Bn(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Be._getFullPath)(this.opts.uriResolver,r);let s=(0,Be.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return fs.call(this,r,e);const a=(0,Be.normalizeId)(n),i=this.refs[a]||this.schemas[a];if(typeof i=="string"){const u=Bn.call(this,e,i);return typeof(u==null?void 0:u.schema)!="object"?void 0:fs.call(this,r,u)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||ya.call(this,i),a===(0,Be.normalizeId)(t)){const{schema:u}=i,{schemaId:c}=this.opts,d=u[c];return d&&(s=(0,Be.resolveUrl)(this.opts.uriResolver,s,d)),new Jn({schema:u,schemaId:c,root:e,baseId:s})}return fs.call(this,r,i)}}Me.resolveSchema=Bn;const _h=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function fs(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const u of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,ui.unescapeFragment)(u)];if(c===void 0)return;r=c;const d=typeof r=="object"&&r[this.opts.schemaId];!_h.has(u)&&d&&(t=(0,Be.resolveUrl)(this.opts.uriResolver,t,d))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,ui.schemaHasRulesButRef)(r,this.RULES)){const u=(0,Be.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=Bn.call(this,n,u)}const{schemaId:i}=this.opts;if(a=a||new Jn({schema:r,schemaId:i,root:n,baseId:t}),a.schema!==a.root.schema)return a}const gh="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",vh="Meta-schema for $data reference (JSON AnySchema extension proposal)",wh="object",Eh=["$data"],Sh={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},bh=!1,Ph={$id:gh,description:vh,type:wh,required:Eh,properties:Sh,additionalProperties:bh};var _a={},Xn={exports:{}};const Nh=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),yl=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function _l(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}const Oh=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function di(e){return e.length=0,!0}function Rh(e,t,r){if(e.length){const n=_l(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function Th(e){let t=0;const r={error:!1,address:"",zone:""},n=[],s=[];let a=!1,i=!1,u=Rh;for(let c=0;c<e.length;c++){const d=e[c];if(!(d==="["||d==="]"))if(d===":"){if(a===!0&&(i=!0),!u(s,n,r))break;if(++t>7){r.error=!0;break}c>0&&e[c-1]===":"&&(a=!0),n.push(":");continue}else if(d==="%"){if(!u(s,n,r))break;u=di}else{s.push(d);continue}}return s.length&&(u===di?r.zone=s.join(""):i?n.push(s.join("")):n.push(_l(s))),r.address=n.join(""),r}function gl(e){if(Ih(e,":")<2)return{host:e,isIPV6:!1};const t=Th(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function Ih(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function jh(e){let t=e;const r=[];let n=-1,s=0;for(;s=t.length;){if(s===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(s===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(s===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function Ah(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function kh(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!yl(r)){const n=gl(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var vl={nonSimpleDomain:Oh,recomposeAuthority:kh,normalizeComponentEncoding:Ah,removeDotSegments:jh,isIPv4:yl,isUUID:Nh,normalizeIPv6:gl};const{isUUID:Ch}=vl,Dh=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function wl(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function El(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function Sl(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Mh(e){return e.secure=wl(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function Lh(e){if((e.port===(wl(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function Fh(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(Dh);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const s=`${n}:${t.nid||e.nid}`,a=ga(s);e.path=void 0,a&&(e=a.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Vh(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,a=ga(s);a&&(e=a.serialize(e,t));const i=e,u=e.nss;return i.path=`${n||t.nid}:${u}`,t.skipEscape=!0,i}function Uh(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Ch(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function zh(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const bl={scheme:"http",domainHost:!0,parse:El,serialize:Sl},qh={scheme:"https",domainHost:bl.domainHost,parse:El,serialize:Sl},En={scheme:"ws",domainHost:!0,parse:Mh,serialize:Lh},Kh={scheme:"wss",domainHost:En.domainHost,parse:En.parse,serialize:En.serialize},Gh={scheme:"urn",parse:Fh,serialize:Vh,skipNormalize:!0},Hh={scheme:"urn:uuid",parse:Uh,serialize:zh,skipNormalize:!0},An={http:bl,https:qh,ws:En,wss:Kh,urn:Gh,"urn:uuid":Hh};Object.setPrototypeOf(An,null);function ga(e){return e&&(An[e]||An[e.toLowerCase()])||void 0}var Wh={SCHEMES:An,getSchemeHandler:ga};const{normalizeIPv6:Jh,removeDotSegments:Ir,recomposeAuthority:Bh,normalizeComponentEncoding:tn,isIPv4:Xh,nonSimpleDomain:Yh}=vl,{SCHEMES:Qh,getSchemeHandler:Pl}=Wh;function Zh(e,t){return typeof e=="string"?e=ot(mt(e,t),t):typeof e=="object"&&(e=mt(ot(e,t),t)),e}function xh(e,t,r){const n=r?Object.assign({scheme:"null"},r):{scheme:"null"},s=Nl(mt(e,n),mt(t,n),n,!0);return n.skipEscape=!0,ot(s,n)}function Nl(e,t,r,n){const s={};return n||(e=mt(ot(e,r),r),t=mt(ot(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=Ir(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=Ir(t.path||""),s.query=t.query):(t.path?(t.path[0]==="/"?s.path=Ir(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=Ir(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function ep(e,t,r){return typeof e=="string"?(e=unescape(e),e=ot(tn(mt(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=ot(tn(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=ot(tn(mt(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=ot(tn(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function ot(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],a=Pl(n.scheme||r.scheme);a&&a.serialize&&a.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");const i=Bh(r);if(i!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(i),r.path&&r.path[0]!=="/"&&s.push("/")),r.path!==void 0){let u=r.path;!n.absolutePath&&(!a||!a.absolutePath)&&(u=Ir(u)),i===void 0&&u[0]==="/"&&u[1]==="/"&&(u="/%2F"+u.slice(2)),s.push(u)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}const tp=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function mt(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let s=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);const a=e.match(tp);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host)if(Xh(n.host)===!1){const c=Jh(n.host);n.host=c.host.toLowerCase(),s=c.isIPV6}else s=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const i=Pl(r.scheme||n.scheme);if(!r.unicodeSupport&&(!i||!i.unicodeSupport)&&n.host&&(r.domainHost||i&&i.domainHost)&&s===!1&&Yh(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(u){n.error=n.error||"Host's domain name can not be converted to ASCII: "+u}(!i||i&&!i.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),i&&i.parse&&i.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const va={SCHEMES:Qh,normalize:Zh,resolve:xh,resolveComponent:Nl,equal:ep,serialize:ot,parse:mt};Xn.exports=va;Xn.exports.default=va;Xn.exports.fastUri=va;var Ol=Xn.exports;Object.defineProperty(_a,"__esModule",{value:!0});const Rl=Ol;Rl.code='require("ajv/dist/runtime/uri").default';_a.default=Rl;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ye;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=te;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=$a(),s=Wn(),a=Yt,i=Me,u=te,c=be,d=_e,l=M,p=Ph,P=_a,_=(v,m)=>new RegExp(v,m);_.code="new RegExp";const E=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},w=200;function N(v){var m,S,$,o,f,b,j,A,q,F,re,Fe,Ot,Rt,Tt,It,jt,At,kt,Ct,Dt,Mt,Lt,Ft,Vt;const Ke=v.strict,Ut=(m=v.code)===null||m===void 0?void 0:m.optimize,Sr=Ut===!0||Ut===void 0?1:Ut||0,br=($=(S=v.code)===null||S===void 0?void 0:S.regExp)!==null&&$!==void 0?$:_,us=(o=v.uriResolver)!==null&&o!==void 0?o:P.default;return{strictSchema:(b=(f=v.strictSchema)!==null&&f!==void 0?f:Ke)!==null&&b!==void 0?b:!0,strictNumbers:(A=(j=v.strictNumbers)!==null&&j!==void 0?j:Ke)!==null&&A!==void 0?A:!0,strictTypes:(F=(q=v.strictTypes)!==null&&q!==void 0?q:Ke)!==null&&F!==void 0?F:"log",strictTuples:(Fe=(re=v.strictTuples)!==null&&re!==void 0?re:Ke)!==null&&Fe!==void 0?Fe:"log",strictRequired:(Rt=(Ot=v.strictRequired)!==null&&Ot!==void 0?Ot:Ke)!==null&&Rt!==void 0?Rt:!1,code:v.code?{...v.code,optimize:Sr,regExp:br}:{optimize:Sr,regExp:br},loopRequired:(Tt=v.loopRequired)!==null&&Tt!==void 0?Tt:w,loopEnum:(It=v.loopEnum)!==null&&It!==void 0?It:w,meta:(jt=v.meta)!==null&&jt!==void 0?jt:!0,messages:(At=v.messages)!==null&&At!==void 0?At:!0,inlineRefs:(kt=v.inlineRefs)!==null&&kt!==void 0?kt:!0,schemaId:(Ct=v.schemaId)!==null&&Ct!==void 0?Ct:"$id",addUsedSchema:(Dt=v.addUsedSchema)!==null&&Dt!==void 0?Dt:!0,validateSchema:(Mt=v.validateSchema)!==null&&Mt!==void 0?Mt:!0,validateFormats:(Lt=v.validateFormats)!==null&&Lt!==void 0?Lt:!0,unicodeRegExp:(Ft=v.unicodeRegExp)!==null&&Ft!==void 0?Ft:!0,int32range:(Vt=v.int32range)!==null&&Vt!==void 0?Vt:!0,uriResolver:us}}class R{constructor(m={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,m=this.opts={...m,...N(m)};const{es5:S,lines:$}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:g,es5:S,lines:$}),this.logger=Q(m.logger);const o=m.validateFormats;m.validateFormats=!1,this.RULES=(0,a.getRules)(),I.call(this,y,m,"NOT SUPPORTED"),I.call(this,h,m,"DEPRECATED","warn"),this._metaOpts=H.call(this),m.formats&&ue.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),m.keywords&&V.call(this,m.keywords),typeof m.meta=="object"&&this.addMetaSchema(m.meta),W.call(this),m.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:m,meta:S,schemaId:$}=this.opts;let o=p;$==="id"&&(o={...p},o.id=o.$id,delete o.$id),S&&m&&this.addMetaSchema(o,o[$],!1)}defaultMeta(){const{meta:m,schemaId:S}=this.opts;return this.opts.defaultMeta=typeof m=="object"?m[S]||m:void 0}validate(m,S){let $;if(typeof m=="string"){if($=this.getSchema(m),!$)throw new Error(`no schema with key or ref "${m}"`)}else $=this.compile(m);const o=$(S);return"$async"in $||(this.errors=$.errors),o}compile(m,S){const $=this._addSchema(m,S);return $.validate||this._compileSchemaEnv($)}compileAsync(m,S){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:$}=this.opts;return o.call(this,m,S);async function o(F,re){await f.call(this,F.$schema);const Fe=this._addSchema(F,re);return Fe.validate||b.call(this,Fe)}async function f(F){F&&!this.getSchema(F)&&await o.call(this,{$ref:F},!0)}async function b(F){try{return this._compileSchemaEnv(F)}catch(re){if(!(re instanceof s.default))throw re;return j.call(this,re),await A.call(this,re.missingSchema),b.call(this,F)}}function j({missingSchema:F,missingRef:re}){if(this.refs[F])throw new Error(`AnySchema ${F} is loaded but ${re} cannot be resolved`)}async function A(F){const re=await q.call(this,F);this.refs[F]||await f.call(this,re.$schema),this.refs[F]||this.addSchema(re,F,S)}async function q(F){const re=this._loading[F];if(re)return re;try{return await(this._loading[F]=$(F))}finally{delete this._loading[F]}}}addSchema(m,S,$,o=this.opts.validateSchema){if(Array.isArray(m)){for(const b of m)this.addSchema(b,void 0,$,o);return this}let f;if(typeof m=="object"){const{schemaId:b}=this.opts;if(f=m[b],f!==void 0&&typeof f!="string")throw new Error(`schema ${b} must be string`)}return S=(0,c.normalizeId)(S||f),this._checkUnique(S),this.schemas[S]=this._addSchema(m,$,S,o,!0),this}addMetaSchema(m,S,$=this.opts.validateSchema){return this.addSchema(m,S,!0,$),this}validateSchema(m,S){if(typeof m=="boolean")return!0;let $;if($=m.$schema,$!==void 0&&typeof $!="string")throw new Error("$schema must be a string");if($=$||this.opts.defaultMeta||this.defaultMeta(),!$)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const o=this.validate($,m);if(!o&&S){const f="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(f);else throw new Error(f)}return o}getSchema(m){let S;for(;typeof(S=z.call(this,m))=="string";)m=S;if(S===void 0){const{schemaId:$}=this.opts,o=new i.SchemaEnv({schema:{},schemaId:$});if(S=i.resolveSchema.call(this,o,m),!S)return;this.refs[m]=S}return S.validate||this._compileSchemaEnv(S)}removeSchema(m){if(m instanceof RegExp)return this._removeAllSchemas(this.schemas,m),this._removeAllSchemas(this.refs,m),this;switch(typeof m){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const S=z.call(this,m);return typeof S=="object"&&this._cache.delete(S.schema),delete this.schemas[m],delete this.refs[m],this}case"object":{const S=m;this._cache.delete(S);let $=m[this.opts.schemaId];return $&&($=(0,c.normalizeId)($),delete this.schemas[$],delete this.refs[$]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(m){for(const S of m)this.addKeyword(S);return this}addKeyword(m,S){let $;if(typeof m=="string")$=m,typeof S=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),S.keyword=$);else if(typeof m=="object"&&S===void 0){if(S=m,$=S.keyword,Array.isArray($)&&!$.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(C.call(this,$,S),!S)return(0,l.eachItem)($,f=>k.call(this,f)),this;D.call(this,S);const o={...S,type:(0,d.getJSONTypes)(S.type),schemaType:(0,d.getJSONTypes)(S.schemaType)};return(0,l.eachItem)($,o.type.length===0?f=>k.call(this,f,o):f=>o.type.forEach(b=>k.call(this,f,o,b))),this}getKeyword(m){const S=this.RULES.all[m];return typeof S=="object"?S.definition:!!S}removeKeyword(m){const{RULES:S}=this;delete S.keywords[m],delete S.all[m];for(const $ of S.rules){const o=$.rules.findIndex(f=>f.keyword===m);o>=0&&$.rules.splice(o,1)}return this}addFormat(m,S){return typeof S=="string"&&(S=new RegExp(S)),this.formats[m]=S,this}errorsText(m=this.errors,{separator:S=", ",dataVar:$="data"}={}){return!m||m.length===0?"No errors":m.map(o=>`${$}${o.instancePath} ${o.message}`).reduce((o,f)=>o+S+f)}$dataMetaSchema(m,S){const $=this.RULES.all;m=JSON.parse(JSON.stringify(m));for(const o of S){const f=o.split("/").slice(1);let b=m;for(const j of f)b=b[j];for(const j in $){const A=$[j];if(typeof A!="object")continue;const{$data:q}=A.definition,F=b[j];q&&F&&(b[j]=T(F))}}return m}_removeAllSchemas(m,S){for(const $ in m){const o=m[$];(!S||S.test($))&&(typeof o=="string"?delete m[$]:o&&!o.meta&&(this._cache.delete(o.schema),delete m[$]))}}_addSchema(m,S,$,o=this.opts.validateSchema,f=this.opts.addUsedSchema){let b;const{schemaId:j}=this.opts;if(typeof m=="object")b=m[j];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof m!="boolean")throw new Error("schema must be object or boolean")}let A=this._cache.get(m);if(A!==void 0)return A;$=(0,c.normalizeId)(b||$);const q=c.getSchemaRefs.call(this,m,$);return A=new i.SchemaEnv({schema:m,schemaId:j,meta:S,baseId:$,localRefs:q}),this._cache.set(A.schema,A),f&&!$.startsWith("#")&&($&&this._checkUnique($),this.refs[$]=A),o&&this.validateSchema(m,!0),A}_checkUnique(m){if(this.schemas[m]||this.refs[m])throw new Error(`schema with key or id "${m}" already exists`)}_compileSchemaEnv(m){if(m.meta?this._compileMetaSchema(m):i.compileSchema.call(this,m),!m.validate)throw new Error("ajv implementation error");return m.validate}_compileMetaSchema(m){const S=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,m)}finally{this.opts=S}}}R.ValidationError=n.default,R.MissingRefError=s.default,e.default=R;function I(v,m,S,$="error"){for(const o in v){const f=o;f in m&&this.logger[$](`${S}: option ${o}. ${v[f]}`)}}function z(v){return v=(0,c.normalizeId)(v),this.schemas[v]||this.refs[v]}function W(){const v=this.opts.schemas;if(v)if(Array.isArray(v))this.addSchema(v);else for(const m in v)this.addSchema(v[m],m)}function ue(){for(const v in this.opts.formats){const m=this.opts.formats[v];m&&this.addFormat(v,m)}}function V(v){if(Array.isArray(v)){this.addVocabulary(v);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const m in v){const S=v[m];S.keyword||(S.keyword=m),this.addKeyword(S)}}function H(){const v={...this.opts};for(const m of E)delete v[m];return v}const ne={log(){},warn(){},error(){}};function Q(v){if(v===!1)return ne;if(v===void 0)return console;if(v.log&&v.warn&&v.error)return v;throw new Error("logger must implement log, warn and error methods")}const de=/^[a-z_$][a-z0-9_$:-]*$/i;function C(v,m){const{RULES:S}=this;if((0,l.eachItem)(v,$=>{if(S.keywords[$])throw new Error(`Keyword ${$} is already defined`);if(!de.test($))throw new Error(`Keyword ${$} has invalid name`)}),!!m&&m.$data&&!("code"in m||"validate"in m))throw new Error('$data keyword must have "code" or "validate" function')}function k(v,m,S){var $;const o=m==null?void 0:m.post;if(S&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:f}=this;let b=o?f.post:f.rules.find(({type:A})=>A===S);if(b||(b={type:S,rules:[]},f.rules.push(b)),f.keywords[v]=!0,!m)return;const j={keyword:v,definition:{...m,type:(0,d.getJSONTypes)(m.type),schemaType:(0,d.getJSONTypes)(m.schemaType)}};m.before?U.call(this,b,j,m.before):b.rules.push(j),f.all[v]=j,($=m.implements)===null||$===void 0||$.forEach(A=>this.addKeyword(A))}function U(v,m,S){const $=v.rules.findIndex(o=>o.keyword===S);$>=0?v.rules.splice($,0,m):(v.rules.push(m),this.logger.warn(`rule ${S} is not defined`))}function D(v){let{metaSchema:m}=v;m!==void 0&&(v.$data&&this.opts.$data&&(m=T(m)),v.validateSchema=this.compile(m,!0))}const O={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function T(v){return{anyOf:[v,O]}}})(Vc);var wa={},Ea={},Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});const rp={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Sa.default=rp;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.callRef=Qt.getValidate=void 0;const np=Wn(),fi=x,Ce=te,tr=ct,hi=Me,rn=M,sp={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:i,opts:u,self:c}=n,{root:d}=a;if((r==="#"||r==="#/")&&s===d.baseId)return p();const l=hi.resolveRef.call(c,d,s,r);if(l===void 0)throw new np.default(n.opts.uriResolver,s,r);if(l instanceof hi.SchemaEnv)return P(l);return _(l);function p(){if(a===d)return Sn(e,i,a,a.$async);const E=t.scopeValue("root",{ref:d});return Sn(e,(0,Ce._)`${E}.validate`,d,d.$async)}function P(E){const g=Tl(e,E);Sn(e,g,E,E.$async)}function _(E){const g=t.scopeValue("schema",u.code.source===!0?{ref:E,code:(0,Ce.stringify)(E)}:{ref:E}),y=t.name("valid"),h=e.subschema({schema:E,dataTypes:[],schemaPath:Ce.nil,topSchemaRef:g,errSchemaPath:r},y);e.mergeEvaluated(h),e.ok(y)}}};function Tl(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ce._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Qt.getValidate=Tl;function Sn(e,t,r,n){const{gen:s,it:a}=e,{allErrors:i,schemaEnv:u,opts:c}=a,d=c.passContext?tr.default.this:Ce.nil;n?l():p();function l(){if(!u.$async)throw new Error("async schema referenced by sync schema");const E=s.let("valid");s.try(()=>{s.code((0,Ce._)`await ${(0,fi.callValidateCode)(e,t,d)}`),_(t),i||s.assign(E,!0)},g=>{s.if((0,Ce._)`!(${g} instanceof ${a.ValidationError})`,()=>s.throw(g)),P(g),i||s.assign(E,!1)}),e.ok(E)}function p(){e.result((0,fi.callValidateCode)(e,t,d),()=>_(t),()=>P(t))}function P(E){const g=(0,Ce._)`${E}.errors`;s.assign(tr.default.vErrors,(0,Ce._)`${tr.default.vErrors} === null ? ${g} : ${tr.default.vErrors}.concat(${g})`),s.assign(tr.default.errors,(0,Ce._)`${tr.default.vErrors}.length`)}function _(E){var g;if(!a.opts.unevaluated)return;const y=(g=r==null?void 0:r.validate)===null||g===void 0?void 0:g.evaluated;if(a.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(a.props=rn.mergeEvaluated.props(s,y.props,a.props));else{const h=s.var("props",(0,Ce._)`${E}.evaluated.props`);a.props=rn.mergeEvaluated.props(s,h,a.props,Ce.Name)}if(a.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(a.items=rn.mergeEvaluated.items(s,y.items,a.items));else{const h=s.var("items",(0,Ce._)`${E}.evaluated.items`);a.items=rn.mergeEvaluated.items(s,h,a.items,Ce.Name)}}}Qt.callRef=Sn;Qt.default=sp;Object.defineProperty(Ea,"__esModule",{value:!0});const ap=Sa,op=Qt,ip=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",ap.default,op.default];Ea.default=ip;var ba={},Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});const kn=te,yt=kn.operators,Cn={maximum:{okStr:"<=",ok:yt.LTE,fail:yt.GT},minimum:{okStr:">=",ok:yt.GTE,fail:yt.LT},exclusiveMaximum:{okStr:"<",ok:yt.LT,fail:yt.GTE},exclusiveMinimum:{okStr:">",ok:yt.GT,fail:yt.LTE}},cp={message:({keyword:e,schemaCode:t})=>(0,kn.str)`must be ${Cn[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,kn._)`{comparison: ${Cn[e].okStr}, limit: ${t}}`},lp={keyword:Object.keys(Cn),type:"number",schemaType:"number",$data:!0,error:cp,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,kn._)`${r} ${Cn[t].fail} ${n} || isNaN(${r})`)}};Pa.default=lp;var Na={};Object.defineProperty(Na,"__esModule",{value:!0});const Cr=te,up={message:({schemaCode:e})=>(0,Cr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Cr._)`{multipleOf: ${e}}`},dp={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:up,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,i=t.let("res"),u=a?(0,Cr._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${a}`:(0,Cr._)`${i} !== parseInt(${i})`;e.fail$data((0,Cr._)`(${n} === 0 || (${i} = ${r}/${n}, ${u}))`)}};Na.default=dp;var Oa={},Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});function Il(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}Ra.default=Il;Il.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Oa,"__esModule",{value:!0});const Ht=te,fp=M,hp=Ra,pp={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Ht.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Ht._)`{limit: ${e}}`},mp={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:pp,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?Ht.operators.GT:Ht.operators.LT,i=s.opts.unicode===!1?(0,Ht._)`${r}.length`:(0,Ht._)`${(0,fp.useFunc)(e.gen,hp.default)}(${r})`;e.fail$data((0,Ht._)`${i} ${a} ${n}`)}};Oa.default=mp;var Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});const $p=x,Dn=te,yp={message:({schemaCode:e})=>(0,Dn.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Dn._)`{pattern: ${e}}`},_p={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:yp,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,i=a.opts.unicodeRegExp?"u":"",u=r?(0,Dn._)`(new RegExp(${s}, ${i}))`:(0,$p.usePattern)(e,n);e.fail$data((0,Dn._)`!${u}.test(${t})`)}};Ta.default=_p;var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});const Dr=te,gp={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Dr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Dr._)`{limit: ${e}}`},vp={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:gp,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?Dr.operators.GT:Dr.operators.LT;e.fail$data((0,Dr._)`Object.keys(${r}).length ${s} ${n}`)}};Ia.default=vp;var ja={};Object.defineProperty(ja,"__esModule",{value:!0});const Nr=x,Mr=te,wp=M,Ep={message:({params:{missingProperty:e}})=>(0,Mr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Mr._)`{missingProperty: ${e}}`},Sp={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Ep,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:i}=e,{opts:u}=i;if(!a&&r.length===0)return;const c=r.length>=u.loopRequired;if(i.allErrors?d():l(),u.strictRequired){const _=e.parentSchema.properties,{definedProperties:E}=e.it;for(const g of r)if((_==null?void 0:_[g])===void 0&&!E.has(g)){const y=i.schemaEnv.baseId+i.errSchemaPath,h=`required property "${g}" is not defined at "${y}" (strictRequired)`;(0,wp.checkStrictMode)(i,h,i.opts.strictRequired)}}function d(){if(c||a)e.block$data(Mr.nil,p);else for(const _ of r)(0,Nr.checkReportMissingProp)(e,_)}function l(){const _=t.let("missing");if(c||a){const E=t.let("valid",!0);e.block$data(E,()=>P(_,E)),e.ok(E)}else t.if((0,Nr.checkMissingProp)(e,r,_)),(0,Nr.reportMissingProp)(e,_),t.else()}function p(){t.forOf("prop",n,_=>{e.setParams({missingProperty:_}),t.if((0,Nr.noPropertyInData)(t,s,_,u.ownProperties),()=>e.error())})}function P(_,E){e.setParams({missingProperty:_}),t.forOf(_,n,()=>{t.assign(E,(0,Nr.propertyInData)(t,s,_,u.ownProperties)),t.if((0,Mr.not)(E),()=>{e.error(),t.break()})},Mr.nil)}}};ja.default=Sp;var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});const Lr=te,bp={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Lr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Lr._)`{limit: ${e}}`},Pp={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:bp,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?Lr.operators.GT:Lr.operators.LT;e.fail$data((0,Lr._)`${r}.length ${s} ${n}`)}};Aa.default=Pp;var ka={},Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});const jl=Hn;jl.code='require("ajv/dist/runtime/equal").default';Wr.default=jl;Object.defineProperty(ka,"__esModule",{value:!0});const hs=_e,we=te,Np=M,Op=Wr,Rp={message:({params:{i:e,j:t}})=>(0,we.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,we._)`{i: ${e}, j: ${t}}`},Tp={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Rp,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:i,it:u}=e;if(!n&&!s)return;const c=t.let("valid"),d=a.items?(0,hs.getSchemaTypes)(a.items):[];e.block$data(c,l,(0,we._)`${i} === false`),e.ok(c);function l(){const E=t.let("i",(0,we._)`${r}.length`),g=t.let("j");e.setParams({i:E,j:g}),t.assign(c,!0),t.if((0,we._)`${E} > 1`,()=>(p()?P:_)(E,g))}function p(){return d.length>0&&!d.some(E=>E==="object"||E==="array")}function P(E,g){const y=t.name("item"),h=(0,hs.checkDataTypes)(d,y,u.opts.strictNumbers,hs.DataType.Wrong),w=t.const("indices",(0,we._)`{}`);t.for((0,we._)`;${E}--;`,()=>{t.let(y,(0,we._)`${r}[${E}]`),t.if(h,(0,we._)`continue`),d.length>1&&t.if((0,we._)`typeof ${y} == "string"`,(0,we._)`${y} += "_"`),t.if((0,we._)`typeof ${w}[${y}] == "number"`,()=>{t.assign(g,(0,we._)`${w}[${y}]`),e.error(),t.assign(c,!1).break()}).code((0,we._)`${w}[${y}] = ${E}`)})}function _(E,g){const y=(0,Np.useFunc)(t,Op.default),h=t.name("outer");t.label(h).for((0,we._)`;${E}--;`,()=>t.for((0,we._)`${g} = ${E}; ${g}--;`,()=>t.if((0,we._)`${y}(${r}[${E}], ${r}[${g}])`,()=>{e.error(),t.assign(c,!1).break(h)})))}}};ka.default=Tp;var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});const ks=te,Ip=M,jp=Wr,Ap={message:"must be equal to constant",params:({schemaCode:e})=>(0,ks._)`{allowedValue: ${e}}`},kp={keyword:"const",$data:!0,error:Ap,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,ks._)`!${(0,Ip.useFunc)(t,jp.default)}(${r}, ${s})`):e.fail((0,ks._)`${a} !== ${r}`)}};Ca.default=kp;var Da={};Object.defineProperty(Da,"__esModule",{value:!0});const jr=te,Cp=M,Dp=Wr,Mp={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,jr._)`{allowedValues: ${e}}`},Lp={keyword:"enum",schemaType:"array",$data:!0,error:Mp,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:i}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const u=s.length>=i.opts.loopEnum;let c;const d=()=>c??(c=(0,Cp.useFunc)(t,Dp.default));let l;if(u||n)l=t.let("valid"),e.block$data(l,p);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const _=t.const("vSchema",a);l=(0,jr.or)(...s.map((E,g)=>P(_,g)))}e.pass(l);function p(){t.assign(l,!1),t.forOf("v",a,_=>t.if((0,jr._)`${d()}(${r}, ${_})`,()=>t.assign(l,!0).break()))}function P(_,E){const g=s[E];return typeof g=="object"&&g!==null?(0,jr._)`${d()}(${r}, ${_}[${E}])`:(0,jr._)`${r} === ${g}`}}};Da.default=Lp;Object.defineProperty(ba,"__esModule",{value:!0});const Fp=Pa,Vp=Na,Up=Oa,zp=Ta,qp=Ia,Kp=ja,Gp=Aa,Hp=ka,Wp=Ca,Jp=Da,Bp=[Fp.default,Vp.default,Up.default,zp.default,qp.default,Kp.default,Gp.default,Hp.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Wp.default,Jp.default];ba.default=Bp;var Ma={},yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.validateAdditionalItems=void 0;const Wt=te,Cs=M,Xp={message:({params:{len:e}})=>(0,Wt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Wt._)`{limit: ${e}}`},Yp={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Xp,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Cs.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Al(e,n)}};function Al(e,t){const{gen:r,schema:n,data:s,keyword:a,it:i}=e;i.items=!0;const u=r.const("len",(0,Wt._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Wt._)`${u} <= ${t.length}`);else if(typeof n=="object"&&!(0,Cs.alwaysValidSchema)(i,n)){const d=r.var("valid",(0,Wt._)`${u} <= ${t.length}`);r.if((0,Wt.not)(d),()=>c(d)),e.ok(d)}function c(d){r.forRange("i",t.length,u,l=>{e.subschema({keyword:a,dataProp:l,dataPropType:Cs.Type.Num},d),i.allErrors||r.if((0,Wt.not)(d),()=>r.break())})}}yr.validateAdditionalItems=Al;yr.default=Yp;var La={},_r={};Object.defineProperty(_r,"__esModule",{value:!0});_r.validateTuple=void 0;const pi=te,bn=M,Qp=x,Zp={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return kl(e,"additionalItems",t);r.items=!0,!(0,bn.alwaysValidSchema)(r,t)&&e.ok((0,Qp.validateArray)(e))}};function kl(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:i,it:u}=e;l(s),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=bn.mergeEvaluated.items(n,r.length,u.items));const c=n.name("valid"),d=n.const("len",(0,pi._)`${a}.length`);r.forEach((p,P)=>{(0,bn.alwaysValidSchema)(u,p)||(n.if((0,pi._)`${d} > ${P}`,()=>e.subschema({keyword:i,schemaProp:P,dataProp:P},c)),e.ok(c))});function l(p){const{opts:P,errSchemaPath:_}=u,E=r.length,g=E===p.minItems&&(E===p.maxItems||p[t]===!1);if(P.strictTuples&&!g){const y=`"${i}" is ${E}-tuple, but minItems or maxItems/${t} are not specified or different at path "${_}"`;(0,bn.checkStrictMode)(u,y,P.strictTuples)}}}_r.validateTuple=kl;_r.default=Zp;Object.defineProperty(La,"__esModule",{value:!0});const xp=_r,em={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,xp.validateTuple)(e,"items")};La.default=em;var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});const mi=te,tm=M,rm=x,nm=yr,sm={message:({params:{len:e}})=>(0,mi.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,mi._)`{limit: ${e}}`},am={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:sm,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,tm.alwaysValidSchema)(n,t)&&(s?(0,nm.validateAdditionalItems)(e,s):e.ok((0,rm.validateArray)(e)))}};Fa.default=am;var Va={};Object.defineProperty(Va,"__esModule",{value:!0});const ze=te,nn=M,om={message:({params:{min:e,max:t}})=>t===void 0?(0,ze.str)`must contain at least ${e} valid item(s)`:(0,ze.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ze._)`{minContains: ${e}}`:(0,ze._)`{minContains: ${e}, maxContains: ${t}}`},im={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:om,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let i,u;const{minContains:c,maxContains:d}=n;a.opts.next?(i=c===void 0?1:c,u=d):i=1;const l=t.const("len",(0,ze._)`${s}.length`);if(e.setParams({min:i,max:u}),u===void 0&&i===0){(0,nn.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&i>u){(0,nn.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,nn.alwaysValidSchema)(a,r)){let g=(0,ze._)`${l} >= ${i}`;u!==void 0&&(g=(0,ze._)`${g} && ${l} <= ${u}`),e.pass(g);return}a.items=!0;const p=t.name("valid");u===void 0&&i===1?_(p,()=>t.if(p,()=>t.break())):i===0?(t.let(p,!0),u!==void 0&&t.if((0,ze._)`${s}.length > 0`,P)):(t.let(p,!1),P()),e.result(p,()=>e.reset());function P(){const g=t.name("_valid"),y=t.let("count",0);_(g,()=>t.if(g,()=>E(y)))}function _(g,y){t.forRange("i",0,l,h=>{e.subschema({keyword:"contains",dataProp:h,dataPropType:nn.Type.Num,compositeRule:!0},g),y()})}function E(g){t.code((0,ze._)`${g}++`),u===void 0?t.if((0,ze._)`${g} >= ${i}`,()=>t.assign(p,!0).break()):(t.if((0,ze._)`${g} > ${u}`,()=>t.assign(p,!1).break()),i===1?t.assign(p,!0):t.if((0,ze._)`${g} >= ${i}`,()=>t.assign(p,!0)))}}};Va.default=im;var Cl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=te,r=M,n=x;e.error={message:({params:{property:c,depsCount:d,deps:l}})=>{const p=d===1?"property":"properties";return(0,t.str)`must have ${p} ${l} when property ${c} is present`},params:({params:{property:c,depsCount:d,deps:l,missingProperty:p}})=>(0,t._)`{property: ${c},
    missingProperty: ${p},
    depsCount: ${d},
    deps: ${l}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[d,l]=a(c);i(c,d),u(c,l)}};function a({schema:c}){const d={},l={};for(const p in c){if(p==="__proto__")continue;const P=Array.isArray(c[p])?d:l;P[p]=c[p]}return[d,l]}function i(c,d=c.schema){const{gen:l,data:p,it:P}=c;if(Object.keys(d).length===0)return;const _=l.let("missing");for(const E in d){const g=d[E];if(g.length===0)continue;const y=(0,n.propertyInData)(l,p,E,P.opts.ownProperties);c.setParams({property:E,depsCount:g.length,deps:g.join(", ")}),P.allErrors?l.if(y,()=>{for(const h of g)(0,n.checkReportMissingProp)(c,h)}):(l.if((0,t._)`${y} && (${(0,n.checkMissingProp)(c,g,_)})`),(0,n.reportMissingProp)(c,_),l.else())}}e.validatePropertyDeps=i;function u(c,d=c.schema){const{gen:l,data:p,keyword:P,it:_}=c,E=l.name("valid");for(const g in d)(0,r.alwaysValidSchema)(_,d[g])||(l.if((0,n.propertyInData)(l,p,g,_.opts.ownProperties),()=>{const y=c.subschema({keyword:P,schemaProp:g},E);c.mergeValidEvaluated(y,E)},()=>l.var(E,!0)),c.ok(E))}e.validateSchemaDeps=u,e.default=s})(Cl);var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});const Dl=te,cm=M,lm={message:"property name must be valid",params:({params:e})=>(0,Dl._)`{propertyName: ${e.propertyName}}`},um={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:lm,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,cm.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},a),t.if((0,Dl.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};Ua.default=um;var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});const sn=x,We=te,dm=ct,an=M,fm={message:"must NOT have additional properties",params:({params:e})=>(0,We._)`{additionalProperty: ${e.additionalProperty}}`},hm={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:fm,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:i}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:u,opts:c}=i;if(i.props=!0,c.removeAdditional!=="all"&&(0,an.alwaysValidSchema)(i,r))return;const d=(0,sn.allSchemaProperties)(n.properties),l=(0,sn.allSchemaProperties)(n.patternProperties);p(),e.ok((0,We._)`${a} === ${dm.default.errors}`);function p(){t.forIn("key",s,y=>{!d.length&&!l.length?E(y):t.if(P(y),()=>E(y))})}function P(y){let h;if(d.length>8){const w=(0,an.schemaRefOrVal)(i,n.properties,"properties");h=(0,sn.isOwnProperty)(t,w,y)}else d.length?h=(0,We.or)(...d.map(w=>(0,We._)`${y} === ${w}`)):h=We.nil;return l.length&&(h=(0,We.or)(h,...l.map(w=>(0,We._)`${(0,sn.usePattern)(e,w)}.test(${y})`))),(0,We.not)(h)}function _(y){t.code((0,We._)`delete ${s}[${y}]`)}function E(y){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){_(y);return}if(r===!1){e.setParams({additionalProperty:y}),e.error(),u||t.break();return}if(typeof r=="object"&&!(0,an.alwaysValidSchema)(i,r)){const h=t.name("valid");c.removeAdditional==="failing"?(g(y,h,!1),t.if((0,We.not)(h),()=>{e.reset(),_(y)})):(g(y,h),u||t.if((0,We.not)(h),()=>t.break()))}}function g(y,h,w){const N={keyword:"additionalProperties",dataProp:y,dataPropType:an.Type.Str};w===!1&&Object.assign(N,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(N,h)}}};Yn.default=hm;var za={};Object.defineProperty(za,"__esModule",{value:!0});const pm=Ye,$i=x,ps=M,yi=Yn,mm={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&yi.default.code(new pm.KeywordCxt(a,yi.default,"additionalProperties"));const i=(0,$i.allSchemaProperties)(r);for(const p of i)a.definedProperties.add(p);a.opts.unevaluated&&i.length&&a.props!==!0&&(a.props=ps.mergeEvaluated.props(t,(0,ps.toHash)(i),a.props));const u=i.filter(p=>!(0,ps.alwaysValidSchema)(a,r[p]));if(u.length===0)return;const c=t.name("valid");for(const p of u)d(p)?l(p):(t.if((0,$i.propertyInData)(t,s,p,a.opts.ownProperties)),l(p),a.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(p),e.ok(c);function d(p){return a.opts.useDefaults&&!a.compositeRule&&r[p].default!==void 0}function l(p){e.subschema({keyword:"properties",schemaProp:p,dataProp:p},c)}}};za.default=mm;var qa={};Object.defineProperty(qa,"__esModule",{value:!0});const _i=x,on=te,gi=M,vi=M,$m={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:i}=a,u=(0,_i.allSchemaProperties)(r),c=u.filter(g=>(0,gi.alwaysValidSchema)(a,r[g]));if(u.length===0||c.length===u.length&&(!a.opts.unevaluated||a.props===!0))return;const d=i.strictSchema&&!i.allowMatchingProperties&&s.properties,l=t.name("valid");a.props!==!0&&!(a.props instanceof on.Name)&&(a.props=(0,vi.evaluatedPropsToName)(t,a.props));const{props:p}=a;P();function P(){for(const g of u)d&&_(g),a.allErrors?E(g):(t.var(l,!0),E(g),t.if(l))}function _(g){for(const y in d)new RegExp(g).test(y)&&(0,gi.checkStrictMode)(a,`property ${y} matches pattern ${g} (use allowMatchingProperties)`)}function E(g){t.forIn("key",n,y=>{t.if((0,on._)`${(0,_i.usePattern)(e,g)}.test(${y})`,()=>{const h=c.includes(g);h||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:y,dataPropType:vi.Type.Str},l),a.opts.unevaluated&&p!==!0?t.assign((0,on._)`${p}[${y}]`,!0):!h&&!a.allErrors&&t.if((0,on.not)(l),()=>t.break())})})}}};qa.default=$m;var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});const ym=M,_m={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,ym.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Ka.default=_m;var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});const gm=x,vm={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:gm.validateUnion,error:{message:"must match a schema in anyOf"}};Ga.default=vm;var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});const Pn=te,wm=M,Em={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Pn._)`{passingSchemas: ${e.passing}}`},Sm={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Em,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,i=t.let("valid",!1),u=t.let("passing",null),c=t.name("_valid");e.setParams({passing:u}),t.block(d),e.result(i,()=>e.reset(),()=>e.error(!0));function d(){a.forEach((l,p)=>{let P;(0,wm.alwaysValidSchema)(s,l)?t.var(c,!0):P=e.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},c),p>0&&t.if((0,Pn._)`${c} && ${i}`).assign(i,!1).assign(u,(0,Pn._)`[${u}, ${p}]`).else(),t.if(c,()=>{t.assign(i,!0),t.assign(u,p),P&&e.mergeEvaluated(P,Pn.Name)})})}}};Ha.default=Sm;var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});const bm=M,Pm={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,i)=>{if((0,bm.alwaysValidSchema)(n,a))return;const u=e.subschema({keyword:"allOf",schemaProp:i},s);e.ok(s),e.mergeEvaluated(u)})}};Wa.default=Pm;var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});const Mn=te,Ml=M,Nm={message:({params:e})=>(0,Mn.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Mn._)`{failingKeyword: ${e.ifClause}}`},Om={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Nm,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Ml.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=wi(n,"then"),a=wi(n,"else");if(!s&&!a)return;const i=t.let("valid",!0),u=t.name("_valid");if(c(),e.reset(),s&&a){const l=t.let("ifClause");e.setParams({ifClause:l}),t.if(u,d("then",l),d("else",l))}else s?t.if(u,d("then")):t.if((0,Mn.not)(u),d("else"));e.pass(i,()=>e.error(!0));function c(){const l=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(l)}function d(l,p){return()=>{const P=e.subschema({keyword:l},u);t.assign(i,u),e.mergeValidEvaluated(P,i),p?t.assign(p,(0,Mn._)`${l}`):e.setParams({ifClause:l})}}}};function wi(e,t){const r=e.schema[t];return r!==void 0&&!(0,Ml.alwaysValidSchema)(e,r)}Ja.default=Om;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});const Rm=M,Tm={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Rm.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Ba.default=Tm;Object.defineProperty(Ma,"__esModule",{value:!0});const Im=yr,jm=La,Am=_r,km=Fa,Cm=Va,Dm=Cl,Mm=Ua,Lm=Yn,Fm=za,Vm=qa,Um=Ka,zm=Ga,qm=Ha,Km=Wa,Gm=Ja,Hm=Ba;function Wm(e=!1){const t=[Um.default,zm.default,qm.default,Km.default,Gm.default,Hm.default,Mm.default,Lm.default,Dm.default,Fm.default,Vm.default];return e?t.push(jm.default,km.default):t.push(Im.default,Am.default),t.push(Cm.default),t}Ma.default=Wm;var Xa={},Ya={};Object.defineProperty(Ya,"__esModule",{value:!0});const me=te,Jm={message:({schemaCode:e})=>(0,me.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,me._)`{format: ${e}}`},Bm={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Jm,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:i,it:u}=e,{opts:c,errSchemaPath:d,schemaEnv:l,self:p}=u;if(!c.validateFormats)return;s?P():_();function P(){const E=r.scopeValue("formats",{ref:p.formats,code:c.code.formats}),g=r.const("fDef",(0,me._)`${E}[${i}]`),y=r.let("fType"),h=r.let("format");r.if((0,me._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>r.assign(y,(0,me._)`${g}.type || "string"`).assign(h,(0,me._)`${g}.validate`),()=>r.assign(y,(0,me._)`"string"`).assign(h,g)),e.fail$data((0,me.or)(w(),N()));function w(){return c.strictSchema===!1?me.nil:(0,me._)`${i} && !${h}`}function N(){const R=l.$async?(0,me._)`(${g}.async ? await ${h}(${n}) : ${h}(${n}))`:(0,me._)`${h}(${n})`,I=(0,me._)`(typeof ${h} == "function" ? ${R} : ${h}.test(${n}))`;return(0,me._)`${h} && ${h} !== true && ${y} === ${t} && !${I}`}}function _(){const E=p.formats[a];if(!E){w();return}if(E===!0)return;const[g,y,h]=N(E);g===t&&e.pass(R());function w(){if(c.strictSchema===!1){p.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${a}" ignored in schema at path "${d}"`}}function N(I){const z=I instanceof RegExp?(0,me.regexpCode)(I):c.code.formats?(0,me._)`${c.code.formats}${(0,me.getProperty)(a)}`:void 0,W=r.scopeValue("formats",{key:a,ref:I,code:z});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,me._)`${W}.validate`]:["string",I,W]}function R(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!l.$async)throw new Error("async format in sync schema");return(0,me._)`await ${h}(${n})`}return typeof y=="function"?(0,me._)`${h}(${n})`:(0,me._)`${h}.test(${n})`}}}};Ya.default=Bm;Object.defineProperty(Xa,"__esModule",{value:!0});const Xm=Ya,Ym=[Xm.default];Xa.default=Ym;var pr={};Object.defineProperty(pr,"__esModule",{value:!0});pr.contentVocabulary=pr.metadataVocabulary=void 0;pr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];pr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(wa,"__esModule",{value:!0});const Qm=Ea,Zm=ba,xm=Ma,e$=Xa,Ei=pr,t$=[Qm.default,Zm.default,(0,xm.default)(),e$.default,Ei.metadataVocabulary,Ei.contentVocabulary];wa.default=t$;var Qa={},Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.DiscrError=void 0;var Si;(function(e){e.Tag="tag",e.Mapping="mapping"})(Si||(Qn.DiscrError=Si={}));Object.defineProperty(Qa,"__esModule",{value:!0});const sr=te,Ds=Qn,bi=Me,r$=Wn(),n$=M,s$={message:({params:{discrError:e,tagName:t}})=>e===Ds.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,sr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},a$={keyword:"discriminator",type:"object",schemaType:"object",error:s$,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:i}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),d=t.const("tag",(0,sr._)`${r}${(0,sr.getProperty)(u)}`);t.if((0,sr._)`typeof ${d} == "string"`,()=>l(),()=>e.error(!1,{discrError:Ds.DiscrError.Tag,tag:d,tagName:u})),e.ok(c);function l(){const _=P();t.if(!1);for(const E in _)t.elseIf((0,sr._)`${d} === ${E}`),t.assign(c,p(_[E]));t.else(),e.error(!1,{discrError:Ds.DiscrError.Mapping,tag:d,tagName:u}),t.endIf()}function p(_){const E=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:_},E);return e.mergeEvaluated(g,sr.Name),E}function P(){var _;const E={},g=h(s);let y=!0;for(let R=0;R<i.length;R++){let I=i[R];if(I!=null&&I.$ref&&!(0,n$.schemaHasRulesButRef)(I,a.self.RULES)){const W=I.$ref;if(I=bi.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,W),I instanceof bi.SchemaEnv&&(I=I.schema),I===void 0)throw new r$.default(a.opts.uriResolver,a.baseId,W)}const z=(_=I==null?void 0:I.properties)===null||_===void 0?void 0:_[u];if(typeof z!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);y=y&&(g||h(I)),w(z,R)}if(!y)throw new Error(`discriminator: "${u}" must be required`);return E;function h({required:R}){return Array.isArray(R)&&R.includes(u)}function w(R,I){if(R.const)N(R.const,I);else if(R.enum)for(const z of R.enum)N(z,I);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function N(R,I){if(typeof R!="string"||R in E)throw new Error(`discriminator: "${u}" values must be unique strings`);E[R]=I}}}};Qa.default=a$;const o$="http://json-schema.org/draft-07/schema#",i$="http://json-schema.org/draft-07/schema#",c$="Core schema meta-schema",l$={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},u$=["object","boolean"],d$={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},f$={$schema:o$,$id:i$,title:c$,definitions:l$,type:u$,properties:d$,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=Vc,n=wa,s=Qa,a=f$,i=["/properties"],u="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(E=>this.addVocabulary(E)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const E=this.opts.$data?this.$dataMetaSchema(a,i):a;this.addMetaSchema(E,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var d=Ye;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var l=te;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var p=$a();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return p.default}});var P=Wn();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return P.default}})})(Rs,Rs.exports);var h$=Rs.exports,Ms={exports:{}},Ll={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(V,H){return{validate:V,compare:H}}e.fullFormats={date:t(a,i),time:t(c,d),"date-time":t(p,P),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:g,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:ue,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:h,int32:{type:"number",validate:R},int64:{type:"number",validate:I},float:{type:"number",validate:z},double:{type:"number",validate:z},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,i),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,d),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,P),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(V){return V%4===0&&(V%100!==0||V%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(V){const H=n.exec(V);if(!H)return!1;const ne=+H[1],Q=+H[2],de=+H[3];return Q>=1&&Q<=12&&de>=1&&de<=(Q===2&&r(ne)?29:s[Q])}function i(V,H){if(V&&H)return V>H?1:V<H?-1:0}const u=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(V,H){const ne=u.exec(V);if(!ne)return!1;const Q=+ne[1],de=+ne[2],C=+ne[3],k=ne[5];return(Q<=23&&de<=59&&C<=59||Q===23&&de===59&&C===60)&&(!H||k!=="")}function d(V,H){if(!(V&&H))return;const ne=u.exec(V),Q=u.exec(H);if(ne&&Q)return V=ne[1]+ne[2]+ne[3]+(ne[4]||""),H=Q[1]+Q[2]+Q[3]+(Q[4]||""),V>H?1:V<H?-1:0}const l=/t|\s/i;function p(V){const H=V.split(l);return H.length===2&&a(H[0])&&c(H[1],!0)}function P(V,H){if(!(V&&H))return;const[ne,Q]=V.split(l),[de,C]=H.split(l),k=i(ne,de);if(k!==void 0)return k||d(Q,C)}const _=/\/|:/,E=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function g(V){return _.test(V)&&E.test(V)}const y=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function h(V){return y.lastIndex=0,y.test(V)}const w=-2147483648,N=2**31-1;function R(V){return Number.isInteger(V)&&V<=N&&V>=w}function I(V){return Number.isInteger(V)}function z(){return!0}const W=/[^\\]\\Z/;function ue(V){if(W.test(V))return!1;try{return new RegExp(V),!0}catch{return!1}}})(Ll);var Fl={},Ls={exports:{}},Vl={},Qe={},mr={},Jr={},Z={},Gr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(w){if(super(),!e.IDENTIFIER.test(w))throw new Error("CodeGen: name must be a valid identifier");this.str=w}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(w){super(),this._items=typeof w=="string"?[w]:w}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const w=this._items[0];return w===""||w==='""'}get str(){var w;return(w=this._str)!==null&&w!==void 0?w:this._str=this._items.reduce((N,R)=>`${N}${R}`,"")}get names(){var w;return(w=this._names)!==null&&w!==void 0?w:this._names=this._items.reduce((N,R)=>(R instanceof r&&(N[R.str]=(N[R.str]||0)+1),N),{})}}e._Code=n,e.nil=new n("");function s(h,...w){const N=[h[0]];let R=0;for(;R<w.length;)u(N,w[R]),N.push(h[++R]);return new n(N)}e._=s;const a=new n("+");function i(h,...w){const N=[_(h[0])];let R=0;for(;R<w.length;)N.push(a),u(N,w[R]),N.push(a,_(h[++R]));return c(N),new n(N)}e.str=i;function u(h,w){w instanceof n?h.push(...w._items):w instanceof r?h.push(w):h.push(p(w))}e.addCodeArg=u;function c(h){let w=1;for(;w<h.length-1;){if(h[w]===a){const N=d(h[w-1],h[w+1]);if(N!==void 0){h.splice(w-1,3,N);continue}h[w++]="+"}w++}}function d(h,w){if(w==='""')return h;if(h==='""')return w;if(typeof h=="string")return w instanceof r||h[h.length-1]!=='"'?void 0:typeof w!="string"?`${h.slice(0,-1)}${w}"`:w[0]==='"'?h.slice(0,-1)+w.slice(1):void 0;if(typeof w=="string"&&w[0]==='"'&&!(h instanceof r))return`"${h}${w.slice(1)}`}function l(h,w){return w.emptyStr()?h:h.emptyStr()?w:i`${h}${w}`}e.strConcat=l;function p(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:_(Array.isArray(h)?h.join(","):h)}function P(h){return new n(_(h))}e.stringify=P;function _(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=_;function E(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):s`[${h}]`}e.getProperty=E;function g(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=g;function y(h){return new n(h.toString())}e.regexpCode=y})(Gr);var Fs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Gr;class r extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:d,parent:l}={}){this._names={},this._prefixes=d,this._parent=l}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const l=this._names[d]||this._nameGroup(d);return`${d}${l.index++}`}_nameGroup(d){var l,p;if(!((p=(l=this._parent)===null||l===void 0?void 0:l._prefixes)===null||p===void 0)&&p.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=s;class a extends t.Name{constructor(d,l){super(l),this.prefix=d}setValue(d,{property:l,itemIndex:p}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(l)}[${p}]`}}e.ValueScopeName=a;const i=(0,t._)`\n`;class u extends s{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?i:t.nil}}get(){return this._scope}name(d){return new a(d,this._newName(d))}value(d,l){var p;if(l.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const P=this.toName(d),{prefix:_}=P,E=(p=l.key)!==null&&p!==void 0?p:l.ref;let g=this._values[_];if(g){const w=g.get(E);if(w)return w}else g=this._values[_]=new Map;g.set(E,P);const y=this._scope[_]||(this._scope[_]=[]),h=y.length;return y[h]=l.ref,P.setValue(l,{property:_,itemIndex:h}),P}getValue(d,l){const p=this._values[d];if(p)return p.get(l)}scopeRefs(d,l=this._values){return this._reduceValues(l,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,t._)`${d}${p.scopePath}`})}scopeCode(d=this._values,l,p){return this._reduceValues(d,P=>{if(P.value===void 0)throw new Error(`CodeGen: name "${P}" has no value`);return P.value.code},l,p)}_reduceValues(d,l,p={},P){let _=t.nil;for(const E in d){const g=d[E];if(!g)continue;const y=p[E]=p[E]||new Map;g.forEach(h=>{if(y.has(h))return;y.set(h,n.Started);let w=l(h);if(w){const N=this.opts.es5?e.varKinds.var:e.varKinds.const;_=(0,t._)`${_}${N} ${h} = ${w};${this.opts._n}`}else if(w=P==null?void 0:P(h))_=(0,t._)`${_}${w}${this.opts._n}`;else throw new r(h);y.set(h,n.Completed)})}return _}}e.ValueScope=u})(Fs);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Gr,r=Fs;var n=Gr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Fs;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(o,f){return this}}class i extends a{constructor(o,f,b){super(),this.varKind=o,this.name=f,this.rhs=b}render({es5:o,_n:f}){const b=o?r.varKinds.var:this.varKind,j=this.rhs===void 0?"":` = ${this.rhs}`;return`${b} ${this.name}${j};`+f}optimizeNames(o,f){if(o[this.name.str])return this.rhs&&(this.rhs=C(this.rhs,o,f)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(o,f,b){super(),this.lhs=o,this.rhs=f,this.sideEffects=b}render({_n:o}){return`${this.lhs} = ${this.rhs};`+o}optimizeNames(o,f){if(!(this.lhs instanceof t.Name&&!o[this.lhs.str]&&!this.sideEffects))return this.rhs=C(this.rhs,o,f),this}get names(){const o=this.lhs instanceof t.Name?{}:{...this.lhs.names};return de(o,this.rhs)}}class c extends u{constructor(o,f,b,j){super(o,b,j),this.op=f}render({_n:o}){return`${this.lhs} ${this.op}= ${this.rhs};`+o}}class d extends a{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`${this.label}:`+o}}class l extends a{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`break${this.label?` ${this.label}`:""};`+o}}class p extends a{constructor(o){super(),this.error=o}render({_n:o}){return`throw ${this.error};`+o}get names(){return this.error.names}}class P extends a{constructor(o){super(),this.code=o}render({_n:o}){return`${this.code};`+o}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(o,f){return this.code=C(this.code,o,f),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class _ extends a{constructor(o=[]){super(),this.nodes=o}render(o){return this.nodes.reduce((f,b)=>f+b.render(o),"")}optimizeNodes(){const{nodes:o}=this;let f=o.length;for(;f--;){const b=o[f].optimizeNodes();Array.isArray(b)?o.splice(f,1,...b):b?o[f]=b:o.splice(f,1)}return o.length>0?this:void 0}optimizeNames(o,f){const{nodes:b}=this;let j=b.length;for(;j--;){const A=b[j];A.optimizeNames(o,f)||(k(o,A.names),b.splice(j,1))}return b.length>0?this:void 0}get names(){return this.nodes.reduce((o,f)=>Q(o,f.names),{})}}class E extends _{render(o){return"{"+o._n+super.render(o)+"}"+o._n}}class g extends _{}class y extends E{}y.kind="else";class h extends E{constructor(o,f){super(f),this.condition=o}render(o){let f=`if(${this.condition})`+super.render(o);return this.else&&(f+="else "+this.else.render(o)),f}optimizeNodes(){super.optimizeNodes();const o=this.condition;if(o===!0)return this.nodes;let f=this.else;if(f){const b=f.optimizeNodes();f=this.else=Array.isArray(b)?new y(b):b}if(f)return o===!1?f instanceof h?f:f.nodes:this.nodes.length?this:new h(U(o),f instanceof h?[f]:f.nodes);if(!(o===!1||!this.nodes.length))return this}optimizeNames(o,f){var b;if(this.else=(b=this.else)===null||b===void 0?void 0:b.optimizeNames(o,f),!!(super.optimizeNames(o,f)||this.else))return this.condition=C(this.condition,o,f),this}get names(){const o=super.names;return de(o,this.condition),this.else&&Q(o,this.else.names),o}}h.kind="if";class w extends E{}w.kind="for";class N extends w{constructor(o){super(),this.iteration=o}render(o){return`for(${this.iteration})`+super.render(o)}optimizeNames(o,f){if(super.optimizeNames(o,f))return this.iteration=C(this.iteration,o,f),this}get names(){return Q(super.names,this.iteration.names)}}class R extends w{constructor(o,f,b,j){super(),this.varKind=o,this.name=f,this.from=b,this.to=j}render(o){const f=o.es5?r.varKinds.var:this.varKind,{name:b,from:j,to:A}=this;return`for(${f} ${b}=${j}; ${b}<${A}; ${b}++)`+super.render(o)}get names(){const o=de(super.names,this.from);return de(o,this.to)}}class I extends w{constructor(o,f,b,j){super(),this.loop=o,this.varKind=f,this.name=b,this.iterable=j}render(o){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(o)}optimizeNames(o,f){if(super.optimizeNames(o,f))return this.iterable=C(this.iterable,o,f),this}get names(){return Q(super.names,this.iterable.names)}}class z extends E{constructor(o,f,b){super(),this.name=o,this.args=f,this.async=b}render(o){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(o)}}z.kind="func";class W extends _{render(o){return"return "+super.render(o)}}W.kind="return";class ue extends E{render(o){let f="try"+super.render(o);return this.catch&&(f+=this.catch.render(o)),this.finally&&(f+=this.finally.render(o)),f}optimizeNodes(){var o,f;return super.optimizeNodes(),(o=this.catch)===null||o===void 0||o.optimizeNodes(),(f=this.finally)===null||f===void 0||f.optimizeNodes(),this}optimizeNames(o,f){var b,j;return super.optimizeNames(o,f),(b=this.catch)===null||b===void 0||b.optimizeNames(o,f),(j=this.finally)===null||j===void 0||j.optimizeNames(o,f),this}get names(){const o=super.names;return this.catch&&Q(o,this.catch.names),this.finally&&Q(o,this.finally.names),o}}class V extends E{constructor(o){super(),this.error=o}render(o){return`catch(${this.error})`+super.render(o)}}V.kind="catch";class H extends E{render(o){return"finally"+super.render(o)}}H.kind="finally";class ne{constructor(o,f={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...f,_n:f.lines?`
`:""},this._extScope=o,this._scope=new r.Scope({parent:o}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(o){return this._scope.name(o)}scopeName(o){return this._extScope.name(o)}scopeValue(o,f){const b=this._extScope.value(o,f);return(this._values[b.prefix]||(this._values[b.prefix]=new Set)).add(b),b}getScopeValue(o,f){return this._extScope.getValue(o,f)}scopeRefs(o){return this._extScope.scopeRefs(o,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(o,f,b,j){const A=this._scope.toName(f);return b!==void 0&&j&&(this._constants[A.str]=b),this._leafNode(new i(o,A,b)),A}const(o,f,b){return this._def(r.varKinds.const,o,f,b)}let(o,f,b){return this._def(r.varKinds.let,o,f,b)}var(o,f,b){return this._def(r.varKinds.var,o,f,b)}assign(o,f,b){return this._leafNode(new u(o,f,b))}add(o,f){return this._leafNode(new c(o,e.operators.ADD,f))}code(o){return typeof o=="function"?o():o!==t.nil&&this._leafNode(new P(o)),this}object(...o){const f=["{"];for(const[b,j]of o)f.length>1&&f.push(","),f.push(b),(b!==j||this.opts.es5)&&(f.push(":"),(0,t.addCodeArg)(f,j));return f.push("}"),new t._Code(f)}if(o,f,b){if(this._blockNode(new h(o)),f&&b)this.code(f).else().code(b).endIf();else if(f)this.code(f).endIf();else if(b)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(o){return this._elseNode(new h(o))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(h,y)}_for(o,f){return this._blockNode(o),f&&this.code(f).endFor(),this}for(o,f){return this._for(new N(o),f)}forRange(o,f,b,j,A=this.opts.es5?r.varKinds.var:r.varKinds.let){const q=this._scope.toName(o);return this._for(new R(A,q,f,b),()=>j(q))}forOf(o,f,b,j=r.varKinds.const){const A=this._scope.toName(o);if(this.opts.es5){const q=f instanceof t.Name?f:this.var("_arr",f);return this.forRange("_i",0,(0,t._)`${q}.length`,F=>{this.var(A,(0,t._)`${q}[${F}]`),b(A)})}return this._for(new I("of",j,A,f),()=>b(A))}forIn(o,f,b,j=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(o,(0,t._)`Object.keys(${f})`,b);const A=this._scope.toName(o);return this._for(new I("in",j,A,f),()=>b(A))}endFor(){return this._endBlockNode(w)}label(o){return this._leafNode(new d(o))}break(o){return this._leafNode(new l(o))}return(o){const f=new W;if(this._blockNode(f),this.code(o),f.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(W)}try(o,f,b){if(!f&&!b)throw new Error('CodeGen: "try" without "catch" and "finally"');const j=new ue;if(this._blockNode(j),this.code(o),f){const A=this.name("e");this._currNode=j.catch=new V(A),f(A)}return b&&(this._currNode=j.finally=new H,this.code(b)),this._endBlockNode(V,H)}throw(o){return this._leafNode(new p(o))}block(o,f){return this._blockStarts.push(this._nodes.length),o&&this.code(o).endBlock(f),this}endBlock(o){const f=this._blockStarts.pop();if(f===void 0)throw new Error("CodeGen: not in self-balancing block");const b=this._nodes.length-f;if(b<0||o!==void 0&&b!==o)throw new Error(`CodeGen: wrong number of nodes: ${b} vs ${o} expected`);return this._nodes.length=f,this}func(o,f=t.nil,b,j){return this._blockNode(new z(o,f,b)),j&&this.code(j).endFunc(),this}endFunc(){return this._endBlockNode(z)}optimize(o=1){for(;o-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(o){return this._currNode.nodes.push(o),this}_blockNode(o){this._currNode.nodes.push(o),this._nodes.push(o)}_endBlockNode(o,f){const b=this._currNode;if(b instanceof o||f&&b instanceof f)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${f?`${o.kind}/${f.kind}`:o.kind}"`)}_elseNode(o){const f=this._currNode;if(!(f instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=f.else=o,this}get _root(){return this._nodes[0]}get _currNode(){const o=this._nodes;return o[o.length-1]}set _currNode(o){const f=this._nodes;f[f.length-1]=o}}e.CodeGen=ne;function Q($,o){for(const f in o)$[f]=($[f]||0)+(o[f]||0);return $}function de($,o){return o instanceof t._CodeOrName?Q($,o.names):$}function C($,o,f){if($ instanceof t.Name)return b($);if(!j($))return $;return new t._Code($._items.reduce((A,q)=>(q instanceof t.Name&&(q=b(q)),q instanceof t._Code?A.push(...q._items):A.push(q),A),[]));function b(A){const q=f[A.str];return q===void 0||o[A.str]!==1?A:(delete o[A.str],q)}function j(A){return A instanceof t._Code&&A._items.some(q=>q instanceof t.Name&&o[q.str]===1&&f[q.str]!==void 0)}}function k($,o){for(const f in o)$[f]=($[f]||0)-(o[f]||0)}function U($){return typeof $=="boolean"||typeof $=="number"||$===null?!$:(0,t._)`!${S($)}`}e.not=U;const D=m(e.operators.AND);function O(...$){return $.reduce(D)}e.and=O;const T=m(e.operators.OR);function v(...$){return $.reduce(T)}e.or=v;function m($){return(o,f)=>o===t.nil?f:f===t.nil?o:(0,t._)`${S(o)} ${$} ${S(f)}`}function S($){return $ instanceof t.Name?$:(0,t._)`(${$})`}})(Z);var L={};Object.defineProperty(L,"__esModule",{value:!0});L.checkStrictMode=L.getErrorPath=L.Type=L.useFunc=L.setEvaluated=L.evaluatedPropsToName=L.mergeEvaluated=L.eachItem=L.unescapeJsonPointer=L.escapeJsonPointer=L.escapeFragment=L.unescapeFragment=L.schemaRefOrVal=L.schemaHasRulesButRef=L.schemaHasRules=L.checkUnknownRules=L.alwaysValidSchema=L.toHash=void 0;const ce=Z,p$=Gr;function m$(e){const t={};for(const r of e)t[r]=!0;return t}L.toHash=m$;function $$(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Ul(e,t),!zl(t,e.self.RULES.all))}L.alwaysValidSchema=$$;function Ul(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const s=n.RULES.keywords;for(const a in t)s[a]||Gl(e,`unknown keyword: "${a}"`)}L.checkUnknownRules=Ul;function zl(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}L.schemaHasRules=zl;function y$(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}L.schemaHasRulesButRef=y$;function _$({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ce._)`${r}`}return(0,ce._)`${e}${t}${(0,ce.getProperty)(n)}`}L.schemaRefOrVal=_$;function g$(e){return ql(decodeURIComponent(e))}L.unescapeFragment=g$;function v$(e){return encodeURIComponent(Za(e))}L.escapeFragment=v$;function Za(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}L.escapeJsonPointer=Za;function ql(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}L.unescapeJsonPointer=ql;function w$(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}L.eachItem=w$;function Pi({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,a,i,u)=>{const c=i===void 0?a:i instanceof ce.Name?(a instanceof ce.Name?e(s,a,i):t(s,a,i),i):a instanceof ce.Name?(t(s,i,a),a):r(a,i);return u===ce.Name&&!(c instanceof ce.Name)?n(s,c):c}}L.mergeEvaluated={props:Pi({mergeNames:(e,t,r)=>e.if((0,ce._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ce._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ce._)`${r} || {}`).code((0,ce._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ce._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ce._)`${r} || {}`),xa(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:Kl}),items:Pi({mergeNames:(e,t,r)=>e.if((0,ce._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ce._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ce._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ce._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function Kl(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,ce._)`{}`);return t!==void 0&&xa(e,r,t),r}L.evaluatedPropsToName=Kl;function xa(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ce._)`${t}${(0,ce.getProperty)(n)}`,!0))}L.setEvaluated=xa;const Ni={};function E$(e,t){return e.scopeValue("func",{ref:t,code:Ni[t.code]||(Ni[t.code]=new p$._Code(t.code))})}L.useFunc=E$;var Vs;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Vs||(L.Type=Vs={}));function S$(e,t,r){if(e instanceof ce.Name){const n=t===Vs.Num;return r?n?(0,ce._)`"[" + ${e} + "]"`:(0,ce._)`"['" + ${e} + "']"`:n?(0,ce._)`"/" + ${e}`:(0,ce._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ce.getProperty)(e).toString():"/"+Za(e)}L.getErrorPath=S$;function Gl(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}L.checkStrictMode=Gl;var lt={};Object.defineProperty(lt,"__esModule",{value:!0});const Oe=Z,b$={data:new Oe.Name("data"),valCxt:new Oe.Name("valCxt"),instancePath:new Oe.Name("instancePath"),parentData:new Oe.Name("parentData"),parentDataProperty:new Oe.Name("parentDataProperty"),rootData:new Oe.Name("rootData"),dynamicAnchors:new Oe.Name("dynamicAnchors"),vErrors:new Oe.Name("vErrors"),errors:new Oe.Name("errors"),this:new Oe.Name("this"),self:new Oe.Name("self"),scope:new Oe.Name("scope"),json:new Oe.Name("json"),jsonPos:new Oe.Name("jsonPos"),jsonLen:new Oe.Name("jsonLen"),jsonPart:new Oe.Name("jsonPart")};lt.default=b$;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Z,r=L,n=lt;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:h})=>h?(0,t.str)`"${y}" keyword must be ${h} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function s(y,h=e.keywordError,w,N){const{it:R}=y,{gen:I,compositeRule:z,allErrors:W}=R,ue=p(y,h,w);N??(z||W)?c(I,ue):d(R,(0,t._)`[${ue}]`)}e.reportError=s;function a(y,h=e.keywordError,w){const{it:N}=y,{gen:R,compositeRule:I,allErrors:z}=N,W=p(y,h,w);c(R,W),I||z||d(N,n.default.vErrors)}e.reportExtraError=a;function i(y,h){y.assign(n.default.errors,h),y.if((0,t._)`${n.default.vErrors} !== null`,()=>y.if(h,()=>y.assign((0,t._)`${n.default.vErrors}.length`,h),()=>y.assign(n.default.vErrors,null)))}e.resetErrorsCount=i;function u({gen:y,keyword:h,schemaValue:w,data:N,errsCount:R,it:I}){if(R===void 0)throw new Error("ajv implementation error");const z=y.name("err");y.forRange("i",R,n.default.errors,W=>{y.const(z,(0,t._)`${n.default.vErrors}[${W}]`),y.if((0,t._)`${z}.instancePath === undefined`,()=>y.assign((0,t._)`${z}.instancePath`,(0,t.strConcat)(n.default.instancePath,I.errorPath))),y.assign((0,t._)`${z}.schemaPath`,(0,t.str)`${I.errSchemaPath}/${h}`),I.opts.verbose&&(y.assign((0,t._)`${z}.schema`,w),y.assign((0,t._)`${z}.data`,N))})}e.extendErrors=u;function c(y,h){const w=y.const("err",h);y.if((0,t._)`${n.default.vErrors} === null`,()=>y.assign(n.default.vErrors,(0,t._)`[${w}]`),(0,t._)`${n.default.vErrors}.push(${w})`),y.code((0,t._)`${n.default.errors}++`)}function d(y,h){const{gen:w,validateName:N,schemaEnv:R}=y;R.$async?w.throw((0,t._)`new ${y.ValidationError}(${h})`):(w.assign((0,t._)`${N}.errors`,h),w.return(!1))}const l={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function p(y,h,w){const{createErrors:N}=y.it;return N===!1?(0,t._)`{}`:P(y,h,w)}function P(y,h,w={}){const{gen:N,it:R}=y,I=[_(R,w),E(y,w)];return g(y,h,I),N.object(...I)}function _({errorPath:y},{instancePath:h}){const w=h?(0,t.str)`${y}${(0,r.getErrorPath)(h,r.Type.Str)}`:y;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,w)]}function E({keyword:y,it:{errSchemaPath:h}},{schemaPath:w,parentSchema:N}){let R=N?h:(0,t.str)`${h}/${y}`;return w&&(R=(0,t.str)`${R}${(0,r.getErrorPath)(w,r.Type.Str)}`),[l.schemaPath,R]}function g(y,{params:h,message:w},N){const{keyword:R,data:I,schemaValue:z,it:W}=y,{opts:ue,propertyName:V,topSchemaRef:H,schemaPath:ne}=W;N.push([l.keyword,R],[l.params,typeof h=="function"?h(y):h||(0,t._)`{}`]),ue.messages&&N.push([l.message,typeof w=="function"?w(y):w]),ue.verbose&&N.push([l.schema,z],[l.parentSchema,(0,t._)`${H}${ne}`],[n.default.data,I]),V&&N.push([l.propertyName,V])}})(Jr);Object.defineProperty(mr,"__esModule",{value:!0});mr.boolOrEmptySchema=mr.topBoolOrEmptySchema=void 0;const P$=Jr,N$=Z,O$=lt,R$={message:"boolean schema is false"};function T$(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Hl(e,!1):typeof r=="object"&&r.$async===!0?t.return(O$.default.data):(t.assign((0,N$._)`${n}.errors`,null),t.return(!0))}mr.topBoolOrEmptySchema=T$;function I$(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Hl(e)):r.var(t,!0)}mr.boolOrEmptySchema=I$;function Hl(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,P$.reportError)(s,R$,void 0,t)}var ge={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.getRules=Zt.isJSONType=void 0;const j$=["string","number","integer","boolean","null","object","array"],A$=new Set(j$);function k$(e){return typeof e=="string"&&A$.has(e)}Zt.isJSONType=k$;function C$(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Zt.getRules=C$;var ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.shouldUseRule=ft.shouldUseGroup=ft.schemaHasRulesForType=void 0;function D$({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Wl(e,n)}ft.schemaHasRulesForType=D$;function Wl(e,t){return t.rules.some(r=>Jl(e,r))}ft.shouldUseGroup=Wl;function Jl(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}ft.shouldUseRule=Jl;Object.defineProperty(ge,"__esModule",{value:!0});ge.reportTypeError=ge.checkDataTypes=ge.checkDataType=ge.coerceAndCheckDataType=ge.getJSONTypes=ge.getSchemaTypes=ge.DataType=void 0;const M$=Zt,L$=ft,F$=Jr,Y=Z,Bl=L;var lr;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(lr||(ge.DataType=lr={}));function V$(e){const t=Xl(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}ge.getSchemaTypes=V$;function Xl(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(M$.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}ge.getJSONTypes=Xl;function U$(e,t){const{gen:r,data:n,opts:s}=e,a=z$(t,s.coerceTypes),i=t.length>0&&!(a.length===0&&t.length===1&&(0,L$.schemaHasRulesForType)(e,t[0]));if(i){const u=eo(t,n,s.strictNumbers,lr.Wrong);r.if(u,()=>{a.length?q$(e,t,a):to(e)})}return i}ge.coerceAndCheckDataType=U$;const Yl=new Set(["string","number","integer","boolean","null"]);function z$(e,t){return t?e.filter(r=>Yl.has(r)||t==="array"&&r==="array"):[]}function q$(e,t,r){const{gen:n,data:s,opts:a}=e,i=n.let("dataType",(0,Y._)`typeof ${s}`),u=n.let("coerced",(0,Y._)`undefined`);a.coerceTypes==="array"&&n.if((0,Y._)`${i} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,Y._)`${s}[0]`).assign(i,(0,Y._)`typeof ${s}`).if(eo(t,s,a.strictNumbers),()=>n.assign(u,s))),n.if((0,Y._)`${u} !== undefined`);for(const d of r)(Yl.has(d)||d==="array"&&a.coerceTypes==="array")&&c(d);n.else(),to(e),n.endIf(),n.if((0,Y._)`${u} !== undefined`,()=>{n.assign(s,u),K$(e,u)});function c(d){switch(d){case"string":n.elseIf((0,Y._)`${i} == "number" || ${i} == "boolean"`).assign(u,(0,Y._)`"" + ${s}`).elseIf((0,Y._)`${s} === null`).assign(u,(0,Y._)`""`);return;case"number":n.elseIf((0,Y._)`${i} == "boolean" || ${s} === null
              || (${i} == "string" && ${s} && ${s} == +${s})`).assign(u,(0,Y._)`+${s}`);return;case"integer":n.elseIf((0,Y._)`${i} === "boolean" || ${s} === null
              || (${i} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(u,(0,Y._)`+${s}`);return;case"boolean":n.elseIf((0,Y._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(u,!1).elseIf((0,Y._)`${s} === "true" || ${s} === 1`).assign(u,!0);return;case"null":n.elseIf((0,Y._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(u,null);return;case"array":n.elseIf((0,Y._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${s} === null`).assign(u,(0,Y._)`[${s}]`)}}}function K$({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,Y._)`${t} !== undefined`,()=>e.assign((0,Y._)`${t}[${r}]`,n))}function Us(e,t,r,n=lr.Correct){const s=n===lr.Correct?Y.operators.EQ:Y.operators.NEQ;let a;switch(e){case"null":return(0,Y._)`${t} ${s} null`;case"array":a=(0,Y._)`Array.isArray(${t})`;break;case"object":a=(0,Y._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=i((0,Y._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=i();break;default:return(0,Y._)`typeof ${t} ${s} ${e}`}return n===lr.Correct?a:(0,Y.not)(a);function i(u=Y.nil){return(0,Y.and)((0,Y._)`typeof ${t} == "number"`,u,r?(0,Y._)`isFinite(${t})`:Y.nil)}}ge.checkDataType=Us;function eo(e,t,r,n){if(e.length===1)return Us(e[0],t,r,n);let s;const a=(0,Bl.toHash)(e);if(a.array&&a.object){const i=(0,Y._)`typeof ${t} != "object"`;s=a.null?i:(0,Y._)`!${t} || ${i}`,delete a.null,delete a.array,delete a.object}else s=Y.nil;a.number&&delete a.integer;for(const i in a)s=(0,Y.and)(s,Us(i,t,r,n));return s}ge.checkDataTypes=eo;const G$={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,Y._)`{type: ${e}}`:(0,Y._)`{type: ${t}}`};function to(e){const t=H$(e);(0,F$.reportError)(t,G$)}ge.reportTypeError=to;function H$(e){const{gen:t,data:r,schema:n}=e,s=(0,Bl.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.assignDefaults=void 0;const rr=Z,W$=L;function J$(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)Oi(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>Oi(e,a,s.default))}Zn.assignDefaults=J$;function Oi(e,t,r){const{gen:n,compositeRule:s,data:a,opts:i}=e;if(r===void 0)return;const u=(0,rr._)`${a}${(0,rr.getProperty)(t)}`;if(s){(0,W$.checkStrictMode)(e,`default is ignored for: ${u}`);return}let c=(0,rr._)`${u} === undefined`;i.useDefaults==="empty"&&(c=(0,rr._)`${c} || ${u} === null || ${u} === ""`),n.if(c,(0,rr._)`${u} = ${(0,rr.stringify)(r)}`)}var it={},ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.validateUnion=ee.validateArray=ee.usePattern=ee.callValidateCode=ee.schemaProperties=ee.allSchemaProperties=ee.noPropertyInData=ee.propertyInData=ee.isOwnProperty=ee.hasPropFunc=ee.reportMissingProp=ee.checkMissingProp=ee.checkReportMissingProp=void 0;const he=Z,ro=L,_t=lt,B$=L;function X$(e,t){const{gen:r,data:n,it:s}=e;r.if(so(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,he._)`${t}`},!0),e.error()})}ee.checkReportMissingProp=X$;function Y$({gen:e,data:t,it:{opts:r}},n,s){return(0,he.or)(...n.map(a=>(0,he.and)(so(e,t,a,r.ownProperties),(0,he._)`${s} = ${a}`)))}ee.checkMissingProp=Y$;function Q$(e,t){e.setParams({missingProperty:t},!0),e.error()}ee.reportMissingProp=Q$;function Ql(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,he._)`Object.prototype.hasOwnProperty`})}ee.hasPropFunc=Ql;function no(e,t,r){return(0,he._)`${Ql(e)}.call(${t}, ${r})`}ee.isOwnProperty=no;function Z$(e,t,r,n){const s=(0,he._)`${t}${(0,he.getProperty)(r)} !== undefined`;return n?(0,he._)`${s} && ${no(e,t,r)}`:s}ee.propertyInData=Z$;function so(e,t,r,n){const s=(0,he._)`${t}${(0,he.getProperty)(r)} === undefined`;return n?(0,he.or)(s,(0,he.not)(no(e,t,r))):s}ee.noPropertyInData=so;function Zl(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ee.allSchemaProperties=Zl;function x$(e,t){return Zl(t).filter(r=>!(0,ro.alwaysValidSchema)(e,t[r]))}ee.schemaProperties=x$;function ey({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:i},u,c,d){const l=d?(0,he._)`${e}, ${t}, ${n}${s}`:t,p=[[_t.default.instancePath,(0,he.strConcat)(_t.default.instancePath,a)],[_t.default.parentData,i.parentData],[_t.default.parentDataProperty,i.parentDataProperty],[_t.default.rootData,_t.default.rootData]];i.opts.dynamicRef&&p.push([_t.default.dynamicAnchors,_t.default.dynamicAnchors]);const P=(0,he._)`${l}, ${r.object(...p)}`;return c!==he.nil?(0,he._)`${u}.call(${c}, ${P})`:(0,he._)`${u}(${P})`}ee.callValidateCode=ey;const ty=(0,he._)`new RegExp`;function ry({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,he._)`${s.code==="new RegExp"?ty:(0,B$.useFunc)(e,s)}(${r}, ${n})`})}ee.usePattern=ry;function ny(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const u=t.let("valid",!0);return i(()=>t.assign(u,!1)),u}return t.var(a,!0),i(()=>t.break()),a;function i(u){const c=t.const("len",(0,he._)`${r}.length`);t.forRange("i",0,c,d=>{e.subschema({keyword:n,dataProp:d,dataPropType:ro.Type.Num},a),t.if((0,he.not)(a),u)})}}ee.validateArray=ny;function sy(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,ro.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const i=t.let("valid",!1),u=t.name("_valid");t.block(()=>r.forEach((c,d)=>{const l=e.subschema({keyword:n,schemaProp:d,compositeRule:!0},u);t.assign(i,(0,he._)`${i} || ${u}`),e.mergeValidEvaluated(l,u)||t.if((0,he.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}ee.validateUnion=sy;Object.defineProperty(it,"__esModule",{value:!0});it.validateKeywordUsage=it.validSchemaType=it.funcKeywordCode=it.macroKeywordCode=void 0;const je=Z,Jt=lt,ay=ee,oy=Jr;function iy(e,t){const{gen:r,keyword:n,schema:s,parentSchema:a,it:i}=e,u=t.macro.call(i.self,s,a,i),c=xl(r,n,u);i.opts.validateSchema!==!1&&i.self.validateSchema(u,!0);const d=r.name("valid");e.subschema({schema:u,schemaPath:je.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},d),e.pass(d,()=>e.error(!0))}it.macroKeywordCode=iy;function cy(e,t){var r;const{gen:n,keyword:s,schema:a,parentSchema:i,$data:u,it:c}=e;uy(c,t);const d=!u&&t.compile?t.compile.call(c.self,a,i,c):t.validate,l=xl(n,s,d),p=n.let("valid");e.block$data(p,P),e.ok((r=t.valid)!==null&&r!==void 0?r:p);function P(){if(t.errors===!1)g(),t.modifying&&Ri(e),y(()=>e.error());else{const h=t.async?_():E();t.modifying&&Ri(e),y(()=>ly(e,h))}}function _(){const h=n.let("ruleErrs",null);return n.try(()=>g((0,je._)`await `),w=>n.assign(p,!1).if((0,je._)`${w} instanceof ${c.ValidationError}`,()=>n.assign(h,(0,je._)`${w}.errors`),()=>n.throw(w))),h}function E(){const h=(0,je._)`${l}.errors`;return n.assign(h,null),g(je.nil),h}function g(h=t.async?(0,je._)`await `:je.nil){const w=c.opts.passContext?Jt.default.this:Jt.default.self,N=!("compile"in t&&!u||t.schema===!1);n.assign(p,(0,je._)`${h}${(0,ay.callValidateCode)(e,l,w,N)}`,t.modifying)}function y(h){var w;n.if((0,je.not)((w=t.valid)!==null&&w!==void 0?w:p),h)}}it.funcKeywordCode=cy;function Ri(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,je._)`${n.parentData}[${n.parentDataProperty}]`))}function ly(e,t){const{gen:r}=e;r.if((0,je._)`Array.isArray(${t})`,()=>{r.assign(Jt.default.vErrors,(0,je._)`${Jt.default.vErrors} === null ? ${t} : ${Jt.default.vErrors}.concat(${t})`).assign(Jt.default.errors,(0,je._)`${Jt.default.vErrors}.length`),(0,oy.extendErrors)(e)},()=>e.error())}function uy({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function xl(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,je.stringify)(r)})}function dy(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}it.validSchemaType=dy;function fy({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const i=s.dependencies;if(i!=null&&i.some(u=>!Object.prototype.hasOwnProperty.call(e,u)))throw new Error(`parent schema must have dependencies of ${a}: ${i.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const c=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}it.validateKeywordUsage=fy;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.extendSubschemaMode=Nt.extendSubschemaData=Nt.getSubschema=void 0;const nt=Z,eu=L;function hy(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:i}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const u=e.schema[t];return r===void 0?{schema:u,schemaPath:(0,nt._)`${e.schemaPath}${(0,nt.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:u[r],schemaPath:(0,nt._)`${e.schemaPath}${(0,nt.getProperty)(t)}${(0,nt.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,eu.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:i,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}Nt.getSubschema=hy;function py(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:i}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(r!==void 0){const{errorPath:d,dataPathArr:l,opts:p}=t,P=u.let("data",(0,nt._)`${t.data}${(0,nt.getProperty)(r)}`,!0);c(P),e.errorPath=(0,nt.str)`${d}${(0,eu.getErrorPath)(r,n,p.jsPropertySyntax)}`,e.parentDataProperty=(0,nt._)`${r}`,e.dataPathArr=[...l,e.parentDataProperty]}if(s!==void 0){const d=s instanceof nt.Name?s:u.let("data",s,!0);c(d),i!==void 0&&(e.propertyName=i)}a&&(e.dataTypes=a);function c(d){e.data=d,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,d]}}Nt.extendSubschemaData=py;function my(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}Nt.extendSubschemaMode=my;var Pe={},tu={exports:{}},bt=tu.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Nn(t,n,s,e,"",e)};bt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};bt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};bt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};bt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Nn(e,t,r,n,s,a,i,u,c,d){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,i,u,c,d);for(var l in n){var p=n[l];if(Array.isArray(p)){if(l in bt.arrayKeywords)for(var P=0;P<p.length;P++)Nn(e,t,r,p[P],s+"/"+l+"/"+P,a,s,l,n,P)}else if(l in bt.propsKeywords){if(p&&typeof p=="object")for(var _ in p)Nn(e,t,r,p[_],s+"/"+l+"/"+$y(_),a,s,l,n,_)}else(l in bt.keywords||e.allKeys&&!(l in bt.skipKeywords))&&Nn(e,t,r,p,s+"/"+l,a,s,l,n)}r(n,s,a,i,u,c,d)}}function $y(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var yy=tu.exports;Object.defineProperty(Pe,"__esModule",{value:!0});Pe.getSchemaRefs=Pe.resolveUrl=Pe.normalizeId=Pe._getFullPath=Pe.getFullPath=Pe.inlineRef=void 0;const _y=L,gy=Hn,vy=yy,wy=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Ey(e,t=!0){return typeof e=="boolean"?!0:t===!0?!zs(e):t?ru(e)<=t:!1}Pe.inlineRef=Ey;const Sy=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function zs(e){for(const t in e){if(Sy.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(zs)||typeof r=="object"&&zs(r))return!0}return!1}function ru(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!wy.has(r)&&(typeof e[r]=="object"&&(0,_y.eachItem)(e[r],n=>t+=ru(n)),t===1/0))return 1/0}return t}function nu(e,t="",r){r!==!1&&(t=ur(t));const n=e.parse(t);return su(e,n)}Pe.getFullPath=nu;function su(e,t){return e.serialize(t).split("#")[0]+"#"}Pe._getFullPath=su;const by=/#\/?$/;function ur(e){return e?e.replace(by,""):""}Pe.normalizeId=ur;function Py(e,t,r){return r=ur(r),e.resolve(t,r)}Pe.resolveUrl=Py;const Ny=/^[a-z_][-a-z0-9._]*$/i;function Oy(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=ur(e[r]||t),a={"":s},i=nu(n,s,!1),u={},c=new Set;return vy(e,{allKeys:!0},(p,P,_,E)=>{if(E===void 0)return;const g=i+P;let y=a[E];typeof p[r]=="string"&&(y=h.call(this,p[r])),w.call(this,p.$anchor),w.call(this,p.$dynamicAnchor),a[P]=y;function h(N){const R=this.opts.uriResolver.resolve;if(N=ur(y?R(y,N):N),c.has(N))throw l(N);c.add(N);let I=this.refs[N];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?d(p,I.schema,N):N!==ur(g)&&(N[0]==="#"?(d(p,u[N],N),u[N]=p):this.refs[N]=g),N}function w(N){if(typeof N=="string"){if(!Ny.test(N))throw new Error(`invalid anchor "${N}"`);h.call(this,`#${N}`)}}}),u;function d(p,P,_){if(P!==void 0&&!gy(p,P))throw l(_)}function l(p){return new Error(`reference "${p}" resolves to more than one schema`)}}Pe.getSchemaRefs=Oy;Object.defineProperty(Qe,"__esModule",{value:!0});Qe.getData=Qe.KeywordCxt=Qe.validateFunctionCode=void 0;const au=mr,Ti=ge,ao=ft,Ln=ge,Ry=Zn,Fr=it,ms=Nt,G=Z,B=lt,Ty=Pe,ht=L,Or=Jr;function Iy(e){if(cu(e)&&(lu(e),iu(e))){ky(e);return}ou(e,()=>(0,au.topBoolOrEmptySchema)(e))}Qe.validateFunctionCode=Iy;function ou({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,G._)`${B.default.data}, ${B.default.valCxt}`,n.$async,()=>{e.code((0,G._)`"use strict"; ${Ii(r,s)}`),Ay(e,s),e.code(a)}):e.func(t,(0,G._)`${B.default.data}, ${jy(s)}`,n.$async,()=>e.code(Ii(r,s)).code(a))}function jy(e){return(0,G._)`{${B.default.instancePath}="", ${B.default.parentData}, ${B.default.parentDataProperty}, ${B.default.rootData}=${B.default.data}${e.dynamicRef?(0,G._)`, ${B.default.dynamicAnchors}={}`:G.nil}}={}`}function Ay(e,t){e.if(B.default.valCxt,()=>{e.var(B.default.instancePath,(0,G._)`${B.default.valCxt}.${B.default.instancePath}`),e.var(B.default.parentData,(0,G._)`${B.default.valCxt}.${B.default.parentData}`),e.var(B.default.parentDataProperty,(0,G._)`${B.default.valCxt}.${B.default.parentDataProperty}`),e.var(B.default.rootData,(0,G._)`${B.default.valCxt}.${B.default.rootData}`),t.dynamicRef&&e.var(B.default.dynamicAnchors,(0,G._)`${B.default.valCxt}.${B.default.dynamicAnchors}`)},()=>{e.var(B.default.instancePath,(0,G._)`""`),e.var(B.default.parentData,(0,G._)`undefined`),e.var(B.default.parentDataProperty,(0,G._)`undefined`),e.var(B.default.rootData,B.default.data),t.dynamicRef&&e.var(B.default.dynamicAnchors,(0,G._)`{}`)})}function ky(e){const{schema:t,opts:r,gen:n}=e;ou(e,()=>{r.$comment&&t.$comment&&du(e),Fy(e),n.let(B.default.vErrors,null),n.let(B.default.errors,0),r.unevaluated&&Cy(e),uu(e),zy(e)})}function Cy(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,G._)`${r}.evaluated`),t.if((0,G._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,G._)`${e.evaluated}.props`,(0,G._)`undefined`)),t.if((0,G._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,G._)`${e.evaluated}.items`,(0,G._)`undefined`))}function Ii(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,G._)`/*# sourceURL=${r} */`:G.nil}function Dy(e,t){if(cu(e)&&(lu(e),iu(e))){My(e,t);return}(0,au.boolOrEmptySchema)(e,t)}function iu({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function cu(e){return typeof e.schema!="boolean"}function My(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&du(e),Vy(e),Uy(e);const a=n.const("_errs",B.default.errors);uu(e,a),n.var(t,(0,G._)`${a} === ${B.default.errors}`)}function lu(e){(0,ht.checkUnknownRules)(e),Ly(e)}function uu(e,t){if(e.opts.jtd)return ji(e,[],!1,t);const r=(0,Ti.getSchemaTypes)(e.schema),n=(0,Ti.coerceAndCheckDataType)(e,r);ji(e,r,!n,t)}function Ly(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,ht.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Fy(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,ht.checkStrictMode)(e,"default is ignored in the schema root")}function Vy(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Ty.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Uy(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function du({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)e.code((0,G._)`${B.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const i=(0,G.str)`${n}/$comment`,u=e.scopeValue("root",{ref:t.root});e.code((0,G._)`${B.default.self}.opts.$comment(${a}, ${i}, ${u}.schema)`)}}function zy(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,G._)`${B.default.errors} === 0`,()=>t.return(B.default.data),()=>t.throw((0,G._)`new ${s}(${B.default.vErrors})`)):(t.assign((0,G._)`${n}.errors`,B.default.vErrors),a.unevaluated&&qy(e),t.return((0,G._)`${B.default.errors} === 0`))}function qy({gen:e,evaluated:t,props:r,items:n}){r instanceof G.Name&&e.assign((0,G._)`${t}.props`,r),n instanceof G.Name&&e.assign((0,G._)`${t}.items`,n)}function ji(e,t,r,n){const{gen:s,schema:a,data:i,allErrors:u,opts:c,self:d}=e,{RULES:l}=d;if(a.$ref&&(c.ignoreKeywordsWithRef||!(0,ht.schemaHasRulesButRef)(a,l))){s.block(()=>pu(e,"$ref",l.all.$ref.definition));return}c.jtd||Ky(e,t),s.block(()=>{for(const P of l.rules)p(P);p(l.post)});function p(P){(0,ao.shouldUseGroup)(a,P)&&(P.type?(s.if((0,Ln.checkDataType)(P.type,i,c.strictNumbers)),Ai(e,P),t.length===1&&t[0]===P.type&&r&&(s.else(),(0,Ln.reportTypeError)(e)),s.endIf()):Ai(e,P),u||s.if((0,G._)`${B.default.errors} === ${n||0}`))}}function Ai(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,Ry.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,ao.shouldUseRule)(n,a)&&pu(e,a.keyword,a.definition,t.type)})}function Ky(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Gy(e,t),e.opts.allowUnionTypes||Hy(e,t),Wy(e,e.dataTypes))}function Gy(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{fu(e.dataTypes,r)||oo(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),By(e,t)}}function Hy(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&oo(e,"use allowUnionTypes to allow union type keyword")}function Wy(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,ao.shouldUseRule)(e.schema,s)){const{type:a}=s.definition;a.length&&!a.some(i=>Jy(t,i))&&oo(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function Jy(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function fu(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function By(e,t){const r=[];for(const n of e.dataTypes)fu(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function oo(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,ht.checkStrictMode)(e,t,e.opts.strictTypes)}class hu{constructor(t,r,n){if((0,Fr.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ht.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",mu(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Fr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",B.default.errors))}result(t,r,n){this.failResult((0,G.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,G.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,G._)`${r} !== undefined && (${(0,G.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Or.reportExtraError:Or.reportError)(this,this.def.error,r)}$dataError(){(0,Or.reportError)(this,this.def.$dataError||Or.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Or.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=G.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=G.nil,r=G.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:i}=this;n.if((0,G.or)((0,G._)`${s} === undefined`,r)),t!==G.nil&&n.assign(t,!0),(a.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==G.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,G.or)(i(),u());function i(){if(n.length){if(!(r instanceof G.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,G._)`${(0,Ln.checkDataTypes)(c,r,a.opts.strictNumbers,Ln.DataType.Wrong)}`}return G.nil}function u(){if(s.validateSchema){const c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,G._)`!${c}(${r})`}return G.nil}}subschema(t,r){const n=(0,ms.getSubschema)(this.it,t);(0,ms.extendSubschemaData)(n,this.it,t),(0,ms.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return Dy(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=ht.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=ht.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,G.Name)),!0}}Qe.KeywordCxt=hu;function pu(e,t,r,n){const s=new hu(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,Fr.funcKeywordCode)(s,r):"macro"in r?(0,Fr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,Fr.funcKeywordCode)(s,r)}const Xy=/^\/(?:[^~]|~0|~1)*$/,Yy=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function mu(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return B.default.rootData;if(e[0]==="/"){if(!Xy.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=B.default.rootData}else{const d=Yy.exec(e);if(!d)throw new Error(`Invalid JSON-pointer: ${e}`);const l=+d[1];if(s=d[2],s==="#"){if(l>=t)throw new Error(c("property/index",l));return n[t-l]}if(l>t)throw new Error(c("data",l));if(a=r[t-l],!s)return a}let i=a;const u=s.split("/");for(const d of u)d&&(a=(0,G._)`${a}${(0,G.getProperty)((0,ht.unescapeJsonPointer)(d))}`,i=(0,G._)`${i} && ${a}`);return i;function c(d,l){return`Cannot access ${d} ${l} levels up, current level is ${t}`}}Qe.getData=mu;var cn={},ki;function io(){if(ki)return cn;ki=1,Object.defineProperty(cn,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return cn.default=e,cn}var ln={},Ci;function xn(){if(Ci)return ln;Ci=1,Object.defineProperty(ln,"__esModule",{value:!0});const e=Pe;class t extends Error{constructor(n,s,a,i){super(i||`can't resolve reference ${a} from id ${s}`),this.missingRef=(0,e.resolveUrl)(n,s,a),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return ln.default=t,ln}var Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.resolveSchema=Le.getCompilingSchema=Le.resolveRef=Le.compileSchema=Le.SchemaEnv=void 0;const He=Z,Qy=io(),Kt=lt,Xe=Pe,Di=L,Zy=Qe;class es{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Xe.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Le.SchemaEnv=es;function co(e){const t=$u.call(this,e);if(t)return t;const r=(0,Xe.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,i=new He.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let u;e.$async&&(u=i.scopeValue("Error",{ref:Qy.default,code:(0,He._)`require("ajv/dist/runtime/validation_error").default`}));const c=i.scopeName("validate");e.validateName=c;const d={gen:i,allErrors:this.opts.allErrors,data:Kt.default.data,parentData:Kt.default.parentData,parentDataProperty:Kt.default.parentDataProperty,dataNames:[Kt.default.data],dataPathArr:[He.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,He.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:u,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:He.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,He._)`""`,opts:this.opts,self:this};let l;try{this._compilations.add(e),(0,Zy.validateFunctionCode)(d),i.optimize(this.opts.code.optimize);const p=i.toString();l=`${i.scopeRefs(Kt.default.scope)}return ${p}`,this.opts.code.process&&(l=this.opts.code.process(l,e));const _=new Function(`${Kt.default.self}`,`${Kt.default.scope}`,l)(this,this.scope.get());if(this.scope.value(c,{ref:_}),_.errors=null,_.schema=e.schema,_.schemaEnv=e,e.$async&&(_.$async=!0),this.opts.code.source===!0&&(_.source={validateName:c,validateCode:p,scopeValues:i._values}),this.opts.unevaluated){const{props:E,items:g}=d;_.evaluated={props:E instanceof He.Name?void 0:E,items:g instanceof He.Name?void 0:g,dynamicProps:E instanceof He.Name,dynamicItems:g instanceof He.Name},_.source&&(_.source.evaluated=(0,He.stringify)(_.evaluated))}return e.validate=_,e}catch(p){throw delete e.validate,delete e.validateName,l&&this.logger.error("Error compiling schema, function code:",l),p}finally{this._compilations.delete(e)}}Le.compileSchema=co;function xy(e,t,r){var n;r=(0,Xe.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=r_.call(this,e,r);if(a===void 0){const i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:u}=this.opts;i&&(a=new es({schema:i,schemaId:u,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=e_.call(this,a)}Le.resolveRef=xy;function e_(e){return(0,Xe.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:co.call(this,e)}function $u(e){for(const t of this._compilations)if(t_(t,e))return t}Le.getCompilingSchema=$u;function t_(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function r_(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||ts.call(this,e,t)}function ts(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Xe._getFullPath)(this.opts.uriResolver,r);let s=(0,Xe.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return $s.call(this,r,e);const a=(0,Xe.normalizeId)(n),i=this.refs[a]||this.schemas[a];if(typeof i=="string"){const u=ts.call(this,e,i);return typeof(u==null?void 0:u.schema)!="object"?void 0:$s.call(this,r,u)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||co.call(this,i),a===(0,Xe.normalizeId)(t)){const{schema:u}=i,{schemaId:c}=this.opts,d=u[c];return d&&(s=(0,Xe.resolveUrl)(this.opts.uriResolver,s,d)),new es({schema:u,schemaId:c,root:e,baseId:s})}return $s.call(this,r,i)}}Le.resolveSchema=ts;const n_=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function $s(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const u of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,Di.unescapeFragment)(u)];if(c===void 0)return;r=c;const d=typeof r=="object"&&r[this.opts.schemaId];!n_.has(u)&&d&&(t=(0,Xe.resolveUrl)(this.opts.uriResolver,t,d))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,Di.schemaHasRulesButRef)(r,this.RULES)){const u=(0,Xe.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=ts.call(this,n,u)}const{schemaId:i}=this.opts;if(a=a||new es({schema:r,schemaId:i,root:n,baseId:t}),a.schema!==a.root.schema)return a}const s_="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",a_="Meta-schema for $data reference (JSON AnySchema extension proposal)",o_="object",i_=["$data"],c_={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},l_=!1,u_={$id:s_,description:a_,type:o_,required:i_,properties:c_,additionalProperties:l_};var lo={};Object.defineProperty(lo,"__esModule",{value:!0});const yu=Ol;yu.code='require("ajv/dist/runtime/uri").default';lo.default=yu;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Qe;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Z;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=io(),s=xn(),a=Zt,i=Le,u=Z,c=Pe,d=ge,l=L,p=u_,P=lo,_=(v,m)=>new RegExp(v,m);_.code="new RegExp";const E=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},w=200;function N(v){var m,S,$,o,f,b,j,A,q,F,re,Fe,Ot,Rt,Tt,It,jt,At,kt,Ct,Dt,Mt,Lt,Ft,Vt;const Ke=v.strict,Ut=(m=v.code)===null||m===void 0?void 0:m.optimize,Sr=Ut===!0||Ut===void 0?1:Ut||0,br=($=(S=v.code)===null||S===void 0?void 0:S.regExp)!==null&&$!==void 0?$:_,us=(o=v.uriResolver)!==null&&o!==void 0?o:P.default;return{strictSchema:(b=(f=v.strictSchema)!==null&&f!==void 0?f:Ke)!==null&&b!==void 0?b:!0,strictNumbers:(A=(j=v.strictNumbers)!==null&&j!==void 0?j:Ke)!==null&&A!==void 0?A:!0,strictTypes:(F=(q=v.strictTypes)!==null&&q!==void 0?q:Ke)!==null&&F!==void 0?F:"log",strictTuples:(Fe=(re=v.strictTuples)!==null&&re!==void 0?re:Ke)!==null&&Fe!==void 0?Fe:"log",strictRequired:(Rt=(Ot=v.strictRequired)!==null&&Ot!==void 0?Ot:Ke)!==null&&Rt!==void 0?Rt:!1,code:v.code?{...v.code,optimize:Sr,regExp:br}:{optimize:Sr,regExp:br},loopRequired:(Tt=v.loopRequired)!==null&&Tt!==void 0?Tt:w,loopEnum:(It=v.loopEnum)!==null&&It!==void 0?It:w,meta:(jt=v.meta)!==null&&jt!==void 0?jt:!0,messages:(At=v.messages)!==null&&At!==void 0?At:!0,inlineRefs:(kt=v.inlineRefs)!==null&&kt!==void 0?kt:!0,schemaId:(Ct=v.schemaId)!==null&&Ct!==void 0?Ct:"$id",addUsedSchema:(Dt=v.addUsedSchema)!==null&&Dt!==void 0?Dt:!0,validateSchema:(Mt=v.validateSchema)!==null&&Mt!==void 0?Mt:!0,validateFormats:(Lt=v.validateFormats)!==null&&Lt!==void 0?Lt:!0,unicodeRegExp:(Ft=v.unicodeRegExp)!==null&&Ft!==void 0?Ft:!0,int32range:(Vt=v.int32range)!==null&&Vt!==void 0?Vt:!0,uriResolver:us}}class R{constructor(m={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,m=this.opts={...m,...N(m)};const{es5:S,lines:$}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:g,es5:S,lines:$}),this.logger=Q(m.logger);const o=m.validateFormats;m.validateFormats=!1,this.RULES=(0,a.getRules)(),I.call(this,y,m,"NOT SUPPORTED"),I.call(this,h,m,"DEPRECATED","warn"),this._metaOpts=H.call(this),m.formats&&ue.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),m.keywords&&V.call(this,m.keywords),typeof m.meta=="object"&&this.addMetaSchema(m.meta),W.call(this),m.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:m,meta:S,schemaId:$}=this.opts;let o=p;$==="id"&&(o={...p},o.id=o.$id,delete o.$id),S&&m&&this.addMetaSchema(o,o[$],!1)}defaultMeta(){const{meta:m,schemaId:S}=this.opts;return this.opts.defaultMeta=typeof m=="object"?m[S]||m:void 0}validate(m,S){let $;if(typeof m=="string"){if($=this.getSchema(m),!$)throw new Error(`no schema with key or ref "${m}"`)}else $=this.compile(m);const o=$(S);return"$async"in $||(this.errors=$.errors),o}compile(m,S){const $=this._addSchema(m,S);return $.validate||this._compileSchemaEnv($)}compileAsync(m,S){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:$}=this.opts;return o.call(this,m,S);async function o(F,re){await f.call(this,F.$schema);const Fe=this._addSchema(F,re);return Fe.validate||b.call(this,Fe)}async function f(F){F&&!this.getSchema(F)&&await o.call(this,{$ref:F},!0)}async function b(F){try{return this._compileSchemaEnv(F)}catch(re){if(!(re instanceof s.default))throw re;return j.call(this,re),await A.call(this,re.missingSchema),b.call(this,F)}}function j({missingSchema:F,missingRef:re}){if(this.refs[F])throw new Error(`AnySchema ${F} is loaded but ${re} cannot be resolved`)}async function A(F){const re=await q.call(this,F);this.refs[F]||await f.call(this,re.$schema),this.refs[F]||this.addSchema(re,F,S)}async function q(F){const re=this._loading[F];if(re)return re;try{return await(this._loading[F]=$(F))}finally{delete this._loading[F]}}}addSchema(m,S,$,o=this.opts.validateSchema){if(Array.isArray(m)){for(const b of m)this.addSchema(b,void 0,$,o);return this}let f;if(typeof m=="object"){const{schemaId:b}=this.opts;if(f=m[b],f!==void 0&&typeof f!="string")throw new Error(`schema ${b} must be string`)}return S=(0,c.normalizeId)(S||f),this._checkUnique(S),this.schemas[S]=this._addSchema(m,$,S,o,!0),this}addMetaSchema(m,S,$=this.opts.validateSchema){return this.addSchema(m,S,!0,$),this}validateSchema(m,S){if(typeof m=="boolean")return!0;let $;if($=m.$schema,$!==void 0&&typeof $!="string")throw new Error("$schema must be a string");if($=$||this.opts.defaultMeta||this.defaultMeta(),!$)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const o=this.validate($,m);if(!o&&S){const f="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(f);else throw new Error(f)}return o}getSchema(m){let S;for(;typeof(S=z.call(this,m))=="string";)m=S;if(S===void 0){const{schemaId:$}=this.opts,o=new i.SchemaEnv({schema:{},schemaId:$});if(S=i.resolveSchema.call(this,o,m),!S)return;this.refs[m]=S}return S.validate||this._compileSchemaEnv(S)}removeSchema(m){if(m instanceof RegExp)return this._removeAllSchemas(this.schemas,m),this._removeAllSchemas(this.refs,m),this;switch(typeof m){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const S=z.call(this,m);return typeof S=="object"&&this._cache.delete(S.schema),delete this.schemas[m],delete this.refs[m],this}case"object":{const S=m;this._cache.delete(S);let $=m[this.opts.schemaId];return $&&($=(0,c.normalizeId)($),delete this.schemas[$],delete this.refs[$]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(m){for(const S of m)this.addKeyword(S);return this}addKeyword(m,S){let $;if(typeof m=="string")$=m,typeof S=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),S.keyword=$);else if(typeof m=="object"&&S===void 0){if(S=m,$=S.keyword,Array.isArray($)&&!$.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(C.call(this,$,S),!S)return(0,l.eachItem)($,f=>k.call(this,f)),this;D.call(this,S);const o={...S,type:(0,d.getJSONTypes)(S.type),schemaType:(0,d.getJSONTypes)(S.schemaType)};return(0,l.eachItem)($,o.type.length===0?f=>k.call(this,f,o):f=>o.type.forEach(b=>k.call(this,f,o,b))),this}getKeyword(m){const S=this.RULES.all[m];return typeof S=="object"?S.definition:!!S}removeKeyword(m){const{RULES:S}=this;delete S.keywords[m],delete S.all[m];for(const $ of S.rules){const o=$.rules.findIndex(f=>f.keyword===m);o>=0&&$.rules.splice(o,1)}return this}addFormat(m,S){return typeof S=="string"&&(S=new RegExp(S)),this.formats[m]=S,this}errorsText(m=this.errors,{separator:S=", ",dataVar:$="data"}={}){return!m||m.length===0?"No errors":m.map(o=>`${$}${o.instancePath} ${o.message}`).reduce((o,f)=>o+S+f)}$dataMetaSchema(m,S){const $=this.RULES.all;m=JSON.parse(JSON.stringify(m));for(const o of S){const f=o.split("/").slice(1);let b=m;for(const j of f)b=b[j];for(const j in $){const A=$[j];if(typeof A!="object")continue;const{$data:q}=A.definition,F=b[j];q&&F&&(b[j]=T(F))}}return m}_removeAllSchemas(m,S){for(const $ in m){const o=m[$];(!S||S.test($))&&(typeof o=="string"?delete m[$]:o&&!o.meta&&(this._cache.delete(o.schema),delete m[$]))}}_addSchema(m,S,$,o=this.opts.validateSchema,f=this.opts.addUsedSchema){let b;const{schemaId:j}=this.opts;if(typeof m=="object")b=m[j];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof m!="boolean")throw new Error("schema must be object or boolean")}let A=this._cache.get(m);if(A!==void 0)return A;$=(0,c.normalizeId)(b||$);const q=c.getSchemaRefs.call(this,m,$);return A=new i.SchemaEnv({schema:m,schemaId:j,meta:S,baseId:$,localRefs:q}),this._cache.set(A.schema,A),f&&!$.startsWith("#")&&($&&this._checkUnique($),this.refs[$]=A),o&&this.validateSchema(m,!0),A}_checkUnique(m){if(this.schemas[m]||this.refs[m])throw new Error(`schema with key or id "${m}" already exists`)}_compileSchemaEnv(m){if(m.meta?this._compileMetaSchema(m):i.compileSchema.call(this,m),!m.validate)throw new Error("ajv implementation error");return m.validate}_compileMetaSchema(m){const S=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,m)}finally{this.opts=S}}}R.ValidationError=n.default,R.MissingRefError=s.default,e.default=R;function I(v,m,S,$="error"){for(const o in v){const f=o;f in m&&this.logger[$](`${S}: option ${o}. ${v[f]}`)}}function z(v){return v=(0,c.normalizeId)(v),this.schemas[v]||this.refs[v]}function W(){const v=this.opts.schemas;if(v)if(Array.isArray(v))this.addSchema(v);else for(const m in v)this.addSchema(v[m],m)}function ue(){for(const v in this.opts.formats){const m=this.opts.formats[v];m&&this.addFormat(v,m)}}function V(v){if(Array.isArray(v)){this.addVocabulary(v);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const m in v){const S=v[m];S.keyword||(S.keyword=m),this.addKeyword(S)}}function H(){const v={...this.opts};for(const m of E)delete v[m];return v}const ne={log(){},warn(){},error(){}};function Q(v){if(v===!1)return ne;if(v===void 0)return console;if(v.log&&v.warn&&v.error)return v;throw new Error("logger must implement log, warn and error methods")}const de=/^[a-z_$][a-z0-9_$:-]*$/i;function C(v,m){const{RULES:S}=this;if((0,l.eachItem)(v,$=>{if(S.keywords[$])throw new Error(`Keyword ${$} is already defined`);if(!de.test($))throw new Error(`Keyword ${$} has invalid name`)}),!!m&&m.$data&&!("code"in m||"validate"in m))throw new Error('$data keyword must have "code" or "validate" function')}function k(v,m,S){var $;const o=m==null?void 0:m.post;if(S&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:f}=this;let b=o?f.post:f.rules.find(({type:A})=>A===S);if(b||(b={type:S,rules:[]},f.rules.push(b)),f.keywords[v]=!0,!m)return;const j={keyword:v,definition:{...m,type:(0,d.getJSONTypes)(m.type),schemaType:(0,d.getJSONTypes)(m.schemaType)}};m.before?U.call(this,b,j,m.before):b.rules.push(j),f.all[v]=j,($=m.implements)===null||$===void 0||$.forEach(A=>this.addKeyword(A))}function U(v,m,S){const $=v.rules.findIndex(o=>o.keyword===S);$>=0?v.rules.splice($,0,m):(v.rules.push(m),this.logger.warn(`rule ${S} is not defined`))}function D(v){let{metaSchema:m}=v;m!==void 0&&(v.$data&&this.opts.$data&&(m=T(m)),v.validateSchema=this.compile(m,!0))}const O={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function T(v){return{anyOf:[v,O]}}})(Vl);var uo={},fo={},ho={};Object.defineProperty(ho,"__esModule",{value:!0});const d_={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ho.default=d_;var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.callRef=xt.getValidate=void 0;const f_=xn(),Mi=ee,De=Z,nr=lt,Li=Le,un=L,h_={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:i,opts:u,self:c}=n,{root:d}=a;if((r==="#"||r==="#/")&&s===d.baseId)return p();const l=Li.resolveRef.call(c,d,s,r);if(l===void 0)throw new f_.default(n.opts.uriResolver,s,r);if(l instanceof Li.SchemaEnv)return P(l);return _(l);function p(){if(a===d)return On(e,i,a,a.$async);const E=t.scopeValue("root",{ref:d});return On(e,(0,De._)`${E}.validate`,d,d.$async)}function P(E){const g=_u(e,E);On(e,g,E,E.$async)}function _(E){const g=t.scopeValue("schema",u.code.source===!0?{ref:E,code:(0,De.stringify)(E)}:{ref:E}),y=t.name("valid"),h=e.subschema({schema:E,dataTypes:[],schemaPath:De.nil,topSchemaRef:g,errSchemaPath:r},y);e.mergeEvaluated(h),e.ok(y)}}};function _u(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,De._)`${r.scopeValue("wrapper",{ref:t})}.validate`}xt.getValidate=_u;function On(e,t,r,n){const{gen:s,it:a}=e,{allErrors:i,schemaEnv:u,opts:c}=a,d=c.passContext?nr.default.this:De.nil;n?l():p();function l(){if(!u.$async)throw new Error("async schema referenced by sync schema");const E=s.let("valid");s.try(()=>{s.code((0,De._)`await ${(0,Mi.callValidateCode)(e,t,d)}`),_(t),i||s.assign(E,!0)},g=>{s.if((0,De._)`!(${g} instanceof ${a.ValidationError})`,()=>s.throw(g)),P(g),i||s.assign(E,!1)}),e.ok(E)}function p(){e.result((0,Mi.callValidateCode)(e,t,d),()=>_(t),()=>P(t))}function P(E){const g=(0,De._)`${E}.errors`;s.assign(nr.default.vErrors,(0,De._)`${nr.default.vErrors} === null ? ${g} : ${nr.default.vErrors}.concat(${g})`),s.assign(nr.default.errors,(0,De._)`${nr.default.vErrors}.length`)}function _(E){var g;if(!a.opts.unevaluated)return;const y=(g=r==null?void 0:r.validate)===null||g===void 0?void 0:g.evaluated;if(a.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(a.props=un.mergeEvaluated.props(s,y.props,a.props));else{const h=s.var("props",(0,De._)`${E}.evaluated.props`);a.props=un.mergeEvaluated.props(s,h,a.props,De.Name)}if(a.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(a.items=un.mergeEvaluated.items(s,y.items,a.items));else{const h=s.var("items",(0,De._)`${E}.evaluated.items`);a.items=un.mergeEvaluated.items(s,h,a.items,De.Name)}}}xt.callRef=On;xt.default=h_;Object.defineProperty(fo,"__esModule",{value:!0});const p_=ho,m_=xt,$_=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",p_.default,m_.default];fo.default=$_;var po={},mo={};Object.defineProperty(mo,"__esModule",{value:!0});const Fn=Z,gt=Fn.operators,Vn={maximum:{okStr:"<=",ok:gt.LTE,fail:gt.GT},minimum:{okStr:">=",ok:gt.GTE,fail:gt.LT},exclusiveMaximum:{okStr:"<",ok:gt.LT,fail:gt.GTE},exclusiveMinimum:{okStr:">",ok:gt.GT,fail:gt.LTE}},y_={message:({keyword:e,schemaCode:t})=>(0,Fn.str)`must be ${Vn[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Fn._)`{comparison: ${Vn[e].okStr}, limit: ${t}}`},__={keyword:Object.keys(Vn),type:"number",schemaType:"number",$data:!0,error:y_,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Fn._)`${r} ${Vn[t].fail} ${n} || isNaN(${r})`)}};mo.default=__;var $o={};Object.defineProperty($o,"__esModule",{value:!0});const Vr=Z,g_={message:({schemaCode:e})=>(0,Vr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Vr._)`{multipleOf: ${e}}`},v_={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:g_,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,i=t.let("res"),u=a?(0,Vr._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${a}`:(0,Vr._)`${i} !== parseInt(${i})`;e.fail$data((0,Vr._)`(${n} === 0 || (${i} = ${r}/${n}, ${u}))`)}};$o.default=v_;var yo={},_o={};Object.defineProperty(_o,"__esModule",{value:!0});function gu(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}_o.default=gu;gu.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(yo,"__esModule",{value:!0});const Bt=Z,w_=L,E_=_o,S_={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Bt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Bt._)`{limit: ${e}}`},b_={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:S_,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?Bt.operators.GT:Bt.operators.LT,i=s.opts.unicode===!1?(0,Bt._)`${r}.length`:(0,Bt._)`${(0,w_.useFunc)(e.gen,E_.default)}(${r})`;e.fail$data((0,Bt._)`${i} ${a} ${n}`)}};yo.default=b_;var go={};Object.defineProperty(go,"__esModule",{value:!0});const P_=ee,Un=Z,N_={message:({schemaCode:e})=>(0,Un.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Un._)`{pattern: ${e}}`},O_={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:N_,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,i=a.opts.unicodeRegExp?"u":"",u=r?(0,Un._)`(new RegExp(${s}, ${i}))`:(0,P_.usePattern)(e,n);e.fail$data((0,Un._)`!${u}.test(${t})`)}};go.default=O_;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});const Ur=Z,R_={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Ur.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Ur._)`{limit: ${e}}`},T_={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:R_,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?Ur.operators.GT:Ur.operators.LT;e.fail$data((0,Ur._)`Object.keys(${r}).length ${s} ${n}`)}};vo.default=T_;var wo={};Object.defineProperty(wo,"__esModule",{value:!0});const Rr=ee,zr=Z,I_=L,j_={message:({params:{missingProperty:e}})=>(0,zr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,zr._)`{missingProperty: ${e}}`},A_={keyword:"required",type:"object",schemaType:"array",$data:!0,error:j_,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:i}=e,{opts:u}=i;if(!a&&r.length===0)return;const c=r.length>=u.loopRequired;if(i.allErrors?d():l(),u.strictRequired){const _=e.parentSchema.properties,{definedProperties:E}=e.it;for(const g of r)if((_==null?void 0:_[g])===void 0&&!E.has(g)){const y=i.schemaEnv.baseId+i.errSchemaPath,h=`required property "${g}" is not defined at "${y}" (strictRequired)`;(0,I_.checkStrictMode)(i,h,i.opts.strictRequired)}}function d(){if(c||a)e.block$data(zr.nil,p);else for(const _ of r)(0,Rr.checkReportMissingProp)(e,_)}function l(){const _=t.let("missing");if(c||a){const E=t.let("valid",!0);e.block$data(E,()=>P(_,E)),e.ok(E)}else t.if((0,Rr.checkMissingProp)(e,r,_)),(0,Rr.reportMissingProp)(e,_),t.else()}function p(){t.forOf("prop",n,_=>{e.setParams({missingProperty:_}),t.if((0,Rr.noPropertyInData)(t,s,_,u.ownProperties),()=>e.error())})}function P(_,E){e.setParams({missingProperty:_}),t.forOf(_,n,()=>{t.assign(E,(0,Rr.propertyInData)(t,s,_,u.ownProperties)),t.if((0,zr.not)(E),()=>{e.error(),t.break()})},zr.nil)}}};wo.default=A_;var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});const qr=Z,k_={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,qr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,qr._)`{limit: ${e}}`},C_={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:k_,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?qr.operators.GT:qr.operators.LT;e.fail$data((0,qr._)`${r}.length ${s} ${n}`)}};Eo.default=C_;var So={},Br={};Object.defineProperty(Br,"__esModule",{value:!0});const vu=Hn;vu.code='require("ajv/dist/runtime/equal").default';Br.default=vu;Object.defineProperty(So,"__esModule",{value:!0});const ys=ge,Ee=Z,D_=L,M_=Br,L_={message:({params:{i:e,j:t}})=>(0,Ee.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ee._)`{i: ${e}, j: ${t}}`},F_={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:L_,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:i,it:u}=e;if(!n&&!s)return;const c=t.let("valid"),d=a.items?(0,ys.getSchemaTypes)(a.items):[];e.block$data(c,l,(0,Ee._)`${i} === false`),e.ok(c);function l(){const E=t.let("i",(0,Ee._)`${r}.length`),g=t.let("j");e.setParams({i:E,j:g}),t.assign(c,!0),t.if((0,Ee._)`${E} > 1`,()=>(p()?P:_)(E,g))}function p(){return d.length>0&&!d.some(E=>E==="object"||E==="array")}function P(E,g){const y=t.name("item"),h=(0,ys.checkDataTypes)(d,y,u.opts.strictNumbers,ys.DataType.Wrong),w=t.const("indices",(0,Ee._)`{}`);t.for((0,Ee._)`;${E}--;`,()=>{t.let(y,(0,Ee._)`${r}[${E}]`),t.if(h,(0,Ee._)`continue`),d.length>1&&t.if((0,Ee._)`typeof ${y} == "string"`,(0,Ee._)`${y} += "_"`),t.if((0,Ee._)`typeof ${w}[${y}] == "number"`,()=>{t.assign(g,(0,Ee._)`${w}[${y}]`),e.error(),t.assign(c,!1).break()}).code((0,Ee._)`${w}[${y}] = ${E}`)})}function _(E,g){const y=(0,D_.useFunc)(t,M_.default),h=t.name("outer");t.label(h).for((0,Ee._)`;${E}--;`,()=>t.for((0,Ee._)`${g} = ${E}; ${g}--;`,()=>t.if((0,Ee._)`${y}(${r}[${E}], ${r}[${g}])`,()=>{e.error(),t.assign(c,!1).break(h)})))}}};So.default=F_;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});const qs=Z,V_=L,U_=Br,z_={message:"must be equal to constant",params:({schemaCode:e})=>(0,qs._)`{allowedValue: ${e}}`},q_={keyword:"const",$data:!0,error:z_,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,qs._)`!${(0,V_.useFunc)(t,U_.default)}(${r}, ${s})`):e.fail((0,qs._)`${a} !== ${r}`)}};bo.default=q_;var Po={};Object.defineProperty(Po,"__esModule",{value:!0});const Ar=Z,K_=L,G_=Br,H_={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Ar._)`{allowedValues: ${e}}`},W_={keyword:"enum",schemaType:"array",$data:!0,error:H_,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:i}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const u=s.length>=i.opts.loopEnum;let c;const d=()=>c??(c=(0,K_.useFunc)(t,G_.default));let l;if(u||n)l=t.let("valid"),e.block$data(l,p);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const _=t.const("vSchema",a);l=(0,Ar.or)(...s.map((E,g)=>P(_,g)))}e.pass(l);function p(){t.assign(l,!1),t.forOf("v",a,_=>t.if((0,Ar._)`${d()}(${r}, ${_})`,()=>t.assign(l,!0).break()))}function P(_,E){const g=s[E];return typeof g=="object"&&g!==null?(0,Ar._)`${d()}(${r}, ${_}[${E}])`:(0,Ar._)`${r} === ${g}`}}};Po.default=W_;Object.defineProperty(po,"__esModule",{value:!0});const J_=mo,B_=$o,X_=yo,Y_=go,Q_=vo,Z_=wo,x_=Eo,eg=So,tg=bo,rg=Po,ng=[J_.default,B_.default,X_.default,Y_.default,Q_.default,Z_.default,x_.default,eg.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},tg.default,rg.default];po.default=ng;var No={},gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.validateAdditionalItems=void 0;const Xt=Z,Ks=L,sg={message:({params:{len:e}})=>(0,Xt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Xt._)`{limit: ${e}}`},ag={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:sg,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Ks.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}wu(e,n)}};function wu(e,t){const{gen:r,schema:n,data:s,keyword:a,it:i}=e;i.items=!0;const u=r.const("len",(0,Xt._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Xt._)`${u} <= ${t.length}`);else if(typeof n=="object"&&!(0,Ks.alwaysValidSchema)(i,n)){const d=r.var("valid",(0,Xt._)`${u} <= ${t.length}`);r.if((0,Xt.not)(d),()=>c(d)),e.ok(d)}function c(d){r.forRange("i",t.length,u,l=>{e.subschema({keyword:a,dataProp:l,dataPropType:Ks.Type.Num},d),i.allErrors||r.if((0,Xt.not)(d),()=>r.break())})}}gr.validateAdditionalItems=wu;gr.default=ag;var Oo={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.validateTuple=void 0;const Fi=Z,Rn=L,og=ee,ig={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Eu(e,"additionalItems",t);r.items=!0,!(0,Rn.alwaysValidSchema)(r,t)&&e.ok((0,og.validateArray)(e))}};function Eu(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:i,it:u}=e;l(s),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=Rn.mergeEvaluated.items(n,r.length,u.items));const c=n.name("valid"),d=n.const("len",(0,Fi._)`${a}.length`);r.forEach((p,P)=>{(0,Rn.alwaysValidSchema)(u,p)||(n.if((0,Fi._)`${d} > ${P}`,()=>e.subschema({keyword:i,schemaProp:P,dataProp:P},c)),e.ok(c))});function l(p){const{opts:P,errSchemaPath:_}=u,E=r.length,g=E===p.minItems&&(E===p.maxItems||p[t]===!1);if(P.strictTuples&&!g){const y=`"${i}" is ${E}-tuple, but minItems or maxItems/${t} are not specified or different at path "${_}"`;(0,Rn.checkStrictMode)(u,y,P.strictTuples)}}}vr.validateTuple=Eu;vr.default=ig;Object.defineProperty(Oo,"__esModule",{value:!0});const cg=vr,lg={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,cg.validateTuple)(e,"items")};Oo.default=lg;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});const Vi=Z,ug=L,dg=ee,fg=gr,hg={message:({params:{len:e}})=>(0,Vi.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Vi._)`{limit: ${e}}`},pg={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:hg,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,ug.alwaysValidSchema)(n,t)&&(s?(0,fg.validateAdditionalItems)(e,s):e.ok((0,dg.validateArray)(e)))}};Ro.default=pg;var To={};Object.defineProperty(To,"__esModule",{value:!0});const qe=Z,dn=L,mg={message:({params:{min:e,max:t}})=>t===void 0?(0,qe.str)`must contain at least ${e} valid item(s)`:(0,qe.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,qe._)`{minContains: ${e}}`:(0,qe._)`{minContains: ${e}, maxContains: ${t}}`},$g={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:mg,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let i,u;const{minContains:c,maxContains:d}=n;a.opts.next?(i=c===void 0?1:c,u=d):i=1;const l=t.const("len",(0,qe._)`${s}.length`);if(e.setParams({min:i,max:u}),u===void 0&&i===0){(0,dn.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&i>u){(0,dn.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,dn.alwaysValidSchema)(a,r)){let g=(0,qe._)`${l} >= ${i}`;u!==void 0&&(g=(0,qe._)`${g} && ${l} <= ${u}`),e.pass(g);return}a.items=!0;const p=t.name("valid");u===void 0&&i===1?_(p,()=>t.if(p,()=>t.break())):i===0?(t.let(p,!0),u!==void 0&&t.if((0,qe._)`${s}.length > 0`,P)):(t.let(p,!1),P()),e.result(p,()=>e.reset());function P(){const g=t.name("_valid"),y=t.let("count",0);_(g,()=>t.if(g,()=>E(y)))}function _(g,y){t.forRange("i",0,l,h=>{e.subschema({keyword:"contains",dataProp:h,dataPropType:dn.Type.Num,compositeRule:!0},g),y()})}function E(g){t.code((0,qe._)`${g}++`),u===void 0?t.if((0,qe._)`${g} >= ${i}`,()=>t.assign(p,!0).break()):(t.if((0,qe._)`${g} > ${u}`,()=>t.assign(p,!1).break()),i===1?t.assign(p,!0):t.if((0,qe._)`${g} >= ${i}`,()=>t.assign(p,!0)))}}};To.default=$g;var Su={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Z,r=L,n=ee;e.error={message:({params:{property:c,depsCount:d,deps:l}})=>{const p=d===1?"property":"properties";return(0,t.str)`must have ${p} ${l} when property ${c} is present`},params:({params:{property:c,depsCount:d,deps:l,missingProperty:p}})=>(0,t._)`{property: ${c},
    missingProperty: ${p},
    depsCount: ${d},
    deps: ${l}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[d,l]=a(c);i(c,d),u(c,l)}};function a({schema:c}){const d={},l={};for(const p in c){if(p==="__proto__")continue;const P=Array.isArray(c[p])?d:l;P[p]=c[p]}return[d,l]}function i(c,d=c.schema){const{gen:l,data:p,it:P}=c;if(Object.keys(d).length===0)return;const _=l.let("missing");for(const E in d){const g=d[E];if(g.length===0)continue;const y=(0,n.propertyInData)(l,p,E,P.opts.ownProperties);c.setParams({property:E,depsCount:g.length,deps:g.join(", ")}),P.allErrors?l.if(y,()=>{for(const h of g)(0,n.checkReportMissingProp)(c,h)}):(l.if((0,t._)`${y} && (${(0,n.checkMissingProp)(c,g,_)})`),(0,n.reportMissingProp)(c,_),l.else())}}e.validatePropertyDeps=i;function u(c,d=c.schema){const{gen:l,data:p,keyword:P,it:_}=c,E=l.name("valid");for(const g in d)(0,r.alwaysValidSchema)(_,d[g])||(l.if((0,n.propertyInData)(l,p,g,_.opts.ownProperties),()=>{const y=c.subschema({keyword:P,schemaProp:g},E);c.mergeValidEvaluated(y,E)},()=>l.var(E,!0)),c.ok(E))}e.validateSchemaDeps=u,e.default=s})(Su);var Io={};Object.defineProperty(Io,"__esModule",{value:!0});const bu=Z,yg=L,_g={message:"property name must be valid",params:({params:e})=>(0,bu._)`{propertyName: ${e.propertyName}}`},gg={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:_g,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,yg.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},a),t.if((0,bu.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};Io.default=gg;var rs={};Object.defineProperty(rs,"__esModule",{value:!0});const fn=ee,Je=Z,vg=lt,hn=L,wg={message:"must NOT have additional properties",params:({params:e})=>(0,Je._)`{additionalProperty: ${e.additionalProperty}}`},Eg={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:wg,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:i}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:u,opts:c}=i;if(i.props=!0,c.removeAdditional!=="all"&&(0,hn.alwaysValidSchema)(i,r))return;const d=(0,fn.allSchemaProperties)(n.properties),l=(0,fn.allSchemaProperties)(n.patternProperties);p(),e.ok((0,Je._)`${a} === ${vg.default.errors}`);function p(){t.forIn("key",s,y=>{!d.length&&!l.length?E(y):t.if(P(y),()=>E(y))})}function P(y){let h;if(d.length>8){const w=(0,hn.schemaRefOrVal)(i,n.properties,"properties");h=(0,fn.isOwnProperty)(t,w,y)}else d.length?h=(0,Je.or)(...d.map(w=>(0,Je._)`${y} === ${w}`)):h=Je.nil;return l.length&&(h=(0,Je.or)(h,...l.map(w=>(0,Je._)`${(0,fn.usePattern)(e,w)}.test(${y})`))),(0,Je.not)(h)}function _(y){t.code((0,Je._)`delete ${s}[${y}]`)}function E(y){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){_(y);return}if(r===!1){e.setParams({additionalProperty:y}),e.error(),u||t.break();return}if(typeof r=="object"&&!(0,hn.alwaysValidSchema)(i,r)){const h=t.name("valid");c.removeAdditional==="failing"?(g(y,h,!1),t.if((0,Je.not)(h),()=>{e.reset(),_(y)})):(g(y,h),u||t.if((0,Je.not)(h),()=>t.break()))}}function g(y,h,w){const N={keyword:"additionalProperties",dataProp:y,dataPropType:hn.Type.Str};w===!1&&Object.assign(N,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(N,h)}}};rs.default=Eg;var jo={};Object.defineProperty(jo,"__esModule",{value:!0});const Sg=Qe,Ui=ee,_s=L,zi=rs,bg={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&zi.default.code(new Sg.KeywordCxt(a,zi.default,"additionalProperties"));const i=(0,Ui.allSchemaProperties)(r);for(const p of i)a.definedProperties.add(p);a.opts.unevaluated&&i.length&&a.props!==!0&&(a.props=_s.mergeEvaluated.props(t,(0,_s.toHash)(i),a.props));const u=i.filter(p=>!(0,_s.alwaysValidSchema)(a,r[p]));if(u.length===0)return;const c=t.name("valid");for(const p of u)d(p)?l(p):(t.if((0,Ui.propertyInData)(t,s,p,a.opts.ownProperties)),l(p),a.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(p),e.ok(c);function d(p){return a.opts.useDefaults&&!a.compositeRule&&r[p].default!==void 0}function l(p){e.subschema({keyword:"properties",schemaProp:p,dataProp:p},c)}}};jo.default=bg;var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});const qi=ee,pn=Z,Ki=L,Gi=L,Pg={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:i}=a,u=(0,qi.allSchemaProperties)(r),c=u.filter(g=>(0,Ki.alwaysValidSchema)(a,r[g]));if(u.length===0||c.length===u.length&&(!a.opts.unevaluated||a.props===!0))return;const d=i.strictSchema&&!i.allowMatchingProperties&&s.properties,l=t.name("valid");a.props!==!0&&!(a.props instanceof pn.Name)&&(a.props=(0,Gi.evaluatedPropsToName)(t,a.props));const{props:p}=a;P();function P(){for(const g of u)d&&_(g),a.allErrors?E(g):(t.var(l,!0),E(g),t.if(l))}function _(g){for(const y in d)new RegExp(g).test(y)&&(0,Ki.checkStrictMode)(a,`property ${y} matches pattern ${g} (use allowMatchingProperties)`)}function E(g){t.forIn("key",n,y=>{t.if((0,pn._)`${(0,qi.usePattern)(e,g)}.test(${y})`,()=>{const h=c.includes(g);h||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:y,dataPropType:Gi.Type.Str},l),a.opts.unevaluated&&p!==!0?t.assign((0,pn._)`${p}[${y}]`,!0):!h&&!a.allErrors&&t.if((0,pn.not)(l),()=>t.break())})})}}};Ao.default=Pg;var ko={};Object.defineProperty(ko,"__esModule",{value:!0});const Ng=L,Og={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Ng.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};ko.default=Og;var Co={};Object.defineProperty(Co,"__esModule",{value:!0});const Rg=ee,Tg={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Rg.validateUnion,error:{message:"must match a schema in anyOf"}};Co.default=Tg;var Do={};Object.defineProperty(Do,"__esModule",{value:!0});const Tn=Z,Ig=L,jg={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Tn._)`{passingSchemas: ${e.passing}}`},Ag={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:jg,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,i=t.let("valid",!1),u=t.let("passing",null),c=t.name("_valid");e.setParams({passing:u}),t.block(d),e.result(i,()=>e.reset(),()=>e.error(!0));function d(){a.forEach((l,p)=>{let P;(0,Ig.alwaysValidSchema)(s,l)?t.var(c,!0):P=e.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},c),p>0&&t.if((0,Tn._)`${c} && ${i}`).assign(i,!1).assign(u,(0,Tn._)`[${u}, ${p}]`).else(),t.if(c,()=>{t.assign(i,!0),t.assign(u,p),P&&e.mergeEvaluated(P,Tn.Name)})})}}};Do.default=Ag;var Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});const kg=L,Cg={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,i)=>{if((0,kg.alwaysValidSchema)(n,a))return;const u=e.subschema({keyword:"allOf",schemaProp:i},s);e.ok(s),e.mergeEvaluated(u)})}};Mo.default=Cg;var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});const zn=Z,Pu=L,Dg={message:({params:e})=>(0,zn.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,zn._)`{failingKeyword: ${e.ifClause}}`},Mg={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Dg,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Pu.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=Hi(n,"then"),a=Hi(n,"else");if(!s&&!a)return;const i=t.let("valid",!0),u=t.name("_valid");if(c(),e.reset(),s&&a){const l=t.let("ifClause");e.setParams({ifClause:l}),t.if(u,d("then",l),d("else",l))}else s?t.if(u,d("then")):t.if((0,zn.not)(u),d("else"));e.pass(i,()=>e.error(!0));function c(){const l=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(l)}function d(l,p){return()=>{const P=e.subschema({keyword:l},u);t.assign(i,u),e.mergeValidEvaluated(P,i),p?t.assign(p,(0,zn._)`${l}`):e.setParams({ifClause:l})}}}};function Hi(e,t){const r=e.schema[t];return r!==void 0&&!(0,Pu.alwaysValidSchema)(e,r)}Lo.default=Mg;var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});const Lg=L,Fg={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Lg.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Fo.default=Fg;Object.defineProperty(No,"__esModule",{value:!0});const Vg=gr,Ug=Oo,zg=vr,qg=Ro,Kg=To,Gg=Su,Hg=Io,Wg=rs,Jg=jo,Bg=Ao,Xg=ko,Yg=Co,Qg=Do,Zg=Mo,xg=Lo,e0=Fo;function t0(e=!1){const t=[Xg.default,Yg.default,Qg.default,Zg.default,xg.default,e0.default,Hg.default,Wg.default,Gg.default,Jg.default,Bg.default];return e?t.push(Ug.default,qg.default):t.push(Vg.default,zg.default),t.push(Kg.default),t}No.default=t0;var Vo={},Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});const $e=Z,r0={message:({schemaCode:e})=>(0,$e.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,$e._)`{format: ${e}}`},n0={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r0,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:i,it:u}=e,{opts:c,errSchemaPath:d,schemaEnv:l,self:p}=u;if(!c.validateFormats)return;s?P():_();function P(){const E=r.scopeValue("formats",{ref:p.formats,code:c.code.formats}),g=r.const("fDef",(0,$e._)`${E}[${i}]`),y=r.let("fType"),h=r.let("format");r.if((0,$e._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>r.assign(y,(0,$e._)`${g}.type || "string"`).assign(h,(0,$e._)`${g}.validate`),()=>r.assign(y,(0,$e._)`"string"`).assign(h,g)),e.fail$data((0,$e.or)(w(),N()));function w(){return c.strictSchema===!1?$e.nil:(0,$e._)`${i} && !${h}`}function N(){const R=l.$async?(0,$e._)`(${g}.async ? await ${h}(${n}) : ${h}(${n}))`:(0,$e._)`${h}(${n})`,I=(0,$e._)`(typeof ${h} == "function" ? ${R} : ${h}.test(${n}))`;return(0,$e._)`${h} && ${h} !== true && ${y} === ${t} && !${I}`}}function _(){const E=p.formats[a];if(!E){w();return}if(E===!0)return;const[g,y,h]=N(E);g===t&&e.pass(R());function w(){if(c.strictSchema===!1){p.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${a}" ignored in schema at path "${d}"`}}function N(I){const z=I instanceof RegExp?(0,$e.regexpCode)(I):c.code.formats?(0,$e._)`${c.code.formats}${(0,$e.getProperty)(a)}`:void 0,W=r.scopeValue("formats",{key:a,ref:I,code:z});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,$e._)`${W}.validate`]:["string",I,W]}function R(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!l.$async)throw new Error("async format in sync schema");return(0,$e._)`await ${h}(${n})`}return typeof y=="function"?(0,$e._)`${h}(${n})`:(0,$e._)`${h}.test(${n})`}}}};Uo.default=n0;Object.defineProperty(Vo,"__esModule",{value:!0});const s0=Uo,a0=[s0.default];Vo.default=a0;var $r={};Object.defineProperty($r,"__esModule",{value:!0});$r.contentVocabulary=$r.metadataVocabulary=void 0;$r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];$r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(uo,"__esModule",{value:!0});const o0=fo,i0=po,c0=No,l0=Vo,Wi=$r,u0=[o0.default,i0.default,(0,c0.default)(),l0.default,Wi.metadataVocabulary,Wi.contentVocabulary];uo.default=u0;var zo={},ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.DiscrError=void 0;var Ji;(function(e){e.Tag="tag",e.Mapping="mapping"})(Ji||(ns.DiscrError=Ji={}));Object.defineProperty(zo,"__esModule",{value:!0});const ar=Z,Gs=ns,Bi=Le,d0=xn(),f0=L,h0={message:({params:{discrError:e,tagName:t}})=>e===Gs.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,ar._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},p0={keyword:"discriminator",type:"object",schemaType:"object",error:h0,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:i}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),d=t.const("tag",(0,ar._)`${r}${(0,ar.getProperty)(u)}`);t.if((0,ar._)`typeof ${d} == "string"`,()=>l(),()=>e.error(!1,{discrError:Gs.DiscrError.Tag,tag:d,tagName:u})),e.ok(c);function l(){const _=P();t.if(!1);for(const E in _)t.elseIf((0,ar._)`${d} === ${E}`),t.assign(c,p(_[E]));t.else(),e.error(!1,{discrError:Gs.DiscrError.Mapping,tag:d,tagName:u}),t.endIf()}function p(_){const E=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:_},E);return e.mergeEvaluated(g,ar.Name),E}function P(){var _;const E={},g=h(s);let y=!0;for(let R=0;R<i.length;R++){let I=i[R];if(I!=null&&I.$ref&&!(0,f0.schemaHasRulesButRef)(I,a.self.RULES)){const W=I.$ref;if(I=Bi.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,W),I instanceof Bi.SchemaEnv&&(I=I.schema),I===void 0)throw new d0.default(a.opts.uriResolver,a.baseId,W)}const z=(_=I==null?void 0:I.properties)===null||_===void 0?void 0:_[u];if(typeof z!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);y=y&&(g||h(I)),w(z,R)}if(!y)throw new Error(`discriminator: "${u}" must be required`);return E;function h({required:R}){return Array.isArray(R)&&R.includes(u)}function w(R,I){if(R.const)N(R.const,I);else if(R.enum)for(const z of R.enum)N(z,I);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function N(R,I){if(typeof R!="string"||R in E)throw new Error(`discriminator: "${u}" values must be unique strings`);E[R]=I}}}};zo.default=p0;const m0="http://json-schema.org/draft-07/schema#",$0="http://json-schema.org/draft-07/schema#",y0="Core schema meta-schema",_0={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},g0=["object","boolean"],v0={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},w0={$schema:m0,$id:$0,title:y0,definitions:_0,type:g0,properties:v0,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=Vl,n=uo,s=zo,a=w0,i=["/properties"],u="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(E=>this.addVocabulary(E)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const E=this.opts.$data?this.$dataMetaSchema(a,i):a;this.addMetaSchema(E,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var d=Qe;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var l=Z;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var p=io();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return p.default}});var P=xn();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return P.default}})})(Ls,Ls.exports);var E0=Ls.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=E0,r=Z,n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},a={message:({keyword:u,schemaCode:c})=>r.str`should be ${s[u].okStr} ${c}`,params:({keyword:u,schemaCode:c})=>r._`{comparison: ${s[u].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(u){const{gen:c,data:d,schemaCode:l,keyword:p,it:P}=u,{opts:_,self:E}=P;if(!_.validateFormats)return;const g=new t.KeywordCxt(P,E.RULES.all.format.definition,"format");g.$data?y():h();function y(){const N=c.scopeValue("formats",{ref:E.formats,code:_.code.formats}),R=c.const("fmt",r._`${N}[${g.schemaCode}]`);u.fail$data(r.or(r._`typeof ${R} != "object"`,r._`${R} instanceof RegExp`,r._`typeof ${R}.compare != "function"`,w(R)))}function h(){const N=g.schema,R=E.formats[N];if(!R||R===!0)return;if(typeof R!="object"||R instanceof RegExp||typeof R.compare!="function")throw new Error(`"${p}": format "${N}" does not define "compare" function`);const I=c.scopeValue("formats",{key:N,ref:R,code:_.code.formats?r._`${_.code.formats}${r.getProperty(N)}`:void 0});u.fail$data(w(I))}function w(N){return r._`${N}.compare(${d}, ${l}) ${s[p].fail} 0`}},dependencies:["format"]};const i=u=>(u.addKeyword(e.formatLimitDefinition),u);e.default=i})(Fl);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Ll,n=Fl,s=Z,a=new s.Name("fullFormats"),i=new s.Name("fastFormats"),u=(d,l={keywords:!0})=>{if(Array.isArray(l))return c(d,l,r.fullFormats,a),d;const[p,P]=l.mode==="fast"?[r.fastFormats,i]:[r.fullFormats,a],_=l.formats||r.formatNames;return c(d,_,p,P),l.keywords&&n.default(d),d};u.get=(d,l="full")=>{const P=(l==="fast"?r.fastFormats:r.fullFormats)[d];if(!P)throw new Error(`Unknown format "${d}"`);return P};function c(d,l,p,P){var _,E;(_=(E=d.opts.code).formats)!==null&&_!==void 0||(E.formats=s._`require("ajv-formats/dist/formats").${P}`);for(const g of l)d.addFormat(g,p[g])}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u})(Ms,Ms.exports);var S0=Ms.exports;const b0=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const s=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!P0(s,a)&&n||Object.defineProperty(e,r,a)},P0=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},N0=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},O0=(e,t)=>`/* Wrapped ${e}*/
${t}`,R0=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),T0=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),I0=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,s=O0.bind(null,n,t.toString());Object.defineProperty(s,"name",T0),Object.defineProperty(e,"toString",{...R0,value:s})},j0=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=e;for(const s of Reflect.ownKeys(t))b0(e,t,s,r);return N0(e,t),I0(e,t,n),e};var A0=j0;const k0=A0;var C0=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:n=!1,after:s=!0}=t;if(!n&&!s)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let a,i;const u=function(...c){const d=this,l=()=>{a=void 0,s&&(i=e.apply(d,c))},p=n&&!a;return clearTimeout(a),a=setTimeout(l,r),p&&(i=e.apply(d,c)),i};return k0(u,e),u.cancel=()=>{a&&(clearTimeout(a),a=void 0)},u},Hs={exports:{}};const D0="2.0.0",Nu=256,M0=Number.MAX_SAFE_INTEGER||9007199254740991,L0=16,F0=Nu-6,V0=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var ss={MAX_LENGTH:Nu,MAX_SAFE_COMPONENT_LENGTH:L0,MAX_SAFE_BUILD_LENGTH:F0,MAX_SAFE_INTEGER:M0,RELEASE_TYPES:V0,SEMVER_SPEC_VERSION:D0,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const U0=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var as=U0;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=ss,a=as;t=e.exports={};const i=t.re=[],u=t.safeRe=[],c=t.src=[],d=t.safeSrc=[],l=t.t={};let p=0;const P="[a-zA-Z0-9-]",_=[["\\s",1],["\\d",s],[P,n]],E=y=>{for(const[h,w]of _)y=y.split(`${h}*`).join(`${h}{0,${w}}`).split(`${h}+`).join(`${h}{1,${w}}`);return y},g=(y,h,w)=>{const N=E(h),R=p++;a(y,R,h),l[y]=R,c[R]=h,d[R]=N,i[R]=new RegExp(h,w?"g":void 0),u[R]=new RegExp(N,w?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${P}*`),g("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[l.NONNUMERICIDENTIFIER]}|${c[l.NUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NONNUMERICIDENTIFIER]}|${c[l.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${P}+`),g("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),g("FULL",`^${c[l.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),g("LOOSE",`^${c[l.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),g("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${c[l.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",c[l.COERCEPLAIN]+`(?:${c[l.PRERELEASE]})?(?:${c[l.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",c[l.COERCE],!0),g("COERCERTLFULL",c[l.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Hs,Hs.exports);var Xr=Hs.exports;const z0=Object.freeze({loose:!0}),q0=Object.freeze({}),K0=e=>e?typeof e!="object"?z0:e:q0;var qo=K0;const Xi=/^[0-9]+$/,Ou=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;const r=Xi.test(e),n=Xi.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},G0=(e,t)=>Ou(t,e);var Ru={compareIdentifiers:Ou,rcompareIdentifiers:G0};const mn=as,{MAX_LENGTH:Yi,MAX_SAFE_INTEGER:$n}=ss,{safeRe:yn,t:_n}=Xr,H0=qo,{compareIdentifiers:gs}=Ru;let W0=class et{constructor(t,r){if(r=H0(r),t instanceof et){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Yi)throw new TypeError(`version is longer than ${Yi} characters`);mn("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?yn[_n.LOOSE]:yn[_n.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>$n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>$n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>$n||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const a=+s;if(a>=0&&a<$n)return a}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(mn("SemVer.compare",this.version,this.options,t),!(t instanceof et)){if(typeof t=="string"&&t===this.version)return 0;t=new et(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof et||(t=new et(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof et||(t=new et(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(mn("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return gs(n,s)}while(++r)}compareBuild(t){t instanceof et||(t=new et(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(mn("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return gs(n,s)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const s=`-${r}`.match(this.options.loose?yn[_n.PRERELEASELOOSE]:yn[_n.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let a=[r,s];n===!1&&(a=[r]),gs(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Ae=W0;const Qi=Ae,J0=(e,t,r=!1)=>{if(e instanceof Qi)return e;try{return new Qi(e,t)}catch(n){if(!r)return null;throw n}};var wr=J0;const B0=wr,X0=(e,t)=>{const r=B0(e,t);return r?r.version:null};var Y0=X0;const Q0=wr,Z0=(e,t)=>{const r=Q0(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var x0=Z0;const Zi=Ae,ev=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new Zi(e instanceof Zi?e.version:e,r).inc(t,n,s).version}catch{return null}};var tv=ev;const xi=wr,rv=(e,t)=>{const r=xi(e,null,!0),n=xi(t,null,!0),s=r.compare(n);if(s===0)return null;const a=s>0,i=a?r:n,u=a?n:r,c=!!i.prerelease.length;if(!!u.prerelease.length&&!c){if(!u.patch&&!u.minor)return"major";if(u.compareMain(i)===0)return u.minor&&!u.patch?"minor":"patch"}const l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};var nv=rv;const sv=Ae,av=(e,t)=>new sv(e,t).major;var ov=av;const iv=Ae,cv=(e,t)=>new iv(e,t).minor;var lv=cv;const uv=Ae,dv=(e,t)=>new uv(e,t).patch;var fv=dv;const hv=wr,pv=(e,t)=>{const r=hv(e,t);return r&&r.prerelease.length?r.prerelease:null};var mv=pv;const ec=Ae,$v=(e,t,r)=>new ec(e,r).compare(new ec(t,r));var Ze=$v;const yv=Ze,_v=(e,t,r)=>yv(t,e,r);var gv=_v;const vv=Ze,wv=(e,t)=>vv(e,t,!0);var Ev=wv;const tc=Ae,Sv=(e,t,r)=>{const n=new tc(e,r),s=new tc(t,r);return n.compare(s)||n.compareBuild(s)};var Ko=Sv;const bv=Ko,Pv=(e,t)=>e.sort((r,n)=>bv(r,n,t));var Nv=Pv;const Ov=Ko,Rv=(e,t)=>e.sort((r,n)=>Ov(n,r,t));var Tv=Rv;const Iv=Ze,jv=(e,t,r)=>Iv(e,t,r)>0;var os=jv;const Av=Ze,kv=(e,t,r)=>Av(e,t,r)<0;var Go=kv;const Cv=Ze,Dv=(e,t,r)=>Cv(e,t,r)===0;var Tu=Dv;const Mv=Ze,Lv=(e,t,r)=>Mv(e,t,r)!==0;var Iu=Lv;const Fv=Ze,Vv=(e,t,r)=>Fv(e,t,r)>=0;var Ho=Vv;const Uv=Ze,zv=(e,t,r)=>Uv(e,t,r)<=0;var Wo=zv;const qv=Tu,Kv=Iu,Gv=os,Hv=Ho,Wv=Go,Jv=Wo,Bv=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return qv(e,r,n);case"!=":return Kv(e,r,n);case">":return Gv(e,r,n);case">=":return Hv(e,r,n);case"<":return Wv(e,r,n);case"<=":return Jv(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var ju=Bv;const Xv=Ae,Yv=wr,{safeRe:gn,t:vn}=Xr,Qv=(e,t)=>{if(e instanceof Xv)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?gn[vn.COERCEFULL]:gn[vn.COERCE]);else{const c=t.includePrerelease?gn[vn.COERCERTLFULL]:gn[vn.COERCERTL];let d;for(;(d=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||d.index+d[0].length!==r.index+r[0].length)&&(r=d),c.lastIndex=d.index+d[1].length+d[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",a=r[4]||"0",i=t.includePrerelease&&r[5]?`-${r[5]}`:"",u=t.includePrerelease&&r[6]?`+${r[6]}`:"";return Yv(`${n}.${s}.${a}${i}${u}`,t)};var Zv=Qv;class xv{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}}var ew=xv,vs,rc;function xe(){if(rc)return vs;rc=1;const e=/\s+/g;class t{constructor(k,U){if(U=s(U),k instanceof t)return k.loose===!!U.loose&&k.includePrerelease===!!U.includePrerelease?k:new t(k.raw,U);if(k instanceof a)return this.raw=k.value,this.set=[[k]],this.formatted=void 0,this;if(this.options=U,this.loose=!!U.loose,this.includePrerelease=!!U.includePrerelease,this.raw=k.trim().replace(e," "),this.set=this.raw.split("||").map(D=>this.parseRange(D.trim())).filter(D=>D.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const D=this.set[0];if(this.set=this.set.filter(O=>!g(O[0])),this.set.length===0)this.set=[D];else if(this.set.length>1){for(const O of this.set)if(O.length===1&&y(O[0])){this.set=[O];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let k=0;k<this.set.length;k++){k>0&&(this.formatted+="||");const U=this.set[k];for(let D=0;D<U.length;D++)D>0&&(this.formatted+=" "),this.formatted+=U[D].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(k){const D=((this.options.includePrerelease&&_)|(this.options.loose&&E))+":"+k,O=n.get(D);if(O)return O;const T=this.options.loose,v=T?c[d.HYPHENRANGELOOSE]:c[d.HYPHENRANGE];k=k.replace(v,Q(this.options.includePrerelease)),i("hyphen replace",k),k=k.replace(c[d.COMPARATORTRIM],l),i("comparator trim",k),k=k.replace(c[d.TILDETRIM],p),i("tilde trim",k),k=k.replace(c[d.CARETTRIM],P),i("caret trim",k);let m=k.split(" ").map(f=>w(f,this.options)).join(" ").split(/\s+/).map(f=>ne(f,this.options));T&&(m=m.filter(f=>(i("loose invalid filter",f,this.options),!!f.match(c[d.COMPARATORLOOSE])))),i("range list",m);const S=new Map,$=m.map(f=>new a(f,this.options));for(const f of $){if(g(f))return[f];S.set(f.value,f)}S.size>1&&S.has("")&&S.delete("");const o=[...S.values()];return n.set(D,o),o}intersects(k,U){if(!(k instanceof t))throw new TypeError("a Range is required");return this.set.some(D=>h(D,U)&&k.set.some(O=>h(O,U)&&D.every(T=>O.every(v=>T.intersects(v,U)))))}test(k){if(!k)return!1;if(typeof k=="string")try{k=new u(k,this.options)}catch{return!1}for(let U=0;U<this.set.length;U++)if(de(this.set[U],k,this.options))return!0;return!1}}vs=t;const r=ew,n=new r,s=qo,a=is(),i=as,u=Ae,{safeRe:c,t:d,comparatorTrimReplace:l,tildeTrimReplace:p,caretTrimReplace:P}=Xr,{FLAG_INCLUDE_PRERELEASE:_,FLAG_LOOSE:E}=ss,g=C=>C.value==="<0.0.0-0",y=C=>C.value==="",h=(C,k)=>{let U=!0;const D=C.slice();let O=D.pop();for(;U&&D.length;)U=D.every(T=>O.intersects(T,k)),O=D.pop();return U},w=(C,k)=>(C=C.replace(c[d.BUILD],""),i("comp",C,k),C=z(C,k),i("caret",C),C=R(C,k),i("tildes",C),C=ue(C,k),i("xrange",C),C=H(C,k),i("stars",C),C),N=C=>!C||C.toLowerCase()==="x"||C==="*",R=(C,k)=>C.trim().split(/\s+/).map(U=>I(U,k)).join(" "),I=(C,k)=>{const U=k.loose?c[d.TILDELOOSE]:c[d.TILDE];return C.replace(U,(D,O,T,v,m)=>{i("tilde",C,D,O,T,v,m);let S;return N(O)?S="":N(T)?S=`>=${O}.0.0 <${+O+1}.0.0-0`:N(v)?S=`>=${O}.${T}.0 <${O}.${+T+1}.0-0`:m?(i("replaceTilde pr",m),S=`>=${O}.${T}.${v}-${m} <${O}.${+T+1}.0-0`):S=`>=${O}.${T}.${v} <${O}.${+T+1}.0-0`,i("tilde return",S),S})},z=(C,k)=>C.trim().split(/\s+/).map(U=>W(U,k)).join(" "),W=(C,k)=>{i("caret",C,k);const U=k.loose?c[d.CARETLOOSE]:c[d.CARET],D=k.includePrerelease?"-0":"";return C.replace(U,(O,T,v,m,S)=>{i("caret",C,O,T,v,m,S);let $;return N(T)?$="":N(v)?$=`>=${T}.0.0${D} <${+T+1}.0.0-0`:N(m)?T==="0"?$=`>=${T}.${v}.0${D} <${T}.${+v+1}.0-0`:$=`>=${T}.${v}.0${D} <${+T+1}.0.0-0`:S?(i("replaceCaret pr",S),T==="0"?v==="0"?$=`>=${T}.${v}.${m}-${S} <${T}.${v}.${+m+1}-0`:$=`>=${T}.${v}.${m}-${S} <${T}.${+v+1}.0-0`:$=`>=${T}.${v}.${m}-${S} <${+T+1}.0.0-0`):(i("no pr"),T==="0"?v==="0"?$=`>=${T}.${v}.${m}${D} <${T}.${v}.${+m+1}-0`:$=`>=${T}.${v}.${m}${D} <${T}.${+v+1}.0-0`:$=`>=${T}.${v}.${m} <${+T+1}.0.0-0`),i("caret return",$),$})},ue=(C,k)=>(i("replaceXRanges",C,k),C.split(/\s+/).map(U=>V(U,k)).join(" ")),V=(C,k)=>{C=C.trim();const U=k.loose?c[d.XRANGELOOSE]:c[d.XRANGE];return C.replace(U,(D,O,T,v,m,S)=>{i("xRange",C,D,O,T,v,m,S);const $=N(T),o=$||N(v),f=o||N(m),b=f;return O==="="&&b&&(O=""),S=k.includePrerelease?"-0":"",$?O===">"||O==="<"?D="<0.0.0-0":D="*":O&&b?(o&&(v=0),m=0,O===">"?(O=">=",o?(T=+T+1,v=0,m=0):(v=+v+1,m=0)):O==="<="&&(O="<",o?T=+T+1:v=+v+1),O==="<"&&(S="-0"),D=`${O+T}.${v}.${m}${S}`):o?D=`>=${T}.0.0${S} <${+T+1}.0.0-0`:f&&(D=`>=${T}.${v}.0${S} <${T}.${+v+1}.0-0`),i("xRange return",D),D})},H=(C,k)=>(i("replaceStars",C,k),C.trim().replace(c[d.STAR],"")),ne=(C,k)=>(i("replaceGTE0",C,k),C.trim().replace(c[k.includePrerelease?d.GTE0PRE:d.GTE0],"")),Q=C=>(k,U,D,O,T,v,m,S,$,o,f,b)=>(N(D)?U="":N(O)?U=`>=${D}.0.0${C?"-0":""}`:N(T)?U=`>=${D}.${O}.0${C?"-0":""}`:v?U=`>=${U}`:U=`>=${U}${C?"-0":""}`,N($)?S="":N(o)?S=`<${+$+1}.0.0-0`:N(f)?S=`<${$}.${+o+1}.0-0`:b?S=`<=${$}.${o}.${f}-${b}`:C?S=`<${$}.${o}.${+f+1}-0`:S=`<=${S}`,`${U} ${S}`.trim()),de=(C,k,U)=>{for(let D=0;D<C.length;D++)if(!C[D].test(k))return!1;if(k.prerelease.length&&!U.includePrerelease){for(let D=0;D<C.length;D++)if(i(C[D].semver),C[D].semver!==a.ANY&&C[D].semver.prerelease.length>0){const O=C[D].semver;if(O.major===k.major&&O.minor===k.minor&&O.patch===k.patch)return!0}return!1}return!0};return vs}var ws,nc;function is(){if(nc)return ws;nc=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(l,p){if(p=r(p),l instanceof t){if(l.loose===!!p.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),i("comparator",l,p),this.options=p,this.loose=!!p.loose,this.parse(l),this.semver===e?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}parse(l){const p=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],P=l.match(p);if(!P)throw new TypeError(`Invalid comparator: ${l}`);this.operator=P[1]!==void 0?P[1]:"",this.operator==="="&&(this.operator=""),P[2]?this.semver=new u(P[2],this.options.loose):this.semver=e}toString(){return this.value}test(l){if(i("Comparator.test",l,this.options.loose),this.semver===e||l===e)return!0;if(typeof l=="string")try{l=new u(l,this.options)}catch{return!1}return a(l,this.operator,this.semver,this.options)}intersects(l,p){if(!(l instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(l.value,p).test(this.value):l.operator===""?l.value===""?!0:new c(this.value,p).test(l.semver):(p=r(p),p.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||a(this.semver,"<",l.semver,p)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||a(this.semver,">",l.semver,p)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}ws=t;const r=qo,{safeRe:n,t:s}=Xr,a=ju,i=as,u=Ae,c=xe();return ws}const tw=xe(),rw=(e,t,r)=>{try{t=new tw(t,r)}catch{return!1}return t.test(e)};var cs=rw;const nw=xe(),sw=(e,t)=>new nw(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var aw=sw;const ow=Ae,iw=xe(),cw=(e,t,r)=>{let n=null,s=null,a=null;try{a=new iw(t,r)}catch{return null}return e.forEach(i=>{a.test(i)&&(!n||s.compare(i)===-1)&&(n=i,s=new ow(n,r))}),n};var lw=cw;const uw=Ae,dw=xe(),fw=(e,t,r)=>{let n=null,s=null,a=null;try{a=new dw(t,r)}catch{return null}return e.forEach(i=>{a.test(i)&&(!n||s.compare(i)===1)&&(n=i,s=new uw(n,r))}),n};var hw=fw;const Es=Ae,pw=xe(),sc=os,mw=(e,t)=>{e=new pw(e,t);let r=new Es("0.0.0");if(e.test(r)||(r=new Es("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const s=e.set[n];let a=null;s.forEach(i=>{const u=new Es(i.semver.version);switch(i.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!a||sc(u,a))&&(a=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),a&&(!r||sc(r,a))&&(r=a)}return r&&e.test(r)?r:null};var $w=mw;const yw=xe(),_w=(e,t)=>{try{return new yw(e,t).range||"*"}catch{return null}};var gw=_w;const vw=Ae,Au=is(),{ANY:ww}=Au,Ew=xe(),Sw=cs,ac=os,oc=Go,bw=Wo,Pw=Ho,Nw=(e,t,r,n)=>{e=new vw(e,n),t=new Ew(t,n);let s,a,i,u,c;switch(r){case">":s=ac,a=bw,i=oc,u=">",c=">=";break;case"<":s=oc,a=Pw,i=ac,u="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Sw(e,t,n))return!1;for(let d=0;d<t.set.length;++d){const l=t.set[d];let p=null,P=null;if(l.forEach(_=>{_.semver===ww&&(_=new Au(">=0.0.0")),p=p||_,P=P||_,s(_.semver,p.semver,n)?p=_:i(_.semver,P.semver,n)&&(P=_)}),p.operator===u||p.operator===c||(!P.operator||P.operator===u)&&a(e,P.semver))return!1;if(P.operator===c&&i(e,P.semver))return!1}return!0};var Jo=Nw;const Ow=Jo,Rw=(e,t,r)=>Ow(e,t,">",r);var Tw=Rw;const Iw=Jo,jw=(e,t,r)=>Iw(e,t,"<",r);var Aw=jw;const ic=xe(),kw=(e,t,r)=>(e=new ic(e,r),t=new ic(t,r),e.intersects(t,r));var Cw=kw;const Dw=cs,Mw=Ze;var Lw=(e,t,r)=>{const n=[];let s=null,a=null;const i=e.sort((l,p)=>Mw(l,p,r));for(const l of i)Dw(l,t,r)?(a=l,s||(s=l)):(a&&n.push([s,a]),a=null,s=null);s&&n.push([s,null]);const u=[];for(const[l,p]of n)l===p?u.push(l):!p&&l===i[0]?u.push("*"):p?l===i[0]?u.push(`<=${p}`):u.push(`${l} - ${p}`):u.push(`>=${l}`);const c=u.join(" || "),d=typeof t.raw=="string"?t.raw:String(t);return c.length<d.length?c:t};const cc=xe(),Bo=is(),{ANY:Ss}=Bo,Tr=cs,Xo=Ze,Fw=(e,t,r={})=>{if(e===t)return!0;e=new cc(e,r),t=new cc(t,r);let n=!1;e:for(const s of e.set){for(const a of t.set){const i=Uw(s,a,r);if(n=n||i!==null,i)continue e}if(n)return!1}return!0},Vw=[new Bo(">=0.0.0-0")],lc=[new Bo(">=0.0.0")],Uw=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Ss){if(t.length===1&&t[0].semver===Ss)return!0;r.includePrerelease?e=Vw:e=lc}if(t.length===1&&t[0].semver===Ss){if(r.includePrerelease)return!0;t=lc}const n=new Set;let s,a;for(const _ of e)_.operator===">"||_.operator===">="?s=uc(s,_,r):_.operator==="<"||_.operator==="<="?a=dc(a,_,r):n.add(_.semver);if(n.size>1)return null;let i;if(s&&a){if(i=Xo(s.semver,a.semver,r),i>0)return null;if(i===0&&(s.operator!==">="||a.operator!=="<="))return null}for(const _ of n){if(s&&!Tr(_,String(s),r)||a&&!Tr(_,String(a),r))return null;for(const E of t)if(!Tr(_,String(E),r))return!1;return!0}let u,c,d,l,p=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,P=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;p&&p.prerelease.length===1&&a.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(const _ of t){if(l=l||_.operator===">"||_.operator===">=",d=d||_.operator==="<"||_.operator==="<=",s){if(P&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===P.major&&_.semver.minor===P.minor&&_.semver.patch===P.patch&&(P=!1),_.operator===">"||_.operator===">="){if(u=uc(s,_,r),u===_&&u!==s)return!1}else if(s.operator===">="&&!Tr(s.semver,String(_),r))return!1}if(a){if(p&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===p.major&&_.semver.minor===p.minor&&_.semver.patch===p.patch&&(p=!1),_.operator==="<"||_.operator==="<="){if(c=dc(a,_,r),c===_&&c!==a)return!1}else if(a.operator==="<="&&!Tr(a.semver,String(_),r))return!1}if(!_.operator&&(a||s)&&i!==0)return!1}return!(s&&d&&!a&&i!==0||a&&l&&!s&&i!==0||P||p)},uc=(e,t,r)=>{if(!e)return t;const n=Xo(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},dc=(e,t,r)=>{if(!e)return t;const n=Xo(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var zw=Fw;const bs=Xr,fc=ss,qw=Ae,hc=Ru,Kw=wr,Gw=Y0,Hw=x0,Ww=tv,Jw=nv,Bw=ov,Xw=lv,Yw=fv,Qw=mv,Zw=Ze,xw=gv,eE=Ev,tE=Ko,rE=Nv,nE=Tv,sE=os,aE=Go,oE=Tu,iE=Iu,cE=Ho,lE=Wo,uE=ju,dE=Zv,fE=is(),hE=xe(),pE=cs,mE=aw,$E=lw,yE=hw,_E=$w,gE=gw,vE=Jo,wE=Tw,EE=Aw,SE=Cw,bE=Lw,PE=zw;var NE={parse:Kw,valid:Gw,clean:Hw,inc:Ww,diff:Jw,major:Bw,minor:Xw,patch:Yw,prerelease:Qw,compare:Zw,rcompare:xw,compareLoose:eE,compareBuild:tE,sort:rE,rsort:nE,gt:sE,lt:aE,eq:oE,neq:iE,gte:cE,lte:lE,cmp:uE,coerce:dE,Comparator:fE,Range:hE,satisfies:pE,toComparators:mE,maxSatisfying:$E,minSatisfying:yE,minVersion:_E,validRange:gE,outside:vE,gtr:wE,ltr:EE,intersects:SE,simplifyRange:bE,subset:PE,SemVer:qw,re:bs.re,src:bs.src,tokens:bs.t,SEMVER_SPEC_VERSION:fc.SEMVER_SPEC_VERSION,RELEASE_TYPES:fc.RELEASE_TYPES,compareIdentifiers:hc.compareIdentifiers,rcompareIdentifiers:hc.rcompareIdentifiers},ls={exports:{}},Yo={exports:{}};const ku=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};Yo.exports=ku;Yo.exports.default=ku;var OE=Yo.exports;const RE=OE,qn=new WeakMap,Cu=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const s=e.displayName||e.name||"<anonymous>",a=function(...i){if(qn.set(a,++n),n===1)r=e.apply(this,i),e=null;else if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return RE(a,e),qn.set(a,n),a};ls.exports=Cu;ls.exports.default=Cu;ls.exports.callCount=e=>{if(!qn.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return qn.get(e)};var TE=ls.exports;(function(e,t){var r=Yr&&Yr.__classPrivateFieldSet||function(D,O,T,v,m){if(v==="m")throw new TypeError("Private method is not writable");if(v==="a"&&!m)throw new TypeError("Private accessor was defined without a setter");if(typeof O=="function"?D!==O||!m:!O.has(D))throw new TypeError("Cannot write private member to an object whose class did not declare it");return v==="a"?m.call(D,T):m?m.value=T:O.set(D,T),T},n=Yr&&Yr.__classPrivateFieldGet||function(D,O,T,v){if(T==="a"&&!v)throw new TypeError("Private accessor was defined without a getter");if(typeof O=="function"?D!==O||!v:!O.has(D))throw new TypeError("Cannot read private member from an object whose class did not declare it");return T==="m"?v:T==="a"?v.call(D):v?v.value:O.get(D)},s,a,i,u,c,d;Object.defineProperty(t,"__esModule",{value:!0});const l=vc,p=Js,P=pt,_=Du,E=Mu,g=Lu,y=Ku,h=ed,w=sd,N=st,R=h$,I=S0,z=C0,W=NE,ue=TE,V="aes-256-cbc",H=()=>Object.create(null),ne=D=>D!=null;let Q="";try{delete require.cache[__filename],Q=P.dirname((a=(s=e.parent)===null||s===void 0?void 0:s.filename)!==null&&a!==void 0?a:".")}catch{}const de=(D,O)=>{const T=new Set(["undefined","symbol","function"]),v=typeof O;if(T.has(v))throw new TypeError(`Setting a value of type \`${v}\` for key \`${D}\` is not allowed as it's not supported by JSON`)},C="__internal__",k=`${C}.migrations.version`;class U{constructor(O={}){var T;i.set(this,void 0),u.set(this,void 0),c.set(this,void 0),d.set(this,{}),this._deserialize=f=>JSON.parse(f),this._serialize=f=>JSON.stringify(f,void 0,"	");const v={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...O},m=ue(()=>{const f=h.sync({cwd:Q}),b=f&&JSON.parse(p.readFileSync(f,"utf8"));return b??{}});if(!v.cwd){if(v.projectName||(v.projectName=m().name),!v.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");v.cwd=w(v.projectName,{suffix:v.projectSuffix}).config}if(r(this,c,v,"f"),v.schema){if(typeof v.schema!="object")throw new TypeError("The `schema` option must be an object.");const f=new R.default({allErrors:!0,useDefaults:!0});(0,I.default)(f);const b={type:"object",properties:v.schema};r(this,i,f.compile(b),"f");for(const[j,A]of Object.entries(v.schema))A!=null&&A.default&&(n(this,d,"f")[j]=A.default)}v.defaults&&r(this,d,{...n(this,d,"f"),...v.defaults},"f"),v.serialize&&(this._serialize=v.serialize),v.deserialize&&(this._deserialize=v.deserialize),this.events=new g.EventEmitter,r(this,u,v.encryptionKey,"f");const S=v.fileExtension?`.${v.fileExtension}`:"";this.path=P.resolve(v.cwd,`${(T=v.configName)!==null&&T!==void 0?T:"config"}${S}`);const $=this.store,o=Object.assign(H(),v.defaults,$);this._validate(o);try{E.deepEqual($,o)}catch{this.store=o}if(v.watch&&this._watch(),v.migrations){if(v.projectVersion||(v.projectVersion=m().version),!v.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(v.migrations,v.projectVersion,v.beforeEachMigration)}}get(O,T){if(n(this,c,"f").accessPropertiesByDotNotation)return this._get(O,T);const{store:v}=this;return O in v?v[O]:T}set(O,T){if(typeof O!="string"&&typeof O!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof O}`);if(typeof O!="object"&&T===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(O))throw new TypeError(`Please don't use the ${C} key, as it's used to manage this module internal operations.`);const{store:v}=this,m=(S,$)=>{de(S,$),n(this,c,"f").accessPropertiesByDotNotation?y.set(v,S,$):v[S]=$};if(typeof O=="object"){const S=O;for(const[$,o]of Object.entries(S))m($,o)}else m(O,T);this.store=v}has(O){return n(this,c,"f").accessPropertiesByDotNotation?y.has(this.store,O):O in this.store}reset(...O){for(const T of O)ne(n(this,d,"f")[T])&&this.set(T,n(this,d,"f")[T])}delete(O){const{store:T}=this;n(this,c,"f").accessPropertiesByDotNotation?y.delete(T,O):delete T[O],this.store=T}clear(){this.store=H();for(const O of Object.keys(n(this,d,"f")))this.reset(O)}onDidChange(O,T){if(typeof O!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof O}`);if(typeof T!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof T}`);return this._handleChange(()=>this.get(O),T)}onDidAnyChange(O){if(typeof O!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof O}`);return this._handleChange(()=>this.store,O)}get size(){return Object.keys(this.store).length}get store(){try{const O=p.readFileSync(this.path,n(this,u,"f")?null:"utf8"),T=this._encryptData(O),v=this._deserialize(T);return this._validate(v),Object.assign(H(),v)}catch(O){if((O==null?void 0:O.code)==="ENOENT")return this._ensureDirectory(),H();if(n(this,c,"f").clearInvalidConfig&&O.name==="SyntaxError")return H();throw O}}set store(O){this._ensureDirectory(),this._validate(O),this._write(O),this.events.emit("change")}*[(i=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,Symbol.iterator)](){for(const[O,T]of Object.entries(this.store))yield[O,T]}_encryptData(O){if(!n(this,u,"f"))return O.toString();try{if(n(this,u,"f"))try{if(O.slice(16,17).toString()===":"){const T=O.slice(0,16),v=_.pbkdf2Sync(n(this,u,"f"),T.toString(),1e4,32,"sha512"),m=_.createDecipheriv(V,v,T);O=Buffer.concat([m.update(Buffer.from(O.slice(17))),m.final()]).toString("utf8")}else{const T=_.createDecipher(V,n(this,u,"f"));O=Buffer.concat([T.update(Buffer.from(O)),T.final()]).toString("utf8")}}catch{}}catch{}return O.toString()}_handleChange(O,T){let v=O();const m=()=>{const S=v,$=O();(0,l.isDeepStrictEqual)($,S)||(v=$,T.call(this,$,S))};return this.events.on("change",m),()=>this.events.removeListener("change",m)}_validate(O){if(!n(this,i,"f")||n(this,i,"f").call(this,O)||!n(this,i,"f").errors)return;const v=n(this,i,"f").errors.map(({instancePath:m,message:S=""})=>`\`${m.slice(1)}\` ${S}`);throw new Error("Config schema violation: "+v.join("; "))}_ensureDirectory(){p.mkdirSync(P.dirname(this.path),{recursive:!0})}_write(O){let T=this._serialize(O);if(n(this,u,"f")){const v=_.randomBytes(16),m=_.pbkdf2Sync(n(this,u,"f"),v.toString(),1e4,32,"sha512"),S=_.createCipheriv(V,m,v);T=Buffer.concat([v,Buffer.from(":"),S.update(Buffer.from(T)),S.final()])}if(process.env.SNAP)p.writeFileSync(this.path,T,{mode:n(this,c,"f").configFileMode});else try{N.writeFileSync(this.path,T,{mode:n(this,c,"f").configFileMode})}catch(v){if((v==null?void 0:v.code)==="EXDEV"){p.writeFileSync(this.path,T,{mode:n(this,c,"f").configFileMode});return}throw v}}_watch(){this._ensureDirectory(),p.existsSync(this.path)||this._write(H()),process.platform==="win32"?p.watch(this.path,{persistent:!1},z(()=>{this.events.emit("change")},{wait:100})):p.watchFile(this.path,{persistent:!1},z(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(O,T,v){let m=this._get(k,"0.0.0");const S=Object.keys(O).filter(o=>this._shouldPerformMigration(o,m,T));let $={...this.store};for(const o of S)try{v&&v(this,{fromVersion:m,toVersion:o,finalVersion:T,versions:S});const f=O[o];f(this),this._set(k,o),m=o,$={...this.store}}catch(f){throw this.store=$,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${f}`)}(this._isVersionInRangeFormat(m)||!W.eq(m,T))&&this._set(k,T)}_containsReservedKey(O){return typeof O=="object"&&Object.keys(O)[0]===C?!0:typeof O!="string"?!1:n(this,c,"f").accessPropertiesByDotNotation?!!O.startsWith(`${C}.`):!1}_isVersionInRangeFormat(O){return W.clean(O)===null}_shouldPerformMigration(O,T,v){return this._isVersionInRangeFormat(O)?T!=="0.0.0"&&W.satisfies(T,O)?!1:W.satisfies(v,O):!(W.lte(O,T)||W.gt(O,v))}_get(O,T){return y.get(this.store,O,T)}_set(O,T){const{store:v}=this;y.set(v,O,T),this.store=v}}t.default=U,e.exports=U,e.exports.default=U})(Ns,Ns.exports);var IE=Ns.exports;const pc=pt,{app:In,ipcMain:Ws,ipcRenderer:mc,shell:jE}=ye,AE=IE;let $c=!1;const yc=()=>{if(!Ws||!In)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:In.getPath("userData"),appVersion:In.getVersion()};return $c||(Ws.on("electron-store-get-data",t=>{t.returnValue=e}),$c=!0),e};class kE extends AE{constructor(t){let r,n;if(mc){const s=mc.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=s)}else Ws&&In&&({defaultCwd:r,appVersion:n}=yc());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=pc.isAbsolute(t.cwd)?t.cwd:pc.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){yc()}async openInEditor(){const t=await jE.openPath(this.path);if(t)throw new Error(t)}}var CE=kE;const DE=Vu(CE),Ps=!ye.app.isPackaged,Er=new DE({name:"studyflow-data",defaults:{users:[],plans:[],settings:{theme:"light",language:"tr"}}});let tt=null;function _c(){if(tt=new ye.BrowserWindow({width:1280,height:800,minWidth:1024,minHeight:768,webPreferences:{preload:pt.join(__dirname,"preload.js"),contextIsolation:!0,nodeIntegration:!1},title:"StudyFlow",autoHideMenuBar:!Ps}),Ps)tt.loadURL("http://localhost:3000");else{const{app:e}=require("electron"),t=pt.join(e.getAppPath(),"dist","index.html");tt.loadFile(t)}Ps&&tt.webContents.openDevTools(),tt.webContents.on("did-fail-load",(e,t,r)=>{console.error("Failed to load:",t,r)}),tt.webContents.on("render-process-gone",(e,t)=>{console.error("Render process gone:",t)}),tt.on("closed",()=>{tt=null})}ye.app.whenReady().then(()=>{_c(),ye.app.on("activate",()=>{ye.BrowserWindow.getAllWindows().length===0&&_c()})});ye.app.on("window-all-closed",()=>{process.platform!=="darwin"&&ye.app.quit()});ye.ipcMain.handle("read-file",async(e,t)=>{try{return{success:!0,data:await gc.readFile(t,"utf-8")}}catch(r){return{success:!1,error:r.message}}});ye.ipcMain.handle("write-file",async(e,t,r)=>{try{return await gc.writeFile(t,r,"utf-8"),{success:!0}}catch(n){return{success:!1,error:n.message}}});ye.ipcMain.handle("open-file-dialog",async()=>{try{return{success:!0,data:await ye.dialog.showOpenDialog(tt,{properties:["openFile"],filters:[{name:"JSON Files",extensions:["json"]}]})}}catch(e){return{success:!1,error:e.message}}});ye.ipcMain.handle("save-file-dialog",async(e,t)=>{try{return{success:!0,data:await ye.dialog.showSaveDialog(tt,{defaultPath:t,filters:[{name:"JSON Files",extensions:["json"]}]})}}catch(r){return{success:!1,error:r.message}}});ye.ipcMain.handle("store-get",async(e,t)=>{try{return Er.get(t)}catch(r){console.error("Store get error:",r);return}});ye.ipcMain.handle("store-set",async(e,t,r)=>{try{return Er.set(t,r),!0}catch(n){return console.error("Store set error:",n),!1}});ye.ipcMain.handle("store-delete",async(e,t)=>{try{return Er.delete(t),!0}catch(r){return console.error("Store delete error:",r),!1}});ye.ipcMain.handle("store-has",async(e,t)=>{try{return Er.has(t)}catch(r){return console.error("Store has error:",r),!1}});ye.ipcMain.handle("store-clear",async()=>{try{return Er.clear(),!0}catch(e){return console.error("Store clear error:",e),!1}});ye.ipcMain.handle("store-get-all",async()=>{try{return Er.store}catch(e){return console.error("Store get-all error:",e),{}}});
